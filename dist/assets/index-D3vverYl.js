(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Y1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fd={exports:{}},eo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function X1(){if(l_)return eo;l_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return eo.Fragment=t,eo.jsx=i,eo.jsxs=i,eo}var o_;function $1(){return o_||(o_=1,fd.exports=X1()),fd.exports}var A=$1(),dd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function Z1(){if(u_)return wt;u_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,K={};function z(N,nt,lt){this.props=N,this.context=nt,this.refs=K,this.updater=lt||M}z.prototype.isReactComponent={},z.prototype.setState=function(N,nt){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,nt,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function H(){}H.prototype=z.prototype;function it(N,nt,lt){this.props=N,this.context=nt,this.refs=K,this.updater=lt||M}var W=it.prototype=new H;W.constructor=it,U(W,z.prototype),W.isPureReactComponent=!0;var ut=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},St=Object.prototype.hasOwnProperty;function V(N,nt,lt,rt,gt,xt){return lt=xt.ref,{$$typeof:r,type:N,key:nt,ref:lt!==void 0?lt:null,props:xt}}function R(N,nt){return V(N.type,nt,void 0,void 0,void 0,N.props)}function C(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function O(N){var nt={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(lt){return nt[lt]})}var P=/\/+/g;function j(N,nt){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):nt.toString(36)}function D(){}function Ue(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(nt){N.status==="pending"&&(N.status="fulfilled",N.value=nt)},function(nt){N.status==="pending"&&(N.status="rejected",N.reason=nt)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ae(N,nt,lt,rt,gt){var xt=typeof N;(xt==="undefined"||xt==="boolean")&&(N=null);var Tt=!1;if(N===null)Tt=!0;else switch(xt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(N.$$typeof){case r:case t:Tt=!0;break;case E:return Tt=N._init,ae(Tt(N._payload),nt,lt,rt,gt)}}if(Tt)return gt=gt(N),Tt=rt===""?"."+j(N,0):rt,ut(gt)?(lt="",Tt!=null&&(lt=Tt.replace(P,"$&/")+"/"),ae(gt,nt,lt,"",function(Gn){return Gn})):gt!=null&&(C(gt)&&(gt=R(gt,lt+(gt.key==null||N&&N.key===gt.key?"":(""+gt.key).replace(P,"$&/")+"/")+Tt)),nt.push(gt)),1;Tt=0;var xe=rt===""?".":rt+":";if(ut(N))for(var Zt=0;Zt<N.length;Zt++)rt=N[Zt],xt=xe+j(rt,Zt),Tt+=ae(rt,nt,lt,xt,gt);else if(Zt=w(N),typeof Zt=="function")for(N=Zt.call(N),Zt=0;!(rt=N.next()).done;)rt=rt.value,xt=xe+j(rt,Zt++),Tt+=ae(rt,nt,lt,xt,gt);else if(xt==="object"){if(typeof N.then=="function")return ae(Ue(N),nt,lt,rt,gt);throw nt=String(N),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function X(N,nt,lt){if(N==null)return N;var rt=[],gt=0;return ae(N,rt,"","",function(xt){return nt.call(lt,xt,gt++)}),rt}function st(N){if(N._status===-1){var nt=N._result;nt=nt(),nt.then(function(lt){(N._status===0||N._status===-1)&&(N._status=1,N._result=lt)},function(lt){(N._status===0||N._status===-1)&&(N._status=2,N._result=lt)}),N._status===-1&&(N._status=0,N._result=nt)}if(N._status===1)return N._result.default;throw N._result}var mt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function kt(){}return wt.Children={map:X,forEach:function(N,nt,lt){X(N,function(){nt.apply(this,arguments)},lt)},count:function(N){var nt=0;return X(N,function(){nt++}),nt},toArray:function(N){return X(N,function(nt){return nt})||[]},only:function(N){if(!C(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},wt.Component=z,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=it,wt.StrictMode=s,wt.Suspense=g,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,wt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ft.H.useMemoCache(N)}},wt.cache=function(N){return function(){return N.apply(null,arguments)}},wt.cloneElement=function(N,nt,lt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var rt=U({},N.props),gt=N.key,xt=void 0;if(nt!=null)for(Tt in nt.ref!==void 0&&(xt=void 0),nt.key!==void 0&&(gt=""+nt.key),nt)!St.call(nt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&nt.ref===void 0||(rt[Tt]=nt[Tt]);var Tt=arguments.length-2;if(Tt===1)rt.children=lt;else if(1<Tt){for(var xe=Array(Tt),Zt=0;Zt<Tt;Zt++)xe[Zt]=arguments[Zt+2];rt.children=xe}return V(N.type,gt,void 0,void 0,xt,rt)},wt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},wt.createElement=function(N,nt,lt){var rt,gt={},xt=null;if(nt!=null)for(rt in nt.key!==void 0&&(xt=""+nt.key),nt)St.call(nt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=nt[rt]);var Tt=arguments.length-2;if(Tt===1)gt.children=lt;else if(1<Tt){for(var xe=Array(Tt),Zt=0;Zt<Tt;Zt++)xe[Zt]=arguments[Zt+2];gt.children=xe}if(N&&N.defaultProps)for(rt in Tt=N.defaultProps,Tt)gt[rt]===void 0&&(gt[rt]=Tt[rt]);return V(N,xt,void 0,void 0,null,gt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(N){return{$$typeof:m,render:N}},wt.isValidElement=C,wt.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:st}},wt.memo=function(N,nt){return{$$typeof:y,type:N,compare:nt===void 0?null:nt}},wt.startTransition=function(N){var nt=ft.T,lt={};ft.T=lt;try{var rt=N(),gt=ft.S;gt!==null&&gt(lt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(kt,mt)}catch(xt){mt(xt)}finally{ft.T=nt}},wt.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},wt.use=function(N){return ft.H.use(N)},wt.useActionState=function(N,nt,lt){return ft.H.useActionState(N,nt,lt)},wt.useCallback=function(N,nt){return ft.H.useCallback(N,nt)},wt.useContext=function(N){return ft.H.useContext(N)},wt.useDebugValue=function(){},wt.useDeferredValue=function(N,nt){return ft.H.useDeferredValue(N,nt)},wt.useEffect=function(N,nt,lt){var rt=ft.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(N,nt)},wt.useId=function(){return ft.H.useId()},wt.useImperativeHandle=function(N,nt,lt){return ft.H.useImperativeHandle(N,nt,lt)},wt.useInsertionEffect=function(N,nt){return ft.H.useInsertionEffect(N,nt)},wt.useLayoutEffect=function(N,nt){return ft.H.useLayoutEffect(N,nt)},wt.useMemo=function(N,nt){return ft.H.useMemo(N,nt)},wt.useOptimistic=function(N,nt){return ft.H.useOptimistic(N,nt)},wt.useReducer=function(N,nt,lt){return ft.H.useReducer(N,nt,lt)},wt.useRef=function(N){return ft.H.useRef(N)},wt.useState=function(N){return ft.H.useState(N)},wt.useSyncExternalStore=function(N,nt,lt){return ft.H.useSyncExternalStore(N,nt,lt)},wt.useTransition=function(){return ft.H.useTransition()},wt.version="19.1.0",wt}var c_;function rm(){return c_||(c_=1,dd.exports=Z1()),dd.exports}var Y=rm();const wa=Y1(Y);var md={exports:{}},no={},pd={exports:{}},gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function W1(){return h_||(h_=1,function(r){function t(X,st){var mt=X.length;X.push(st);t:for(;0<mt;){var kt=mt-1>>>1,N=X[kt];if(0<l(N,st))X[kt]=st,X[mt]=N,mt=kt;else break t}}function i(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var st=X[0],mt=X.pop();if(mt!==st){X[0]=mt;t:for(var kt=0,N=X.length,nt=N>>>1;kt<nt;){var lt=2*(kt+1)-1,rt=X[lt],gt=lt+1,xt=X[gt];if(0>l(rt,mt))gt<N&&0>l(xt,rt)?(X[kt]=xt,X[gt]=mt,kt=gt):(X[kt]=rt,X[lt]=mt,kt=lt);else if(gt<N&&0>l(xt,mt))X[kt]=xt,X[gt]=mt,kt=gt;else break t}}return st}function l(X,st){var mt=X.sortIndex-st.sortIndex;return mt!==0?mt:X.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,w=3,M=!1,U=!1,K=!1,z=!1,H=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ut(X){for(var st=i(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=X)s(y),st.sortIndex=st.expirationTime,t(g,st);else break;st=i(y)}}function ft(X){if(K=!1,ut(X),!U)if(i(g)!==null)U=!0,St||(St=!0,j());else{var st=i(y);st!==null&&ae(ft,st.startTime-X)}}var St=!1,V=-1,R=5,C=-1;function O(){return z?!0:!(r.unstable_now()-C<R)}function P(){if(z=!1,St){var X=r.unstable_now();C=X;var st=!0;try{t:{U=!1,K&&(K=!1,it(V),V=-1),M=!0;var mt=w;try{e:{for(ut(X),S=i(g);S!==null&&!(S.expirationTime>X&&O());){var kt=S.callback;if(typeof kt=="function"){S.callback=null,w=S.priorityLevel;var N=kt(S.expirationTime<=X);if(X=r.unstable_now(),typeof N=="function"){S.callback=N,ut(X),st=!0;break e}S===i(g)&&s(g),ut(X)}else s(g);S=i(g)}if(S!==null)st=!0;else{var nt=i(y);nt!==null&&ae(ft,nt.startTime-X),st=!1}}break t}finally{S=null,w=mt,M=!1}st=void 0}}finally{st?j():St=!1}}}var j;if(typeof W=="function")j=function(){W(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ue=D.port2;D.port1.onmessage=P,j=function(){Ue.postMessage(null)}}else j=function(){H(P,0)};function ae(X,st){V=H(function(){X(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(X){switch(w){case 1:case 2:case 3:var st=3;break;default:st=w}var mt=w;w=st;try{return X()}finally{w=mt}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(X,st){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var mt=w;w=X;try{return st()}finally{w=mt}},r.unstable_scheduleCallback=function(X,st,mt){var kt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?kt+mt:kt):mt=kt,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=mt+N,X={id:E++,callback:st,priorityLevel:X,startTime:mt,expirationTime:N,sortIndex:-1},mt>kt?(X.sortIndex=mt,t(y,X),i(g)===null&&X===i(y)&&(K?(it(V),V=-1):K=!0,ae(ft,mt-kt))):(X.sortIndex=N,t(g,X),U||M||(U=!0,St||(St=!0,j()))),X},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(X){var st=w;return function(){var mt=w;w=st;try{return X.apply(this,arguments)}finally{w=mt}}}}(gd)),gd}var f_;function J1(){return f_||(f_=1,pd.exports=W1()),pd.exports}var yd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function tA(){if(d_)return Ke;d_=1;var r=rm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(g,y,null,E)},Ke.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Ke.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Ke.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ke.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:M}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Ke.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Ke.requestFormReset=function(g){s.d.r(g)},Ke.unstable_batchedUpdates=function(g,y){return g(y)},Ke.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.1.0",Ke}var m_;function eA(){if(m_)return yd.exports;m_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),yd.exports=tA(),yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function nA(){if(p_)return no;p_=1;var r=J1(),t=rm(),i=eA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===o)return m(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,o=d;break}if(T===o){v=!0,o=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,o=h;break}if(T===o){v=!0,o=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),it=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function Ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case z:return"Profiler";case K:return"StrictMode";case ft:return"Suspense";case St:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case W:return(e.displayName||"Context")+".Provider";case it:return(e._context.displayName||"Context")+".Consumer";case ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:Ue(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return Ue(e(n))}catch{}}return null}var ae=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},kt=[],N=-1;function nt(e){return{current:e}}function lt(e){0>N||(e.current=kt[N],kt[N]=null,N--)}function rt(e,n){N++,kt[N]=e.current,e.current=n}var gt=nt(null),xt=nt(null),Tt=nt(null),xe=nt(null);function Zt(e,n){switch(rt(Tt,n),rt(xt,e),rt(gt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Uy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Uy(n),e=Py(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}lt(gt),rt(gt,e)}function Gn(){lt(gt),lt(xt),lt(Tt)}function Ki(e){e.memoizedState!==null&&rt(xe,e);var n=gt.current,a=Py(n,e.type);n!==a&&(rt(xt,e),rt(gt,a))}function pi(e){xt.current===e&&(lt(gt),lt(xt)),xe.current===e&&(lt(xe),$l._currentValue=mt)}var zr=Object.prototype.hasOwnProperty,Br=r.unstable_scheduleCallback,qr=r.unstable_cancelCallback,Ks=r.unstable_shouldYield,Lo=r.unstable_requestPaint,bn=r.unstable_now,hh=r.unstable_getCurrentPriorityLevel,Ys=r.unstable_ImmediatePriority,Ma=r.unstable_UserBlockingPriority,Hr=r.unstable_NormalPriority,fh=r.unstable_LowPriority,Ua=r.unstable_IdlePriority,Xs=r.log,jo=r.unstable_setDisableYieldValue,se=null,Ht=null;function hn(e){if(typeof Xs=="function"&&jo(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,e)}catch{}}var Ge=Math.clz32?Math.clz32:Fr,ko=Math.log,dh=Math.LN2;function Fr(e){return e>>>=0,e===0?32:31-(ko(e)/dh|0)|0}var Gr=256,Qr=4194304;function jn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pa(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=jn(o):(v&=T,v!==0?h=jn(v):a||(a=T&~e,a!==0&&(h=jn(a))))):(T=o&~d,T!==0?h=jn(T):v!==0?h=jn(v):a||(a=o&~e,a!==0&&(h=jn(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Kr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function $s(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var e=Gr;return Gr<<=1,(Gr&4194048)===0&&(Gr=256),e}function Ws(){var e=Qr;return Qr<<=1,(Qr&62914560)===0&&(Qr=4194304),e}function gi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function yi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Js(e,n,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,x=e.expirationTimes,q=e.hiddenUpdates;for(a=v&~a;0<a;){var $=31-Ge(a),J=1<<$;T[$]=0,x[$]=-1;var F=q[$];if(F!==null)for(q[$]=null,$=0;$<F.length;$++){var G=F[$];G!==null&&(G.lane&=-536870913)}a&=~J}o!==0&&Qn(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function Qn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function tl(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Ge(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function La(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xi(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:e_(e.type))}function zo(e,n){var a=st.p;try{return st.p=e,n()}finally{st.p=a}}var te=Math.random().toString(36).slice(2),Te="__reactFiber$"+te,pe="__reactProps$"+te,Sn="__reactContainer$"+te,el="__reactEvents$"+te,mh="__reactListeners$"+te,$i="__reactHandles$"+te,Bo="__reactResources$"+te,Yr="__reactMarker$"+te;function Zi(e){delete e[Te],delete e[pe],delete e[el],delete e[mh],delete e[$i]}function _i(e){var n=e[Te];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Sn]||a[Te]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=zy(e);e!==null;){if(a=e[Te])return a;e=zy(e)}return n}e=a,a=e.parentNode}return null}function Kn(e){if(e=e[Te]||e[Sn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Yn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Je(e){var n=e[Bo];return n||(n=e[Bo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(e){e[Yr]=!0}var nl=new Set,ja={};function kn(e,n){vi(e,n),vi(e+"Capture",n)}function vi(e,n){for(ja[e]=n,e=0;e<n.length;e++)nl.add(n[e])}var qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},Xr={};function Fo(e){return zr.call(Xr,e)?!0:zr.call(Ho,e)?!1:qo.test(e)?Xr[e]=!0:(Ho[e]=!0,!1)}function Wi(e,n,a){if(Fo(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Xn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Pe(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var $r,Go;function Ei(e){if($r===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);$r=n&&n[1]||"",Go=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+e+Go}var ka=!1;function za(e,n){if(!e||ka)return"";ka=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var F=G}Reflect.construct(e,[],J)}else{try{J.call()}catch(G){F=G}e.call(J.prototype)}}else{try{throw Error()}catch(G){F=G}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var x=v.split(`
`),q=T.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===q.length)for(o=x.length-1,h=q.length-1;1<=o&&0<=h&&x[o]!==q[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==q[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==q[h]){var $=`
`+x[o].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=o&&0<=h);break}}}finally{ka=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ei(a):""}function il(e){switch(e.tag){case 26:case 27:case 5:return Ei(e.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return za(e.type,!1);case 11:return za(e.type.render,!1);case 1:return za(e.type,!0);case 31:return Ei("Activity");default:return""}}function Ba(e){try{var n="";do n+=il(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ph(e){var n=rl(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function qa(e){e._valueTracker||(e._valueTracker=ph(e))}function al(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=rl(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Zr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gh=/[\n"\\]/g;function ge(e){return e.replace(gh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fn(e,n,a,o,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+tn(n)):e.value!==""+tn(n)&&(e.value=""+tn(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Ji(e,v,tn(n)):a!=null?Ji(e,v,tn(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+tn(T):e.removeAttribute("name")}function Wr(e,n,a,o,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+tn(a):"",n=n!=null?""+tn(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ji(e,n,a){n==="number"&&Zr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ti(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Qt(e,n,a){if(n!=null&&(n=""+tn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+tn(a):""}function Jr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(ae(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=tn(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function wn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var ta=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||ta.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function sl(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Qo(e,h,o)}else for(var d in n)n.hasOwnProperty(d)&&Qo(e,d,n[d])}function ll(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_h=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(e){return _h.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ai=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bi=null,Si=null;function ol(e){var n=Kn(e);if(n&&(e=n.stateNode)){var a=e[pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(fn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[pe]||null;if(!h)throw Error(s(90));fn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&al(o)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ti(e,!!a.multiple,n,!1)}}}var $n=!1;function Ko(e,n,a){if($n)return e(n,a);$n=!0;try{var o=e(n);return o}finally{if($n=!1,(bi!==null||Si!==null)&&(zu(),bi&&(n=bi,e=Si,Si=bi=null,ol(n),e)))for(n=0;n<e.length;n++)ol(e[n])}}function ea(e,n){var a=e.stateNode;if(a===null)return null;var o=a[pe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(zn)try{var na={};Object.defineProperty(na,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{Cn=!1}var Zn=null,tr=null,wi=null;function ul(){if(wi)return wi;var e,n=tr,a=n.length,o,h="value"in Zn?Zn.value:Zn.textContent,d=h.length;for(e=0;e<a&&n[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&n[a-o]===h[d-o];o++);return wi=h.slice(e,1<o?1-o:void 0)}function Wn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Jn(){return!0}function cl(){return!1}function De(e){function n(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jn:cl,this.isPropagationStopped=cl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=De(Bt),ia=E({},Bt,{view:0,detail:0}),Yo=De(ia),Ga,Qa,ti,ra=E({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:la,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(Ga=e.screenX-ti.screenX,Qa=e.screenY-ti.screenY):Qa=Ga=0,ti=e),Ga)},movementY:function(e){return"movementY"in e?e.movementY:Qa}}),xn=De(ra),Xo=E({},ra,{dataTransfer:0}),vh=De(Xo),aa=E({},ia,{relatedTarget:0}),Ka=De(aa),hl=E({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ya=De(hl),$o=E({},Bt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xa=De($o),Eh=E({},Bt,{data:0}),fl=De(Eh),sa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Wo[e])?!!n[e]:!1}function la(){return dl}var Jo=E({},ia,{key:function(e){if(e.key){var n=sa[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Wn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:la,charCode:function(e){return e.type==="keypress"?Wn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$a=De(Jo),tu=E({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=De(tu),Ri=E({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:la}),eu=De(Ri),nu=E({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),iu=De(nu),ru=E({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=De(ru),en=E({},Bt,{newState:0,oldState:0}),au=De(en),su=[9,13,27,32],ei=zn&&"CompositionEvent"in window,u=null;zn&&"documentMode"in document&&(u=document.documentMode);var p=zn&&"TextEvent"in window&&!u,_=zn&&(!ei||u&&8<u&&11>=u),b=" ",k=!1;function Q(e,n){switch(e){case"keyup":return su.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function Ae(e,n){switch(e){case"compositionend":return at(n);case"keypress":return n.which!==32?null:(k=!0,b);case"textInput":return e=n.data,e===b&&k?null:e;default:return null}}function Mt(e,n){if(Vt)return e==="compositionend"||!ei&&Q(e,n)?(e=ul(),wi=tr=Zn=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ne[e.type]:n==="textarea"}function Ci(e,n,a,o){bi?Si?Si.push(o):Si=[o]:bi=o,n=Qu(n,"onChange"),0<n.length&&(a=new Fa("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Le=null,ni=null;function pl(e){Ny(e,0)}function lu(e){var n=Yn(e);if(al(n))return e}function Zm(e,n){if(e==="change")return n}var Wm=!1;if(zn){var Th;if(zn){var Ah="oninput"in document;if(!Ah){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),Ah=typeof Jm.oninput=="function"}Th=Ah}else Th=!1;Wm=Th&&(!document.documentMode||9<document.documentMode)}function tp(){Le&&(Le.detachEvent("onpropertychange",ep),ni=Le=null)}function ep(e){if(e.propertyName==="value"&&lu(ni)){var n=[];Ci(n,ni,e,Rn(e)),Ko(pl,n)}}function ST(e,n,a){e==="focusin"?(tp(),Le=n,ni=a,Le.attachEvent("onpropertychange",ep)):e==="focusout"&&tp()}function wT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lu(ni)}function RT(e,n){if(e==="click")return lu(n)}function CT(e,n){if(e==="input"||e==="change")return lu(n)}function xT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:xT;function gl(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!zr.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function np(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ip(e,n){var a=np(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=np(a)}}function rp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?rp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ap(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Zr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Zr(e.document)}return n}function bh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var DT=zn&&"documentMode"in document&&11>=document.documentMode,Wa=null,Sh=null,yl=null,wh=!1;function sp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wh||Wa==null||Wa!==Zr(o)||(o=Wa,"selectionStart"in o&&bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),yl&&gl(yl,o)||(yl=o,o=Qu(Sh,"onSelect"),0<o.length&&(n=new Fa("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Wa)))}function oa(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ja={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},Rh={},lp={};zn&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ua(e){if(Rh[e])return Rh[e];if(!Ja[e])return e;var n=Ja[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in lp)return Rh[e]=n[a];return e}var op=ua("animationend"),up=ua("animationiteration"),cp=ua("animationstart"),NT=ua("transitionrun"),IT=ua("transitionstart"),OT=ua("transitioncancel"),hp=ua("transitionend"),fp=new Map,Ch="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ch.push("scrollEnd");function Bn(e,n){fp.set(e,n),kn(n,[e])}var dp=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var a=dp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ba(n)},dp.set(e,n),n)}return{value:e,source:n,stack:Ba(n)}}var Nn=[],ts=0,xh=0;function ou(){for(var e=ts,n=xh=ts=0;n<e;){var a=Nn[n];Nn[n++]=null;var o=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var d=Nn[n];if(Nn[n++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&mp(a,h,d)}}function uu(e,n,a,o){Nn[ts++]=e,Nn[ts++]=n,Nn[ts++]=a,Nn[ts++]=o,xh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Dh(e,n,a,o){return uu(e,n,a,o),cu(e)}function es(e,n){return uu(e,null,null,n),cu(e)}function mp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-Ge(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),d):null}function cu(e){if(50<ql)throw ql=0,Pf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ns={};function VT(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,a,o){return new VT(e,n,a,o)}function Nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var a=e.alternate;return a===null?(a=mn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function pp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function hu(e,n,a,o,h,d){var v=0;if(o=e,typeof e=="function")Nh(e)&&(v=1);else if(typeof e=="string")v=U1(e,a,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=mn(31,a,n,h),e.elementType=C,e.lanes=d,e;case U:return ca(a.children,h,d,n);case K:v=8,h|=24;break;case z:return e=mn(12,a,n,h|2),e.elementType=z,e.lanes=d,e;case ft:return e=mn(13,a,n,h),e.elementType=ft,e.lanes=d,e;case St:return e=mn(19,a,n,h),e.elementType=St,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:case W:v=10;break t;case it:v=9;break t;case ut:v=11;break t;case V:v=14;break t;case R:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=mn(v,a,n,h),n.elementType=e,n.type=o,n.lanes=d,n}function ca(e,n,a,o){return e=mn(7,e,o,n),e.lanes=a,e}function Ih(e,n,a){return e=mn(6,e,null,n),e.lanes=a,e}function Oh(e,n,a){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var is=[],rs=0,fu=null,du=0,In=[],On=0,ha=null,Di=1,Ni="";function fa(e,n){is[rs++]=du,is[rs++]=fu,fu=e,du=n}function gp(e,n,a){In[On++]=Di,In[On++]=Ni,In[On++]=ha,ha=e;var o=Di;e=Ni;var h=32-Ge(o)-1;o&=~(1<<h),a+=1;var d=32-Ge(n)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Di=1<<32-Ge(n)+h|a<<h|o,Ni=d+e}else Di=1<<d|a<<h|o,Ni=e}function Vh(e){e.return!==null&&(fa(e,1),gp(e,1,0))}function Mh(e){for(;e===fu;)fu=is[--rs],is[rs]=null,du=is[--rs],is[rs]=null;for(;e===ha;)ha=In[--On],In[On]=null,Ni=In[--On],In[On]=null,Di=In[--On],In[On]=null}var nn=null,le=null,zt=!1,da=null,ii=!1,Uh=Error(s(519));function ma(e){var n=Error(s(418,""));throw El(Dn(n,e)),Uh}function yp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Te]=e,n[pe]=o,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<Fl.length;a++)It(Fl[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Wr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),qa(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Jr(n,o.value,o.defaultValue,o.children),qa(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||My(n.textContent,a)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Ku),n=!0):n=!1,n||ma(e)}function _p(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:nn=nn.return}}function _l(e){if(e!==nn)return!1;if(!zt)return _p(e),zt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Wf(e.type,e.memoizedProps)),a=!a),a&&le&&ma(e),_p(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){le=Hn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}le=null}}else n===27?(n=le,gr(e.type)?(e=nd,nd=null,le=e):le=n):le=nn?Hn(e.stateNode.nextSibling):null;return!0}function vl(){le=nn=null,zt=!1}function vp(){var e=da;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),da=null),e}function El(e){da===null?da=[e]:da.push(e)}var Ph=nt(null),pa=null,Ii=null;function er(e,n,a){rt(Ph,n._currentValue),n._currentValue=a}function Oi(e){e._currentValue=Ph.current,lt(Ph)}function Lh(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function jh(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var x=0;x<n.length;x++)if(T.context===n[x]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Lh(d.return,a,e),o||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Lh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Tl(e,n,a,o){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;dn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===xe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push($l):e=[$l])}h=h.return}e!==null&&jh(n,e,a,o),n.flags|=262144}function mu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ga(e){pa=e,Ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return Ep(pa,e)}function pu(e,n){return pa===null&&ga(e),Ep(e,n)}function Ep(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ii===null){if(e===null)throw Error(s(308));Ii=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ii=Ii.next=n;return a}var MT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},UT=r.unstable_scheduleCallback,PT=r.unstable_NormalPriority,Se={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kh(){return{controller:new MT,data:new Map,refCount:0}}function Al(e){e.refCount--,e.refCount===0&&UT(PT,function(){e.controller.abort()})}var bl=null,zh=0,as=0,ss=null;function LT(e,n){if(bl===null){var a=bl=[];zh=0,as=Hf(),ss={status:"pending",value:void 0,then:function(o){a.push(o)}}}return zh++,n.then(Tp,Tp),n}function Tp(){if(--zh===0&&bl!==null){ss!==null&&(ss.status="fulfilled");var e=bl;bl=null,as=0,ss=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function jT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Ap=X.S;X.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&LT(e,n),Ap!==null&&Ap(e,n)};var ya=nt(null);function Bh(){var e=ya.current;return e!==null?e:Wt.pooledCache}function gu(e,n){n===null?rt(ya,ya.current):rt(ya,n.pool)}function bp(){var e=Bh();return e===null?null:{parent:Se._currentValue,pool:e}}var Sl=Error(s(460)),Sp=Error(s(474)),yu=Error(s(542)),qh={then:function(){}};function wp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _u(){}function Rp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(_u,_u),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xp(e),e;default:if(typeof n.status=="string")n.then(_u,_u);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xp(e),e}throw wl=n,Sl}}var wl=null;function Cp(){if(wl===null)throw Error(s(459));var e=wl;return wl=null,e}function xp(e){if(e===Sl||e===yu)throw Error(s(483))}var nr=!1;function Hh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=cu(e),mp(e,null,a),n}return uu(e,o,n,a),cu(e)}function Rl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,tl(e,a)}}function Gh(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Qh=!1;function Cl(){if(Qh){var e=ss;if(e!==null)throw e}}function xl(e,n,a,o){Qh=!1;var h=e.updateQueue;nr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,q=x.next;x.next=null,v===null?d=q:v.next=q,v=x;var $=e.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=q:T.next=q,$.lastBaseUpdate=x))}if(d!==null){var J=h.baseState;v=0,$=q=x=null,T=d;do{var F=T.lane&-536870913,G=F!==T.lane;if(G?(Ut&F)===F:(o&F)===F){F!==0&&F===as&&(Qh=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var vt=e,yt=T;F=n;var Xt=a;switch(yt.tag){case 1:if(vt=yt.payload,typeof vt=="function"){J=vt.call(Xt,J,F);break t}J=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=yt.payload,F=typeof vt=="function"?vt.call(Xt,J,F):vt,F==null)break t;J=E({},J,F);break t;case 2:nr=!0}}F=T.callback,F!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(q=$=G,x=J):$=$.next=G,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);$===null&&(x=J),h.baseState=x,h.firstBaseUpdate=q,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),fr|=v,e.lanes=v,e.memoizedState=J}}function Dp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Np(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Dp(a[e],n)}var ls=nt(null),vu=nt(0);function Ip(e,n){e=ki,rt(vu,e),rt(ls,n),ki=e|n.baseLanes}function Kh(){rt(vu,ki),rt(ls,ls.current)}function Yh(){ki=vu.current,lt(ls),lt(vu)}var ar=0,Rt=null,Kt=null,ye=null,Eu=!1,os=!1,_a=!1,Tu=0,Dl=0,us=null,kT=0;function fe(){throw Error(s(321))}function Xh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!dn(e[a],n[a]))return!1;return!0}function $h(e,n,a,o,h,d){return ar=d,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=e===null||e.memoizedState===null?mg:pg,_a=!1,d=a(o,h),_a=!1,os&&(d=Vp(n,a,o,h)),Op(e),d}function Op(e){X.H=Cu;var n=Kt!==null&&Kt.next!==null;if(ar=0,ye=Kt=Rt=null,Eu=!1,Dl=0,us=null,n)throw Error(s(300));e===null||Ie||(e=e.dependencies,e!==null&&mu(e)&&(Ie=!0))}function Vp(e,n,a,o){Rt=e;var h=0;do{if(os&&(us=null),Dl=0,os=!1,25<=h)throw Error(s(301));if(h+=1,ye=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=QT,d=n(a,o)}while(os);return d}function zT(){var e=X.H,n=e.useState()[0];return n=typeof n.then=="function"?Nl(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function Zh(){var e=Tu!==0;return Tu=0,e}function Wh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Jh(e){if(Eu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Eu=!1}ar=0,ye=Kt=Rt=null,os=!1,Dl=Tu=0,us=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?Rt.memoizedState=ye=e:ye=ye.next=e,ye}function _e(){if(Kt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=ye===null?Rt.memoizedState:ye.next;if(n!==null)ye=n,Kt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ye===null?Rt.memoizedState=ye=e:ye=ye.next=e}return ye}function tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(e){var n=Dl;return Dl+=1,us===null&&(us=[]),e=Rp(us,e,n),n=Rt,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?mg:pg),e}function Au(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Nl(e);if(e.$$typeof===W)return Qe(e)}throw Error(s(438,String(e)))}function ef(e){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=tf(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=O;return n.index++,a}function Vi(e,n){return typeof n=="function"?n(e):n}function bu(e){var n=_e();return nf(n,Kt,e)}function nf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var T=v=null,x=null,q=n,$=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Ut&J)===J:(ar&J)===J){var F=q.revertLane;if(F===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===as&&($=!0);else if((ar&F)===F){q=q.next,F===as&&($=!0);continue}else J={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(T=x=J,v=d):x=x.next=J,Rt.lanes|=F,fr|=F;J=q.action,_a&&a(d,J),d=q.hasEagerState?q.eagerState:a(d,J)}else F={lane:J,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(T=x=F,v=d):x=x.next=F,Rt.lanes|=J,fr|=J;q=q.next}while(q!==null&&q!==n);if(x===null?v=d:x.next=T,!dn(d,e.memoizedState)&&(Ie=!0,$&&(a=ss,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=x,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function rf(e){var n=_e(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);dn(d,n.memoizedState)||(Ie=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function Mp(e,n,a){var o=Rt,h=_e(),d=zt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!dn((Kt||h).memoizedState,a);v&&(h.memoizedState=a,Ie=!0),h=h.queue;var T=Lp.bind(null,o,h,e);if(Il(2048,8,T,[e]),h.getSnapshot!==n||v||ye!==null&&ye.memoizedState.tag&1){if(o.flags|=2048,cs(9,Su(),Pp.bind(null,o,h,a,n),null),Wt===null)throw Error(s(349));d||(ar&124)!==0||Up(o,n,a)}return a}function Up(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=tf(),Rt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Pp(e,n,a,o){n.value=a,n.getSnapshot=o,jp(n)&&kp(e)}function Lp(e,n,a){return a(function(){jp(n)&&kp(e)})}function jp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!dn(e,a)}catch{return!0}}function kp(e){var n=es(e,2);n!==null&&vn(n,e,2)}function af(e){var n=an();if(typeof e=="function"){var a=e;if(e=a(),_a){hn(!0);try{a()}finally{hn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},n}function zp(e,n,a,o){return e.baseState=a,nf(e,Kt,typeof o=="function"?o:Vi)}function BT(e,n,a,o,h){if(Ru(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,Bp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Bp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var d=X.T,v={};X.T=v;try{var T=a(h,o),x=X.S;x!==null&&x(v,T),qp(e,n,T)}catch(q){sf(e,n,q)}finally{X.T=d}}else try{d=a(h,o),qp(e,n,d)}catch(q){sf(e,n,q)}}function qp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Hp(e,n,o)},function(o){return sf(e,n,o)}):Hp(e,n,a)}function Hp(e,n,a){n.status="fulfilled",n.value=a,Fp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Bp(e,a)))}function sf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Fp(n),n=n.next;while(n!==o)}e.action=null}function Fp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Gp(e,n){return n}function Qp(e,n){if(zt){var a=Wt.formState;if(a!==null){t:{var o=Rt;if(zt){if(le){e:{for(var h=le,d=ii;h.nodeType!==8;){if(!d){h=null;break e}if(h=Hn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){le=Hn(h.nextSibling),o=h.data==="F!";break t}}ma(o)}o=!1}o&&(n=a[0])}}return a=an(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:n},a.queue=o,a=hg.bind(null,Rt,o),o.dispatch=a,o=af(!1),d=hf.bind(null,Rt,!1,o.queue),o=an(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=BT.bind(null,Rt,h,d,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Kp(e){var n=_e();return Yp(n,Kt,e)}function Yp(e,n,a){if(n=nf(e,n,Gp)[0],e=bu(Vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Nl(n)}catch(v){throw v===Sl?yu:v}else o=n;n=_e();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,cs(9,Su(),qT.bind(null,h,a),null)),[o,d,e]}function qT(e,n){e.action=n}function Xp(e){var n=_e(),a=Kt;if(a!==null)return Yp(n,a,e);_e(),n=n.memoizedState,a=_e();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function cs(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=tf(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Su(){return{destroy:void 0,resource:void 0}}function $p(){return _e().memoizedState}function wu(e,n,a,o){var h=an();o=o===void 0?null:o,Rt.flags|=e,h.memoizedState=cs(1|n,Su(),a,o)}function Il(e,n,a,o){var h=_e();o=o===void 0?null:o;var d=h.memoizedState.inst;Kt!==null&&o!==null&&Xh(o,Kt.memoizedState.deps)?h.memoizedState=cs(n,d,a,o):(Rt.flags|=e,h.memoizedState=cs(1|n,d,a,o))}function Zp(e,n){wu(8390656,8,e,n)}function Wp(e,n){Il(2048,8,e,n)}function Jp(e,n){return Il(4,2,e,n)}function tg(e,n){return Il(4,4,e,n)}function eg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ng(e,n,a){a=a!=null?a.concat([e]):null,Il(4,4,eg.bind(null,n,e),a)}function lf(){}function ig(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Xh(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function rg(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Xh(n,o[1]))return o[0];if(o=e(),_a){hn(!0);try{e()}finally{hn(!1)}}return a.memoizedState=[o,n],o}function of(e,n,a){return a===void 0||(ar&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=ly(),Rt.lanes|=e,fr|=e,a)}function ag(e,n,a,o){return dn(a,n)?a:ls.current!==null?(e=of(e,a,o),dn(e,n)||(Ie=!0),e):(ar&42)===0?(Ie=!0,e.memoizedState=a):(e=ly(),Rt.lanes|=e,fr|=e,n)}function sg(e,n,a,o,h){var d=st.p;st.p=d!==0&&8>d?d:8;var v=X.T,T={};X.T=T,hf(e,!1,n,a);try{var x=h(),q=X.S;if(q!==null&&q(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=jT(x,o);Ol(e,n,$,_n(e))}else Ol(e,n,o,_n(e))}catch(J){Ol(e,n,{then:function(){},status:"rejected",reason:J},_n())}finally{st.p=d,X.T=v}}function HT(){}function uf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=lg(e).queue;sg(e,h,n,mt,a===null?HT:function(){return og(e),a(o)})}function lg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:mt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function og(e){var n=lg(e).next.queue;Ol(e,n,{},_n())}function cf(){return Qe($l)}function ug(){return _e().memoizedState}function cg(){return _e().memoizedState}function FT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=_n();e=ir(a);var o=rr(n,e,a);o!==null&&(vn(o,n,a),Rl(o,n,a)),n={cache:kh()},e.payload=n;return}n=n.return}}function GT(e,n,a){var o=_n();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ru(e)?fg(n,a):(a=Dh(e,n,a,o),a!==null&&(vn(a,e,o),dg(a,n,o)))}function hg(e,n,a){var o=_n();Ol(e,n,a,o)}function Ol(e,n,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ru(e))fg(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,v))return uu(e,n,h,0),Wt===null&&ou(),!1}catch{}finally{}if(a=Dh(e,n,h,o),a!==null)return vn(a,e,o),dg(a,n,o),!0}return!1}function hf(e,n,a,o){if(o={lane:2,revertLane:Hf(),action:o,hasEagerState:!1,eagerState:null,next:null},Ru(e)){if(n)throw Error(s(479))}else n=Dh(e,a,o,2),n!==null&&vn(n,e,2)}function Ru(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function fg(e,n){os=Eu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function dg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,tl(e,a)}}var Cu={readContext:Qe,use:Au,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},mg={readContext:Qe,use:Au,useCallback:function(e,n){return an().memoizedState=[e,n===void 0?null:n],e},useContext:Qe,useEffect:Zp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,wu(4194308,4,eg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return wu(4194308,4,e,n)},useInsertionEffect:function(e,n){wu(4,2,e,n)},useMemo:function(e,n){var a=an();n=n===void 0?null:n;var o=e();if(_a){hn(!0);try{e()}finally{hn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=an();if(a!==void 0){var h=a(n);if(_a){hn(!0);try{a(n)}finally{hn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=GT.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=an();return e={current:e},n.memoizedState=e},useState:function(e){e=af(e);var n=e.queue,a=hg.bind(null,Rt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:lf,useDeferredValue:function(e,n){var a=an();return of(a,e,n)},useTransition:function(){var e=af(!1);return e=sg.bind(null,Rt,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Rt,h=an();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(Ut&124)!==0||Up(o,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Zp(Lp.bind(null,o,d,e),[e]),o.flags|=2048,cs(9,Su(),Pp.bind(null,o,d,a,n),null),a},useId:function(){var e=an(),n=Wt.identifierPrefix;if(zt){var a=Ni,o=Di;a=(o&~(1<<32-Ge(o)-1)).toString(32)+a,n="«"+n+"R"+a,a=Tu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=kT++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:cf,useFormState:Qp,useActionState:Qp,useOptimistic:function(e){var n=an();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=hf.bind(null,Rt,!0,a),a.dispatch=n,[e,n]},useMemoCache:ef,useCacheRefresh:function(){return an().memoizedState=FT.bind(null,Rt)}},pg={readContext:Qe,use:Au,useCallback:ig,useContext:Qe,useEffect:Wp,useImperativeHandle:ng,useInsertionEffect:Jp,useLayoutEffect:tg,useMemo:rg,useReducer:bu,useRef:$p,useState:function(){return bu(Vi)},useDebugValue:lf,useDeferredValue:function(e,n){var a=_e();return ag(a,Kt.memoizedState,e,n)},useTransition:function(){var e=bu(Vi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Nl(e),n]},useSyncExternalStore:Mp,useId:ug,useHostTransitionStatus:cf,useFormState:Kp,useActionState:Kp,useOptimistic:function(e,n){var a=_e();return zp(a,Kt,e,n)},useMemoCache:ef,useCacheRefresh:cg},QT={readContext:Qe,use:Au,useCallback:ig,useContext:Qe,useEffect:Wp,useImperativeHandle:ng,useInsertionEffect:Jp,useLayoutEffect:tg,useMemo:rg,useReducer:rf,useRef:$p,useState:function(){return rf(Vi)},useDebugValue:lf,useDeferredValue:function(e,n){var a=_e();return Kt===null?of(a,e,n):ag(a,Kt.memoizedState,e,n)},useTransition:function(){var e=rf(Vi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Nl(e),n]},useSyncExternalStore:Mp,useId:ug,useHostTransitionStatus:cf,useFormState:Xp,useActionState:Xp,useOptimistic:function(e,n){var a=_e();return Kt!==null?zp(a,Kt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ef,useCacheRefresh:cg},hs=null,Vl=0;function xu(e){var n=Vl;return Vl+=1,hs===null&&(hs=[]),Rp(hs,e,n)}function Ml(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Du(e,n){throw n.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function gg(e){var n=e._init;return n(e._payload)}function yg(e){function n(L,I){if(e){var B=L.deletions;B===null?(L.deletions=[I],L.flags|=16):B.push(I)}}function a(L,I){if(!e)return null;for(;I!==null;)n(L,I),I=I.sibling;return null}function o(L){for(var I=new Map;L!==null;)L.key!==null?I.set(L.key,L):I.set(L.index,L),L=L.sibling;return I}function h(L,I){return L=xi(L,I),L.index=0,L.sibling=null,L}function d(L,I,B){return L.index=B,e?(B=L.alternate,B!==null?(B=B.index,B<I?(L.flags|=67108866,I):B):(L.flags|=67108866,I)):(L.flags|=1048576,I)}function v(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,I,B,Z){return I===null||I.tag!==6?(I=Ih(B,L.mode,Z),I.return=L,I):(I=h(I,B),I.return=L,I)}function x(L,I,B,Z){var ht=B.type;return ht===U?$(L,I,B.props.children,Z,B.key):I!==null&&(I.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&gg(ht)===I.type)?(I=h(I,B.props),Ml(I,B),I.return=L,I):(I=hu(B.type,B.key,B.props,null,L.mode,Z),Ml(I,B),I.return=L,I)}function q(L,I,B,Z){return I===null||I.tag!==4||I.stateNode.containerInfo!==B.containerInfo||I.stateNode.implementation!==B.implementation?(I=Oh(B,L.mode,Z),I.return=L,I):(I=h(I,B.children||[]),I.return=L,I)}function $(L,I,B,Z,ht){return I===null||I.tag!==7?(I=ca(B,L.mode,Z,ht),I.return=L,I):(I=h(I,B),I.return=L,I)}function J(L,I,B){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Ih(""+I,L.mode,B),I.return=L,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case w:return B=hu(I.type,I.key,I.props,null,L.mode,B),Ml(B,I),B.return=L,B;case M:return I=Oh(I,L.mode,B),I.return=L,I;case R:var Z=I._init;return I=Z(I._payload),J(L,I,B)}if(ae(I)||j(I))return I=ca(I,L.mode,B,null),I.return=L,I;if(typeof I.then=="function")return J(L,xu(I),B);if(I.$$typeof===W)return J(L,pu(L,I),B);Du(L,I)}return null}function F(L,I,B,Z){var ht=I!==null?I.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ht!==null?null:T(L,I,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return B.key===ht?x(L,I,B,Z):null;case M:return B.key===ht?q(L,I,B,Z):null;case R:return ht=B._init,B=ht(B._payload),F(L,I,B,Z)}if(ae(B)||j(B))return ht!==null?null:$(L,I,B,Z,null);if(typeof B.then=="function")return F(L,I,xu(B),Z);if(B.$$typeof===W)return F(L,I,pu(L,B),Z);Du(L,B)}return null}function G(L,I,B,Z,ht){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,T(I,L,""+Z,ht);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return L=L.get(Z.key===null?B:Z.key)||null,x(I,L,Z,ht);case M:return L=L.get(Z.key===null?B:Z.key)||null,q(I,L,Z,ht);case R:var Dt=Z._init;return Z=Dt(Z._payload),G(L,I,B,Z,ht)}if(ae(Z)||j(Z))return L=L.get(B)||null,$(I,L,Z,ht,null);if(typeof Z.then=="function")return G(L,I,B,xu(Z),ht);if(Z.$$typeof===W)return G(L,I,B,pu(I,Z),ht);Du(I,Z)}return null}function vt(L,I,B,Z){for(var ht=null,Dt=null,dt=I,_t=I=0,Ve=null;dt!==null&&_t<B.length;_t++){dt.index>_t?(Ve=dt,dt=null):Ve=dt.sibling;var jt=F(L,dt,B[_t],Z);if(jt===null){dt===null&&(dt=Ve);break}e&&dt&&jt.alternate===null&&n(L,dt),I=d(jt,I,_t),Dt===null?ht=jt:Dt.sibling=jt,Dt=jt,dt=Ve}if(_t===B.length)return a(L,dt),zt&&fa(L,_t),ht;if(dt===null){for(;_t<B.length;_t++)dt=J(L,B[_t],Z),dt!==null&&(I=d(dt,I,_t),Dt===null?ht=dt:Dt.sibling=dt,Dt=dt);return zt&&fa(L,_t),ht}for(dt=o(dt);_t<B.length;_t++)Ve=G(dt,L,_t,B[_t],Z),Ve!==null&&(e&&Ve.alternate!==null&&dt.delete(Ve.key===null?_t:Ve.key),I=d(Ve,I,_t),Dt===null?ht=Ve:Dt.sibling=Ve,Dt=Ve);return e&&dt.forEach(function(Tr){return n(L,Tr)}),zt&&fa(L,_t),ht}function yt(L,I,B,Z){if(B==null)throw Error(s(151));for(var ht=null,Dt=null,dt=I,_t=I=0,Ve=null,jt=B.next();dt!==null&&!jt.done;_t++,jt=B.next()){dt.index>_t?(Ve=dt,dt=null):Ve=dt.sibling;var Tr=F(L,dt,jt.value,Z);if(Tr===null){dt===null&&(dt=Ve);break}e&&dt&&Tr.alternate===null&&n(L,dt),I=d(Tr,I,_t),Dt===null?ht=Tr:Dt.sibling=Tr,Dt=Tr,dt=Ve}if(jt.done)return a(L,dt),zt&&fa(L,_t),ht;if(dt===null){for(;!jt.done;_t++,jt=B.next())jt=J(L,jt.value,Z),jt!==null&&(I=d(jt,I,_t),Dt===null?ht=jt:Dt.sibling=jt,Dt=jt);return zt&&fa(L,_t),ht}for(dt=o(dt);!jt.done;_t++,jt=B.next())jt=G(dt,L,_t,jt.value,Z),jt!==null&&(e&&jt.alternate!==null&&dt.delete(jt.key===null?_t:jt.key),I=d(jt,I,_t),Dt===null?ht=jt:Dt.sibling=jt,Dt=jt);return e&&dt.forEach(function(K1){return n(L,K1)}),zt&&fa(L,_t),ht}function Xt(L,I,B,Z){if(typeof B=="object"&&B!==null&&B.type===U&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case w:t:{for(var ht=B.key;I!==null;){if(I.key===ht){if(ht=B.type,ht===U){if(I.tag===7){a(L,I.sibling),Z=h(I,B.props.children),Z.return=L,L=Z;break t}}else if(I.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&gg(ht)===I.type){a(L,I.sibling),Z=h(I,B.props),Ml(Z,B),Z.return=L,L=Z;break t}a(L,I);break}else n(L,I);I=I.sibling}B.type===U?(Z=ca(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=hu(B.type,B.key,B.props,null,L.mode,Z),Ml(Z,B),Z.return=L,L=Z)}return v(L);case M:t:{for(ht=B.key;I!==null;){if(I.key===ht)if(I.tag===4&&I.stateNode.containerInfo===B.containerInfo&&I.stateNode.implementation===B.implementation){a(L,I.sibling),Z=h(I,B.children||[]),Z.return=L,L=Z;break t}else{a(L,I);break}else n(L,I);I=I.sibling}Z=Oh(B,L.mode,Z),Z.return=L,L=Z}return v(L);case R:return ht=B._init,B=ht(B._payload),Xt(L,I,B,Z)}if(ae(B))return vt(L,I,B,Z);if(j(B)){if(ht=j(B),typeof ht!="function")throw Error(s(150));return B=ht.call(B),yt(L,I,B,Z)}if(typeof B.then=="function")return Xt(L,I,xu(B),Z);if(B.$$typeof===W)return Xt(L,I,pu(L,B),Z);Du(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,I!==null&&I.tag===6?(a(L,I.sibling),Z=h(I,B),Z.return=L,L=Z):(a(L,I),Z=Ih(B,L.mode,Z),Z.return=L,L=Z),v(L)):a(L,I)}return function(L,I,B,Z){try{Vl=0;var ht=Xt(L,I,B,Z);return hs=null,ht}catch(dt){if(dt===Sl||dt===yu)throw dt;var Dt=mn(29,dt,null,L.mode);return Dt.lanes=Z,Dt.return=L,Dt}finally{}}}var fs=yg(!0),_g=yg(!1),Vn=nt(null),ri=null;function sr(e){var n=e.alternate;rt(we,we.current&1),rt(Vn,e),ri===null&&(n===null||ls.current!==null||n.memoizedState!==null)&&(ri=e)}function vg(e){if(e.tag===22){if(rt(we,we.current),rt(Vn,e),ri===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ri=e)}}else lr()}function lr(){rt(we,we.current),rt(Vn,Vn.current)}function Mi(e){lt(Vn),ri===e&&(ri=null),lt(we)}var we=nt(0);function Nu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ed(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ff(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:E({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var df={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=_n(),h=ir(o);h.payload=n,a!=null&&(h.callback=a),n=rr(e,h,o),n!==null&&(vn(n,e,o),Rl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=_n(),h=ir(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=rr(e,h,o),n!==null&&(vn(n,e,o),Rl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=_n(),o=ir(a);o.tag=2,n!=null&&(o.callback=n),n=rr(e,o,a),n!==null&&(vn(n,e,a),Rl(n,e,a))}};function Eg(e,n,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):n.prototype&&n.prototype.isPureReactComponent?!gl(a,o)||!gl(h,d):!0}function Tg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&df.enqueueReplaceState(n,n.state,null)}function va(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Iu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ag(e){Iu(e)}function bg(e){console.error(e)}function Sg(e){Iu(e)}function Ou(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function wg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function mf(e,n,a){return a=ir(a),a.tag=3,a.payload={element:null},a.callback=function(){Ou(e,n)},a}function Rg(e){return e=ir(e),e.tag=3,e}function Cg(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){wg(n,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){wg(n,a,o),typeof h!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function KT(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Tl(n,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return ri===null?jf():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===qh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),zf(e,o,h)),!1;case 22:return a.flags|=65536,o===qh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),zf(e,o,h)),!1}throw Error(s(435,a.tag))}return zf(e,o,h),jf(),!1}if(zt)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Uh&&(e=Error(s(422),{cause:o}),El(Dn(e,a)))):(o!==Uh&&(n=Error(s(423),{cause:o}),El(Dn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,a),h=mf(e.stateNode,o,h),Gh(e,h),oe!==4&&(oe=2)),!1;var d=Error(s(520),{cause:o});if(d=Dn(d,a),Bl===null?Bl=[d]:Bl.push(d),oe!==4&&(oe=2),n===null)return!0;o=Dn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=mf(a.stateNode,o,e),Gh(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(dr===null||!dr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Rg(h),Cg(h,e,a,o),Gh(a,h),!1}a=a.return}while(a!==null);return!1}var xg=Error(s(461)),Ie=!1;function je(e,n,a,o){n.child=e===null?_g(n,null,a,o):fs(n,e.child,a,o)}function Dg(e,n,a,o,h){a=a.render;var d=n.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return ga(n),o=$h(e,n,a,v,d,h),T=Zh(),e!==null&&!Ie?(Wh(e,n,h),Ui(e,n,h)):(zt&&T&&Vh(n),n.flags|=1,je(e,n,o,h),n.child)}function Ng(e,n,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!Nh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Ig(e,n,d,o,h)):(e=hu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Af(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:gl,a(v,o)&&e.ref===n.ref)return Ui(e,n,h)}return n.flags|=1,e=xi(d,o),e.ref=n.ref,e.return=n,n.child=e}function Ig(e,n,a,o,h){if(e!==null){var d=e.memoizedProps;if(gl(d,o)&&e.ref===n.ref)if(Ie=!1,n.pendingProps=o=d,Af(e,h))(e.flags&131072)!==0&&(Ie=!0);else return n.lanes=e.lanes,Ui(e,n,h)}return pf(e,n,a,o,h)}function Og(e,n,a){var o=n.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return Vg(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&gu(n,d!==null?d.cachePool:null),d!==null?Ip(n,d):Kh(),vg(n);else return n.lanes=n.childLanes=536870912,Vg(e,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(gu(n,d.cachePool),Ip(n,d),lr(),n.memoizedState=null):(e!==null&&gu(n,null),Kh(),lr());return je(e,n,h,a),n.child}function Vg(e,n,a,o){var h=Bh();return h=h===null?null:{parent:Se._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&gu(n,null),Kh(),vg(n),e!==null&&Tl(e,n,o,!0),null}function Vu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function pf(e,n,a,o,h){return ga(n),a=$h(e,n,a,o,void 0,h),o=Zh(),e!==null&&!Ie?(Wh(e,n,h),Ui(e,n,h)):(zt&&o&&Vh(n),n.flags|=1,je(e,n,a,h),n.child)}function Mg(e,n,a,o,h,d){return ga(n),n.updateQueue=null,a=Vp(n,o,a,h),Op(e),o=Zh(),e!==null&&!Ie?(Wh(e,n,d),Ui(e,n,d)):(zt&&o&&Vh(n),n.flags|=1,je(e,n,a,d),n.child)}function Ug(e,n,a,o,h){if(ga(n),n.stateNode===null){var d=ns,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qe(v)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=df,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Hh(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qe(v):ns,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ff(n,a,v,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&df.enqueueReplaceState(d,d.state,null),xl(n,o,d,h),Cl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,x=va(a,T);d.props=x;var q=d.context,$=a.contextType;v=ns,typeof $=="object"&&$!==null&&(v=Qe($));var J=a.getDerivedStateFromProps;$=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==v)&&Tg(n,d,o,v),nr=!1;var F=n.memoizedState;d.state=F,xl(n,o,d,h),Cl(),q=n.memoizedState,T||F!==q||nr?(typeof J=="function"&&(ff(n,a,J,o),q=n.memoizedState),(x=nr||Eg(n,a,x,o,F,q,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=q),d.props=o,d.state=q,d.context=v,o=x):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Fh(e,n),v=n.memoizedProps,$=va(a,v),d.props=$,J=n.pendingProps,F=d.context,q=a.contextType,x=ns,typeof q=="object"&&q!==null&&(x=Qe(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||F!==x)&&Tg(n,d,o,x),nr=!1,F=n.memoizedState,d.state=F,xl(n,o,d,h),Cl();var G=n.memoizedState;v!==J||F!==G||nr||e!==null&&e.dependencies!==null&&mu(e.dependencies)?(typeof T=="function"&&(ff(n,a,T,o),G=n.memoizedState),($=nr||Eg(n,a,$,o,F,G,x)||e!==null&&e.dependencies!==null&&mu(e.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,G,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,G,x)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=G),d.props=o,d.state=G,d.context=x,o=$):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Vu(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=fs(n,e.child,null,h),n.child=fs(n,null,a,h)):je(e,n,a,h),n.memoizedState=d.state,e=n.child):e=Ui(e,n,h),e}function Pg(e,n,a,o){return vl(),n.flags|=256,je(e,n,a,o),n.child}var gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yf(e){return{baseLanes:e,cachePool:bp()}}function _f(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Mn),e}function Lg(e,n,a){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?sr(n):lr(),zt){var T=le,x;if(x=T){t:{for(x=T,T=ii;x.nodeType!==8;){if(!T){T=null;break t}if(x=Hn(x.nextSibling),x===null){T=null;break t}}T=x}T!==null?(n.memoizedState={dehydrated:T,treeContext:ha!==null?{id:Di,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},x=mn(18,null,null,0),x.stateNode=T,x.return=n,n.child=x,nn=n,le=null,x=!0):x=!1}x||ma(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return ed(T)?n.lanes=32:n.lanes=536870912,null;Mi(n)}return T=o.children,o=o.fallback,h?(lr(),h=n.mode,T=Mu({mode:"hidden",children:T},h),o=ca(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,h=n.child,h.memoizedState=yf(a),h.childLanes=_f(e,v,a),n.memoizedState=gf,o):(sr(n),vf(n,T))}if(x=e.memoizedState,x!==null&&(T=x.dehydrated,T!==null)){if(d)n.flags&256?(sr(n),n.flags&=-257,n=Ef(e,n,a)):n.memoizedState!==null?(lr(),n.child=e.child,n.flags|=128,n=null):(lr(),h=o.fallback,T=n.mode,o=Mu({mode:"visible",children:o.children},T),h=ca(h,T,a,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,fs(n,e.child,null,a),o=n.child,o.memoizedState=yf(a),o.childLanes=_f(e,v,a),n.memoizedState=gf,n=h);else if(sr(n),ed(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,o=Error(s(419)),o.stack="",o.digest=v,El({value:o,source:null,stack:null}),n=Ef(e,n,a)}else if(Ie||Tl(e,n,a,!1),v=(a&e.childLanes)!==0,Ie||v){if(v=Wt,v!==null&&(o=a&-a,o=(o&42)!==0?1:Yi(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==x.retryLane))throw x.retryLane=o,es(e,o),vn(v,e,o),xg;T.data==="$?"||jf(),n=Ef(e,n,a)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,le=Hn(T.nextSibling),nn=n,zt=!0,da=null,ii=!1,e!==null&&(In[On++]=Di,In[On++]=Ni,In[On++]=ha,Di=e.id,Ni=e.overflow,ha=n),n=vf(n,o.children),n.flags|=4096);return n}return h?(lr(),h=o.fallback,T=n.mode,x=e.child,q=x.sibling,o=xi(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,q!==null?h=xi(q,h):(h=ca(h,T,a,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,T=e.child.memoizedState,T===null?T=yf(a):(x=T.cachePool,x!==null?(q=Se._currentValue,x=x.parent!==q?{parent:q,pool:q}:x):x=bp(),T={baseLanes:T.baseLanes|a,cachePool:x}),h.memoizedState=T,h.childLanes=_f(e,v,a),n.memoizedState=gf,o):(sr(n),a=e.child,e=a.sibling,a=xi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function vf(e,n){return n=Mu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Mu(e,n){return e=mn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ef(e,n,a){return fs(n,e.child,null,a),e=vf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function jg(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Lh(e.return,n,a)}function Tf(e,n,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function kg(e,n,a){var o=n.pendingProps,h=o.revealOrder,d=o.tail;if(je(e,n,o.children,a),o=we.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jg(e,a,n);else if(e.tag===19)jg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(rt(we,o),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Nu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Tf(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Nu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Tf(n,!0,a,null,d);break;case"together":Tf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ui(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),fr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Tl(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=xi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=xi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Af(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&mu(e)))}function YT(e,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),er(n,Se,e.memoizedState.cache),vl();break;case 27:case 5:Ki(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:er(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(sr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Lg(e,n,a):(sr(n),e=Ui(e,n,a),e!==null?e.sibling:null);sr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Tl(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return kg(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(we,we.current),o)break;return null;case 22:case 23:return n.lanes=0,Og(e,n,a);case 24:er(n,Se,e.memoizedState.cache)}return Ui(e,n,a)}function zg(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Af(e,a)&&(n.flags&128)===0)return Ie=!1,YT(e,n,a);Ie=(e.flags&131072)!==0}else Ie=!1,zt&&(n.flags&1048576)!==0&&gp(n,du,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Nh(o)?(e=va(o,e),n.tag=1,n=Ug(null,n,o,e,a)):(n.tag=0,n=pf(null,n,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===ut){n.tag=11,n=Dg(null,n,o,e,a);break t}else if(h===V){n.tag=14,n=Ng(null,n,o,e,a);break t}}throw n=Ue(o)||o,Error(s(306,n,""))}}return n;case 0:return pf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=va(o,n.pendingProps),Ug(e,n,o,h,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var d=n.memoizedState;h=d.element,Fh(e,n),xl(n,o,null,a);var v=n.memoizedState;if(o=v.cache,er(n,Se,o),o!==d.cache&&jh(n,[Se],a,!0),Cl(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Pg(e,n,o,a);break t}else if(o!==h){h=Dn(Error(s(424)),n),El(h),n=Pg(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=Hn(e.firstChild),nn=n,zt=!0,da=null,ii=!0,a=_g(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(vl(),o===h){n=Ui(e,n,a);break t}je(e,n,o,a)}n=n.child}return n;case 26:return Vu(e,n),e===null?(a=Fy(n.type,null,n.pendingProps,null))?n.memoizedState=a:zt||(a=n.type,e=n.pendingProps,o=Yu(Tt.current).createElement(a),o[Te]=n,o[pe]=e,ze(o,a,e),he(o),n.stateNode=o):n.memoizedState=Fy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ki(n),e===null&&zt&&(o=n.stateNode=By(n.type,n.pendingProps,Tt.current),nn=n,ii=!0,h=le,gr(n.type)?(nd=h,le=Hn(o.firstChild)):le=h),je(e,n,n.pendingProps.children,a),Vu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=le)&&(o=A1(o,n.type,n.pendingProps,ii),o!==null?(n.stateNode=o,nn=n,le=Hn(o.firstChild),ii=!1,h=!0):h=!1),h||ma(n)),Ki(n),h=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,Wf(h,d)?o=null:v!==null&&Wf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=$h(e,n,zT,null,null,a),$l._currentValue=h),Vu(e,n),je(e,n,o,a),n.child;case 6:return e===null&&zt&&((e=a=le)&&(a=b1(a,n.pendingProps,ii),a!==null?(n.stateNode=a,nn=n,le=null,e=!0):e=!1),e||ma(n)),null;case 13:return Lg(e,n,a);case 4:return Zt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=fs(n,null,o,a):je(e,n,o,a),n.child;case 11:return Dg(e,n,n.type,n.pendingProps,a);case 7:return je(e,n,n.pendingProps,a),n.child;case 8:return je(e,n,n.pendingProps.children,a),n.child;case 12:return je(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,er(n,n.type,o.value),je(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ga(n),h=Qe(h),o=o(h),n.flags|=1,je(e,n,o,a),n.child;case 14:return Ng(e,n,n.type,n.pendingProps,a);case 15:return Ig(e,n,n.type,n.pendingProps,a);case 19:return kg(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=Mu(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=xi(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Og(e,n,a);case 24:return ga(n),o=Qe(Se),e===null?(h=Bh(),h===null&&(h=Wt,d=kh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:o,cache:h},Hh(n),er(n,Se,h)):((e.lanes&a)!==0&&(Fh(e,n),xl(n,null,null,a),Cl()),h=e.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),er(n,Se,o)):(o=d.cache,er(n,Se,o),o!==h.cache&&jh(n,[Se],a,!0))),je(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Pi(e){e.flags|=4}function Bg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Xy(n)){if(n=Vn.current,n!==null&&((Ut&4194048)===Ut?ri!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==ri))throw wl=qh,Sp;e.flags|=8192}}function Uu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ws():536870912,e.lanes|=n,gs|=n)}function Ul(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function XT(e,n,a){var o=n.pendingProps;switch(Mh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Oi(Se),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_l(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vp())),ne(n),null;case 26:return a=n.memoizedState,e===null?(Pi(n),a!==null?(ne(n),Bg(n,a)):(ne(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Pi(n),ne(n),Bg(n,a)):(ne(n),n.flags&=-16777217):(e.memoizedProps!==o&&Pi(n),ne(n),n.flags&=-16777217),null;case 27:pi(n),a=Tt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}e=gt.current,_l(n)?yp(n):(e=By(h,o,a),n.stateNode=e,Pi(n))}return ne(n),null;case 5:if(pi(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(e=gt.current,_l(n))yp(n);else{switch(h=Yu(Tt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Te]=n,e[pe]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(ze(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pi(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=Tt.current,_l(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Te]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||My(e.nodeValue,a)),e||ma(n)}else e=Yu(e).createTextNode(o),e[Te]=n,n.stateNode=e}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_l(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=n}else vl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=vp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Mi(n),n):(Mi(n),null)}if(Mi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Uu(n,n.updateQueue),ne(n),null;case 4:return Gn(),e===null&&Kf(n.stateNode.containerInfo),ne(n),null;case 10:return Oi(n.type),ne(n),null;case 19:if(lt(we),h=n.memoizedState,h===null)return ne(n),null;if(o=(n.flags&128)!==0,d=h.rendering,d===null)if(o)Ul(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Nu(e),d!==null){for(n.flags|=128,Ul(h,!1),e=d.updateQueue,n.updateQueue=e,Uu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)pp(a,e),a=a.sibling;return rt(we,we.current&1|2),n.child}e=e.sibling}h.tail!==null&&bn()>ju&&(n.flags|=128,o=!0,Ul(h,!1),n.lanes=4194304)}else{if(!o)if(e=Nu(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Uu(n,e),Ul(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!zt)return ne(n),null}else 2*bn()-h.renderingStartTime>ju&&a!==536870912&&(n.flags|=128,o=!0,Ul(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=bn(),n.sibling=null,e=we.current,rt(we,o?e&1|2:e&1),n):(ne(n),null);case 22:case 23:return Mi(n),Yh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&Uu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&lt(ya),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Oi(Se),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function $T(e,n){switch(Mh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Oi(Se),Gn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return pi(n),null;case 13:if(Mi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));vl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return lt(we),null;case 4:return Gn(),null;case 10:return Oi(n.type),null;case 22:case 23:return Mi(n),Yh(),e!==null&&lt(ya),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Oi(Se),null;case 25:return null;default:return null}}function qg(e,n){switch(Mh(n),n.tag){case 3:Oi(Se),Gn();break;case 26:case 27:case 5:pi(n);break;case 4:Gn();break;case 13:Mi(n);break;case 19:lt(we);break;case 10:Oi(n.type);break;case 22:case 23:Mi(n),Yh(),e!==null&&lt(ya);break;case 24:Oi(Se)}}function Pl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(T){$t(n,n.return,T)}}function or(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var x=a,q=T;try{q()}catch($){$t(h,x,$)}}}o=o.next}while(o!==d)}}catch($){$t(n,n.return,$)}}function Hg(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Np(n,a)}catch(o){$t(e,e.return,o)}}}function Fg(e,n,a){a.props=va(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,n,o)}}function Ll(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,n,h)}}function ai(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,n,h)}else a.current=null}function Gg(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function bf(e,n,a){try{var o=e.stateNode;y1(o,e.type,a,n),o[pe]=n}catch(h){$t(e,e.return,h)}}function Qg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gr(e.type)||e.tag===4}function Sf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Qg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ku));else if(o!==4&&(o===27&&gr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(wf(e,n,a),e=e.sibling;e!==null;)wf(e,n,a),e=e.sibling}function Pu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&gr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Pu(e,n,a),e=e.sibling;e!==null;)Pu(e,n,a),e=e.sibling}function Kg(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ze(n,o,a),n[Te]=e,n[pe]=a}catch(d){$t(e,e.return,d)}}var Li=!1,de=!1,Rf=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function ZT(e,n){if(e=e.containerInfo,$f=tc,e=ap(e),bh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,x=-1,q=0,$=0,J=e,F=null;e:for(;;){for(var G;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||o!==0&&J.nodeType!==3||(x=v+o),J.nodeType===3&&(v+=J.nodeValue.length),(G=J.firstChild)!==null;)F=J,J=G;for(;;){if(J===e)break e;if(F===a&&++q===h&&(T=v),F===d&&++$===o&&(x=v),(G=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=G}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zf={focusedElem:e,selectionRange:a},tc=!1,Oe=n;Oe!==null;)if(n=Oe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Oe=e;else for(;Oe!==null;){switch(n=Oe,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var vt=va(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(vt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){$t(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)td(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Oe=e;break}Oe=n.return}}function Xg(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ur(e,a),o&4&&Pl(5,a);break;case 1:if(ur(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=va(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}o&64&&Hg(a),o&512&&Ll(a,a.return);break;case 3:if(ur(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Np(e,n)}catch(v){$t(a,a.return,v)}}break;case 27:n===null&&o&4&&Kg(a);case 26:case 5:ur(e,a),n===null&&o&4&&Gg(a),o&512&&Ll(a,a.return);break;case 12:ur(e,a);break;case 13:ur(e,a),o&4&&Wg(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=s1.bind(null,a),S1(e,a))));break;case 22:if(o=a.memoizedState!==null||Li,!o){n=n!==null&&n.memoizedState!==null||de,h=Li;var d=de;Li=o,(de=n)&&!d?cr(e,a,(a.subtreeFlags&8772)!==0):ur(e,a),Li=h,de=d}break;case 30:break;default:ur(e,a)}}function $g(e){var n=e.alternate;n!==null&&(e.alternate=null,$g(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,sn=!1;function ji(e,n,a){for(a=a.child;a!==null;)Zg(e,n,a),a=a.sibling}function Zg(e,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:de||ai(a,n),ji(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||ai(a,n);var o=ee,h=sn;gr(a.type)&&(ee=a.stateNode,sn=!1),ji(e,n,a),Ql(a.stateNode),ee=o,sn=h;break;case 5:de||ai(a,n);case 6:if(o=ee,h=sn,ee=null,ji(e,n,a),ee=o,sn=h,ee!==null)if(sn)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(d){$t(a,n,d)}else try{ee.removeChild(a.stateNode)}catch(d){$t(a,n,d)}break;case 18:ee!==null&&(sn?(e=ee,ky(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),to(e)):ky(ee,a.stateNode));break;case 4:o=ee,h=sn,ee=a.stateNode.containerInfo,sn=!0,ji(e,n,a),ee=o,sn=h;break;case 0:case 11:case 14:case 15:de||or(2,a,n),de||or(4,a,n),ji(e,n,a);break;case 1:de||(ai(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Fg(a,n,o)),ji(e,n,a);break;case 21:ji(e,n,a);break;case 22:de=(o=de)||a.memoizedState!==null,ji(e,n,a),de=o;break;default:ji(e,n,a)}}function Wg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{to(e)}catch(a){$t(n,n.return,a)}}function WT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Yg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Yg),n;default:throw Error(s(435,e.tag))}}function Cf(e,n){var a=WT(e);n.forEach(function(o){var h=l1.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function pn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(gr(T.type)){ee=T.stateNode,sn=!1;break t}break;case 5:ee=T.stateNode,sn=!1;break t;case 3:case 4:ee=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(ee===null)throw Error(s(160));Zg(d,v,h),ee=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Jg(n,e),n=n.sibling}var qn=null;function Jg(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(n,e),gn(e),o&4&&(or(3,e,e.return),Pl(3,e),or(5,e,e.return));break;case 1:pn(n,e),gn(e),o&512&&(de||a===null||ai(a,a.return)),o&64&&Li&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=qn;if(pn(n,e),gn(e),o&512&&(de||a===null||ai(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Yr]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,o,a),d[Te]=e,he(d),o=d;break t;case"link":var v=Ky("link","href",h).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(o),ze(d,o,a),h.head.appendChild(d);break;case"meta":if(v=Ky("meta","content",h).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(o),ze(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Te]=e,he(d),o=d}e.stateNode=o}else Yy(h,e.type,e.stateNode);else e.stateNode=Qy(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Yy(h,e.type,e.stateNode):Qy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&bf(e,e.memoizedProps,a.memoizedProps)}break;case 27:pn(n,e),gn(e),o&512&&(de||a===null||ai(a,a.return)),a!==null&&o&4&&bf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(pn(n,e),gn(e),o&512&&(de||a===null||ai(a,a.return)),e.flags&32){h=e.stateNode;try{wn(h,"")}catch(G){$t(e,e.return,G)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,bf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Rf=!0);break;case 6:if(pn(n,e),gn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(G){$t(e,e.return,G)}}break;case 3:if(Zu=null,h=qn,qn=Xu(n.containerInfo),pn(n,e),qn=h,gn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{to(n.containerInfo)}catch(G){$t(e,e.return,G)}Rf&&(Rf=!1,ty(e));break;case 4:o=qn,qn=Xu(e.stateNode.containerInfo),pn(n,e),gn(e),qn=o;break;case 12:pn(n,e),gn(e);break;case 13:pn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vf=bn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Cf(e,o)));break;case 22:h=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,q=Li,$=de;if(Li=q||h,de=$||x,pn(n,e),de=$,Li=q,gn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||x||Li||de||Ea(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){x=a=n;try{if(d=x.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=x.stateNode;var J=x.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){$t(x,x.return,G)}}}else if(n.tag===6){if(a===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(G){$t(x,x.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Cf(e,a))));break;case 19:pn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Cf(e,o)));break;case 30:break;case 21:break;default:pn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Qg(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Sf(e);Pu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(wn(v,""),a.flags&=-33);var T=Sf(e);Pu(e,T,v);break;case 3:case 4:var x=a.stateNode.containerInfo,q=Sf(e);wf(e,q,x);break;default:throw Error(s(161))}}catch($){$t(e,e.return,$)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ur(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(e,n.alternate,n),n=n.sibling}function Ea(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:or(4,n,n.return),Ea(n);break;case 1:ai(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Fg(n,n.return,a),Ea(n);break;case 27:Ql(n.stateNode);case 26:case 5:ai(n,n.return),Ea(n);break;case 22:n.memoizedState===null&&Ea(n);break;case 30:Ea(n);break;default:Ea(n)}e=e.sibling}}function cr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:cr(h,d,a),Pl(4,d);break;case 1:if(cr(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){$t(o,o.return,q)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Dp(x[h],T)}catch(q){$t(o,o.return,q)}}a&&v&64&&Hg(d),Ll(d,d.return);break;case 27:Kg(d);case 26:case 5:cr(h,d,a),a&&o===null&&v&4&&Gg(d),Ll(d,d.return);break;case 12:cr(h,d,a);break;case 13:cr(h,d,a),a&&v&4&&Wg(h,d);break;case 22:d.memoizedState===null&&cr(h,d,a),Ll(d,d.return);break;case 30:break;default:cr(h,d,a)}n=n.sibling}}function xf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Al(a))}function Df(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Al(e))}function si(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ey(e,n,a,o),n=n.sibling}function ey(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:si(e,n,a,o),h&2048&&Pl(9,n);break;case 1:si(e,n,a,o);break;case 3:si(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Al(e)));break;case 12:if(h&2048){si(e,n,a,o),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){$t(n,n.return,x)}}else si(e,n,a,o);break;case 13:si(e,n,a,o);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?si(e,n,a,o):jl(e,n):d._visibility&2?si(e,n,a,o):(d._visibility|=2,ds(e,n,a,o,(n.subtreeFlags&10256)!==0)),h&2048&&xf(v,n);break;case 24:si(e,n,a,o),h&2048&&Df(n.alternate,n);break;default:si(e,n,a,o)}}function ds(e,n,a,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,v=n,T=a,x=o,q=v.flags;switch(v.tag){case 0:case 11:case 15:ds(d,v,T,x,h),Pl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?ds(d,v,T,x,h):jl(d,v):($._visibility|=2,ds(d,v,T,x,h)),h&&q&2048&&xf(v.alternate,v);break;case 24:ds(d,v,T,x,h),h&&q&2048&&Df(v.alternate,v);break;default:ds(d,v,T,x,h)}n=n.sibling}}function jl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:jl(a,o),h&2048&&xf(o.alternate,o);break;case 24:jl(a,o),h&2048&&Df(o.alternate,o);break;default:jl(a,o)}n=n.sibling}}var kl=8192;function ms(e){if(e.subtreeFlags&kl)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 26:ms(e),e.flags&kl&&e.memoizedState!==null&&L1(qn,e.memoizedState,e.memoizedProps);break;case 5:ms(e);break;case 3:case 4:var n=qn;qn=Xu(e.stateNode.containerInfo),ms(e),qn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=kl,kl=16777216,ms(e),kl=n):ms(e));break;default:ms(e)}}function iy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function zl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Oe=o,ay(o,e)}iy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ry(e),e=e.sibling}function ry(e){switch(e.tag){case 0:case 11:case 15:zl(e),e.flags&2048&&or(9,e,e.return);break;case 3:zl(e);break;case 12:zl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Lu(e)):zl(e);break;default:zl(e)}}function Lu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Oe=o,ay(o,e)}iy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:or(8,n,n.return),Lu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Lu(n));break;default:Lu(n)}e=e.sibling}}function ay(e,n){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:or(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Al(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Oe=o;else t:for(a=e;Oe!==null;){o=Oe;var h=o.sibling,d=o.return;if($g(o),o===a){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}var JT={getCacheForType:function(e){var n=Qe(Se),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},t1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Wt=null,Nt=null,Ut=0,Gt=0,yn=null,hr=!1,ps=!1,Nf=!1,ki=0,oe=0,fr=0,Ta=0,If=0,Mn=0,gs=0,Bl=null,ln=null,Of=!1,Vf=0,ju=1/0,ku=null,dr=null,ke=0,mr=null,ys=null,_s=0,Mf=0,Uf=null,sy=null,ql=0,Pf=null;function _n(){if((Ft&2)!==0&&Ut!==0)return Ut&-Ut;if(X.T!==null){var e=as;return e!==0?e:Hf()}return Xi()}function ly(){Mn===0&&(Mn=(Ut&536870912)===0||zt?Zs():536870912);var e=Vn.current;return e!==null&&(e.flags|=32),Mn}function vn(e,n,a){(e===Wt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(vs(e,0),pr(e,Ut,Mn,!1)),yi(e,a),((Ft&2)===0||e!==Wt)&&(e===Wt&&((Ft&2)===0&&(Ta|=a),oe===4&&pr(e,Ut,Mn,!1)),li(e))}function oy(e,n,a){if((Ft&6)!==0)throw Error(s(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Kr(e,n),h=o?i1(e,n):kf(e,n,!0),d=o;do{if(h===0){ps&&!o&&pr(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!e1(a)){h=kf(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=e;h=Bl;var x=T.current.memoizedState.isDehydrated;if(x&&(vs(T,v).flags|=256),v=kf(T,v,!1),v!==2){if(Nf&&!x){T.errorRecoveryDisabledLanes|=d,Ta|=d,h=4;break t}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){vs(e,0),pr(e,n,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:pr(o,n,Mn,!hr);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Vf+300-bn(),10<h)){if(pr(o,n,Mn,!hr),Pa(o,0,!0)!==0)break t;o.timeoutHandle=Ly(uy.bind(null,o,a,ln,ku,Of,n,Mn,Ta,gs,hr,d,2,-0,0),h);break t}uy(o,a,ln,ku,Of,n,Mn,Ta,gs,hr,d,0,-0,0)}}break}while(!0);li(e)}function uy(e,n,a,o,h,d,v,T,x,q,$,J,F,G){if(e.timeoutHandle=-1,J=n.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Xl={stylesheets:null,count:0,unsuspend:P1},ny(n),J=j1(),J!==null)){e.cancelPendingCommit=J(gy.bind(null,e,n,d,a,o,h,v,T,x,$,1,F,G)),pr(e,d,v,!q);return}gy(e,n,d,a,o,h,v,T,x)}function e1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pr(e,n,a,o){n&=~If,n&=~Ta,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var d=31-Ge(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&Qn(e,a,n)}function zu(){return(Ft&6)===0?(Hl(0),!1):!0}function Lf(){if(Nt!==null){if(Gt===0)var e=Nt.return;else e=Nt,Ii=pa=null,Jh(e),hs=null,Vl=0,e=Nt;for(;e!==null;)qg(e.alternate,e),e=e.return;Nt=null}}function vs(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,v1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Lf(),Wt=e,Nt=a=xi(e.current,null),Ut=n,Gt=0,yn=null,hr=!1,ps=Kr(e,n),Nf=!1,gs=Mn=If=Ta=fr=oe=0,ln=Bl=null,Of=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ge(o),d=1<<h;n|=e[h],o&=~d}return ki=n,ou(),a}function cy(e,n){Rt=null,X.H=Cu,n===Sl||n===yu?(n=Cp(),Gt=3):n===Sp?(n=Cp(),Gt=4):Gt=n===xg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,Nt===null&&(oe=1,Ou(e,Dn(n,e.current)))}function hy(){var e=X.H;return X.H=Cu,e===null?Cu:e}function fy(){var e=X.A;return X.A=JT,e}function jf(){oe=4,hr||(Ut&4194048)!==Ut&&Vn.current!==null||(ps=!0),(fr&134217727)===0&&(Ta&134217727)===0||Wt===null||pr(Wt,Ut,Mn,!1)}function kf(e,n,a){var o=Ft;Ft|=2;var h=hy(),d=fy();(Wt!==e||Ut!==n)&&(ku=null,vs(e,n)),n=!1;var v=oe;t:do try{if(Gt!==0&&Nt!==null){var T=Nt,x=yn;switch(Gt){case 8:Lf(),v=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var q=Gt;if(Gt=0,yn=null,Es(e,T,x,q),a&&ps){v=0;break t}break;default:q=Gt,Gt=0,yn=null,Es(e,T,x,q)}}n1(),v=oe;break}catch($){cy(e,$)}while(!0);return n&&e.shellSuspendCounter++,Ii=pa=null,Ft=o,X.H=h,X.A=d,Nt===null&&(Wt=null,Ut=0,ou()),v}function n1(){for(;Nt!==null;)dy(Nt)}function i1(e,n){var a=Ft;Ft|=2;var o=hy(),h=fy();Wt!==e||Ut!==n?(ku=null,ju=bn()+500,vs(e,n)):ps=Kr(e,n);t:do try{if(Gt!==0&&Nt!==null){n=Nt;var d=yn;e:switch(Gt){case 1:Gt=0,yn=null,Es(e,n,d,1);break;case 2:case 9:if(wp(d)){Gt=0,yn=null,my(n);break}n=function(){Gt!==2&&Gt!==9||Wt!==e||(Gt=7),li(e)},d.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:wp(d)?(Gt=0,yn=null,my(n)):(Gt=0,yn=null,Es(e,n,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||Xy(v)){Gt=0,yn=null;var x=T.sibling;if(x!==null)Nt=x;else{var q=T.return;q!==null?(Nt=q,Bu(q)):Nt=null}break e}}Gt=0,yn=null,Es(e,n,d,5);break;case 6:Gt=0,yn=null,Es(e,n,d,6);break;case 8:Lf(),oe=6;break t;default:throw Error(s(462))}}r1();break}catch($){cy(e,$)}while(!0);return Ii=pa=null,X.H=o,X.A=h,Ft=a,Nt!==null?0:(Wt=null,Ut=0,ou(),oe)}function r1(){for(;Nt!==null&&!Ks();)dy(Nt)}function dy(e){var n=zg(e.alternate,e,ki);e.memoizedProps=e.pendingProps,n===null?Bu(e):Nt=n}function my(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Mg(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Mg(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Jh(n);default:qg(a,n),n=Nt=pp(n,ki),n=zg(a,n,ki)}e.memoizedProps=e.pendingProps,n===null?Bu(e):Nt=n}function Es(e,n,a,o){Ii=pa=null,Jh(n),hs=null,Vl=0;var h=n.return;try{if(KT(e,h,n,a,Ut)){oe=1,Ou(e,Dn(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;oe=1,Ou(e,Dn(a,e.current)),Nt=null;return}n.flags&32768?(zt||o===1?e=!0:ps||(Ut&536870912)!==0?e=!1:(hr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),py(n,e)):Bu(n)}function Bu(e){var n=e;do{if((n.flags&32768)!==0){py(n,hr);return}e=n.return;var a=XT(n.alternate,n,ki);if(a!==null){Nt=a;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);oe===0&&(oe=5)}function py(e,n){do{var a=$T(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);oe=6,Nt=null}function gy(e,n,a,o,h,d,v,T,x){e.cancelPendingCommit=null;do qu();while(ke!==0);if((Ft&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=xh,Js(e,a,d,v,T,x),e===Wt&&(Nt=Wt=null,Ut=0),ys=n,mr=e,_s=a,Mf=d,Uf=h,sy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,o1(Hr,function(){return Ty(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=X.T,X.T=null,h=st.p,st.p=2,v=Ft,Ft|=4;try{ZT(e,n,a)}finally{Ft=v,st.p=h,X.T=o}}ke=1,yy(),_y(),vy()}}function yy(){if(ke===1){ke=0;var e=mr,n=ys,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var o=st.p;st.p=2;var h=Ft;Ft|=4;try{Jg(n,e);var d=Zf,v=ap(e.containerInfo),T=d.focusedElem,x=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&rp(T.ownerDocument.documentElement,T)){if(x!==null&&bh(T)){var q=x.start,$=x.end;if($===void 0&&($=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min($,T.value.length);else{var J=T.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var G=F.getSelection(),vt=T.textContent.length,yt=Math.min(x.start,vt),Xt=x.end===void 0?yt:Math.min(x.end,vt);!G.extend&&yt>Xt&&(v=Xt,Xt=yt,yt=v);var L=ip(T,yt),I=ip(T,Xt);if(L&&I&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==I.node||G.focusOffset!==I.offset)){var B=J.createRange();B.setStart(L.node,L.offset),G.removeAllRanges(),yt>Xt?(G.addRange(B),G.extend(I.node,I.offset)):(B.setEnd(I.node,I.offset),G.addRange(B))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}tc=!!$f,Zf=$f=null}finally{Ft=h,st.p=o,X.T=a}}e.current=n,ke=2}}function _y(){if(ke===2){ke=0;var e=mr,n=ys,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var o=st.p;st.p=2;var h=Ft;Ft|=4;try{Xg(e,n.alternate,n)}finally{Ft=h,st.p=o,X.T=a}}ke=3}}function vy(){if(ke===4||ke===3){ke=0,Lo();var e=mr,n=ys,a=_s,o=sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,ys=mr=null,Ey(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(dr=null),La(a),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=X.T,h=st.p,st.p=2,X.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{X.T=n,st.p=h}}(_s&3)!==0&&qu(),li(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Pf?ql++:(ql=0,Pf=e):ql=0,Hl(0)}}function Ey(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Al(n)))}function qu(e){return yy(),_y(),vy(),Ty()}function Ty(){if(ke!==5)return!1;var e=mr,n=Mf;Mf=0;var a=La(_s),o=X.T,h=st.p;try{st.p=32>a?32:a,X.T=null,a=Uf,Uf=null;var d=mr,v=_s;if(ke=0,ys=mr=null,_s=0,(Ft&6)!==0)throw Error(s(331));var T=Ft;if(Ft|=4,ry(d.current),ey(d,d.current,v,a),Ft=T,Hl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,d)}catch{}return!0}finally{st.p=h,X.T=o,Ey(e,n)}}function Ay(e,n,a){n=Dn(a,n),n=mf(e.stateNode,n,2),e=rr(e,n,2),e!==null&&(yi(e,2),li(e))}function $t(e,n,a){if(e.tag===3)Ay(e,e,a);else for(;n!==null;){if(n.tag===3){Ay(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(dr===null||!dr.has(o))){e=Dn(a,e),a=Rg(2),o=rr(n,a,2),o!==null&&(Cg(a,o,n,e),yi(o,2),li(o));break}}n=n.return}}function zf(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new t1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Nf=!0,h.add(a),e=a1.bind(null,e,n,a),n.then(e,e))}function a1(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Ut&a)===a&&(oe===4||oe===3&&(Ut&62914560)===Ut&&300>bn()-Vf?(Ft&2)===0&&vs(e,0):If|=a,gs===Ut&&(gs=0)),li(e)}function by(e,n){n===0&&(n=Ws()),e=es(e,n),e!==null&&(yi(e,n),li(e))}function s1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),by(e,a)}function l1(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),by(e,a)}function o1(e,n){return Br(e,n)}var Hu=null,Ts=null,Bf=!1,Fu=!1,qf=!1,Aa=0;function li(e){e!==Ts&&e.next===null&&(Ts===null?Hu=Ts=e:Ts=Ts.next=e),Fu=!0,Bf||(Bf=!0,c1())}function Hl(e,n){if(!qf&&Fu){qf=!0;do for(var a=!1,o=Hu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-Ge(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Cy(o,d))}else d=Ut,d=Pa(o,o===Wt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Kr(o,d)||(a=!0,Cy(o,d));o=o.next}while(a);qf=!1}}function u1(){Sy()}function Sy(){Fu=Bf=!1;var e=0;Aa!==0&&(_1()&&(e=Aa),Aa=0);for(var n=bn(),a=null,o=Hu;o!==null;){var h=o.next,d=wy(o,n);d===0?(o.next=null,a===null?Hu=h:a.next=h,h===null&&(Ts=a)):(a=o,(e!==0||(d&3)!==0)&&(Fu=!0)),o=h}Hl(e)}function wy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ge(d),T=1<<v,x=h[v];x===-1?((T&a)===0||(T&o)!==0)&&(h[v]=$s(T,n)):x<=n&&(e.expiredLanes|=T),d&=~T}if(n=Wt,a=Ut,a=Pa(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&qr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Kr(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&qr(o),La(a)){case 2:case 8:a=Ma;break;case 32:a=Hr;break;case 268435456:a=Ua;break;default:a=Hr}return o=Ry.bind(null,e),a=Br(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&qr(o),e.callbackPriority=2,e.callbackNode=null,2}function Ry(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(qu()&&e.callbackNode!==a)return null;var o=Ut;return o=Pa(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(oy(e,o,n),wy(e,bn()),e.callbackNode!=null&&e.callbackNode===a?Ry.bind(null,e):null)}function Cy(e,n){if(qu())return null;oy(e,n,!0)}function c1(){E1(function(){(Ft&6)!==0?Br(Ys,u1):Sy()})}function Hf(){return Aa===0&&(Aa=Zs()),Aa}function xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ha(""+e)}function Dy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function h1(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var d=xy((h[pe]||null).action),v=o.submitter;v&&(n=(n=v[pe]||null)?xy(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var T=new Fa("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Aa!==0){var x=v?Dy(h,v):new FormData(h);uf(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(T.preventDefault(),x=v?Dy(h,v):new FormData(h),uf(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var Ff=0;Ff<Ch.length;Ff++){var Gf=Ch[Ff],f1=Gf.toLowerCase(),d1=Gf[0].toUpperCase()+Gf.slice(1);Bn(f1,"on"+d1)}Bn(op,"onAnimationEnd"),Bn(up,"onAnimationIteration"),Bn(cp,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(NT,"onTransitionRun"),Bn(IT,"onTransitionStart"),Bn(OT,"onTransitionCancel"),Bn(hp,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function Ny(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var v=o.length-1;0<=v;v--){var T=o[v],x=T.instance,q=T.currentTarget;if(T=T.listener,x!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=q;try{d(h)}catch($){Iu($)}h.currentTarget=null,d=x}else for(v=0;v<o.length;v++){if(T=o[v],x=T.instance,q=T.currentTarget,T=T.listener,x!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=q;try{d(h)}catch($){Iu($)}h.currentTarget=null,d=x}}}}function It(e,n){var a=n[el];a===void 0&&(a=n[el]=new Set);var o=e+"__bubble";a.has(o)||(Iy(n,e,2,!1),a.add(o))}function Qf(e,n,a){var o=0;n&&(o|=4),Iy(a,e,o,n)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function Kf(e){if(!e[Gu]){e[Gu]=!0,nl.forEach(function(a){a!=="selectionchange"&&(m1.has(a)||Qf(a,!1,e),Qf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Gu]||(n[Gu]=!0,Qf("selectionchange",!1,n))}}function Iy(e,n,a,o){switch(e_(n)){case 2:var h=B1;break;case 8:h=q1;break;default:h=ld}a=h.bind(null,n,a,e),h=void 0,!Cn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Yf(e,n,a,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=_i(T),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){o=d=v;continue t}T=T.parentNode}}o=o.return}Ko(function(){var q=d,$=Rn(a),J=[];t:{var F=fp.get(e);if(F!==void 0){var G=Fa,vt=e;switch(e){case"keypress":if(Wn(a)===0)break t;case"keydown":case"keyup":G=$a;break;case"focusin":vt="focus",G=Ka;break;case"focusout":vt="blur",G=Ka;break;case"beforeblur":case"afterblur":G=Ka;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=vh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=eu;break;case op:case up:case cp:G=Ya;break;case hp:G=iu;break;case"scroll":case"scrollend":G=Yo;break;case"wheel":G=Za;break;case"copy":case"cut":case"paste":G=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ml;break;case"toggle":case"beforetoggle":G=au}var yt=(n&4)!==0,Xt=!yt&&(e==="scroll"||e==="scrollend"),L=yt?F!==null?F+"Capture":null:F;yt=[];for(var I=q,B;I!==null;){var Z=I;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=ea(I,L),Z!=null&&yt.push(Gl(I,Z,B))),Xt)break;I=I.return}0<yt.length&&(F=new G(F,vt,null,a,$),J.push({event:F,listeners:yt}))}}if((n&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",F&&a!==Ai&&(vt=a.relatedTarget||a.fromElement)&&(_i(vt)||vt[Sn]))break t;if((G||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,G?(vt=a.relatedTarget||a.toElement,G=q,vt=vt?_i(vt):null,vt!==null&&(Xt=c(vt),yt=vt.tag,vt!==Xt||yt!==5&&yt!==27&&yt!==6)&&(vt=null)):(G=null,vt=q),G!==vt)){if(yt=xn,Z="onMouseLeave",L="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(yt=ml,Z="onPointerLeave",L="onPointerEnter",I="pointer"),Xt=G==null?F:Yn(G),B=vt==null?F:Yn(vt),F=new yt(Z,I+"leave",G,a,$),F.target=Xt,F.relatedTarget=B,Z=null,_i($)===q&&(yt=new yt(L,I+"enter",vt,a,$),yt.target=B,yt.relatedTarget=Xt,Z=yt),Xt=Z,G&&vt)e:{for(yt=G,L=vt,I=0,B=yt;B;B=As(B))I++;for(B=0,Z=L;Z;Z=As(Z))B++;for(;0<I-B;)yt=As(yt),I--;for(;0<B-I;)L=As(L),B--;for(;I--;){if(yt===L||L!==null&&yt===L.alternate)break e;yt=As(yt),L=As(L)}yt=null}else yt=null;G!==null&&Oy(J,F,G,yt,!1),vt!==null&&Xt!==null&&Oy(J,Xt,vt,yt,!0)}}t:{if(F=q?Yn(q):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var ht=Zm;else if(be(F))if(Wm)ht=CT;else{ht=wT;var Dt=ST}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&ll(q.elementType)&&(ht=Zm):ht=RT;if(ht&&(ht=ht(e,q))){Ci(J,ht,a,$);break t}Dt&&Dt(e,F,q),e==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Ji(F,"number",F.value)}switch(Dt=q?Yn(q):window,e){case"focusin":(be(Dt)||Dt.contentEditable==="true")&&(Wa=Dt,Sh=q,yl=null);break;case"focusout":yl=Sh=Wa=null;break;case"mousedown":wh=!0;break;case"contextmenu":case"mouseup":case"dragend":wh=!1,sp(J,a,$);break;case"selectionchange":if(DT)break;case"keydown":case"keyup":sp(J,a,$)}var dt;if(ei)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Vt?Q(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(Vt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Vt&&(dt=ul()):(Zn=$,tr="value"in Zn?Zn.value:Zn.textContent,Vt=!0)),Dt=Qu(q,_t),0<Dt.length&&(_t=new fl(_t,e,null,a,$),J.push({event:_t,listeners:Dt}),dt?_t.data=dt:(dt=at(a),dt!==null&&(_t.data=dt)))),(dt=p?Ae(e,a):Mt(e,a))&&(_t=Qu(q,"onBeforeInput"),0<_t.length&&(Dt=new fl("onBeforeInput","beforeinput",null,a,$),J.push({event:Dt,listeners:_t}),Dt.data=dt)),h1(J,e,q,a,$)}Ny(J,n)})}function Gl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Qu(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ea(e,a),h!=null&&o.unshift(Gl(e,h,d)),h=ea(e,n),h!=null&&o.push(Gl(e,h,d))),e.tag===3)return o;e=e.return}return[]}function As(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Oy(e,n,a,o,h){for(var d=n._reactName,v=[];a!==null&&a!==o;){var T=a,x=T.alternate,q=T.stateNode;if(T=T.tag,x!==null&&x===o)break;T!==5&&T!==26&&T!==27||q===null||(x=q,h?(q=ea(a,d),q!=null&&v.unshift(Gl(a,q,x))):h||(q=ea(a,d),q!=null&&v.push(Gl(a,q,x)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var p1=/\r\n?/g,g1=/\u0000|\uFFFD/g;function Vy(e){return(typeof e=="string"?e:""+e).replace(p1,`
`).replace(g1,"")}function My(e,n){return n=Vy(n),Vy(e)===n}function Ku(){}function Yt(e,n,a,o,h,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||wn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&wn(e,""+o);break;case"className":Xn(e,"class",o);break;case"tabIndex":Xn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(e,a,o);break;case"style":sl(e,o,d);break;case"data":if(n!=="object"){Xn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ha(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Yt(e,n,"name",h.name,h,null),Yt(e,n,"formEncType",h.formEncType,h,null),Yt(e,n,"formMethod",h.formMethod,h,null),Yt(e,n,"formTarget",h.formTarget,h,null)):(Yt(e,n,"encType",h.encType,h,null),Yt(e,n,"method",h.method,h,null),Yt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ha(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Ku);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ha(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":It("beforetoggle",e),It("toggle",e),Wi(e,"popover",o);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Wi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yh.get(a)||a,Wi(e,a,o))}}function Xf(e,n,a,o,h,d){switch(a){case"style":sl(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?wn(e,o):(typeof o=="number"||typeof o=="bigint")&&wn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ja.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Wi(e,a,o)}}}function ze(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(e,n,d,v,a,null)}}h&&Yt(e,n,"srcSet",a.srcSet,a,null),o&&Yt(e,n,"src",a.src,a,null);return;case"input":It("invalid",e);var T=d=v=h=null,x=null,q=null;for(o in a)if(a.hasOwnProperty(o)){var $=a[o];if($!=null)switch(o){case"name":h=$;break;case"type":v=$;break;case"checked":x=$;break;case"defaultChecked":q=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:Yt(e,n,o,$,a,null)}}Wr(e,d,T,x,q,v,h,!1),qa(e);return;case"select":It("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:Yt(e,n,h,T,a,null)}n=d,a=v,e.multiple=!!o,n!=null?Ti(e,!!o,n,!1):a!=null&&Ti(e,!!o,a,!0);return;case"textarea":It("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(e,n,v,T,a,null)}Jr(e,o,h,d),qa(e);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(o=a[x],o!=null))switch(x){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,n,x,o,a,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<Fl.length;o++)It(Fl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(o=a[q],o!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(e,n,q,o,a,null)}return;default:if(ll(n)){for($ in a)a.hasOwnProperty($)&&(o=a[$],o!==void 0&&Xf(e,n,$,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Yt(e,n,T,o,a,null))}function y1(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,x=null,q=null,$=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":x=J;default:o.hasOwnProperty(G)||Yt(e,n,G,null,o,J)}}for(var F in o){var G=o[F];if(J=a[F],o.hasOwnProperty(F)&&(G!=null||J!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":q=G;break;case"defaultChecked":$=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==J&&Yt(e,n,F,G,o,J)}}fn(e,v,T,x,q,$,d,h);return;case"select":G=v=T=F=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":G=x;default:o.hasOwnProperty(d)||Yt(e,n,d,null,o,x)}for(h in o)if(d=o[h],x=a[h],o.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==x&&Yt(e,n,h,d,o,x)}n=T,a=v,o=G,F!=null?Ti(e,!!a,F,!1):!!o!=!!a&&(n!=null?Ti(e,!!a,n,!0):Ti(e,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,n,T,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,n,v,h,o,d)}Qt(e,F,G);return;case"option":for(var vt in a)if(F=a[vt],a.hasOwnProperty(vt)&&F!=null&&!o.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:Yt(e,n,vt,null,o,F)}for(x in o)if(F=o[x],G=a[x],o.hasOwnProperty(x)&&F!==G&&(F!=null||G!=null))switch(x){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Yt(e,n,x,F,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)F=a[yt],a.hasOwnProperty(yt)&&F!=null&&!o.hasOwnProperty(yt)&&Yt(e,n,yt,null,o,F);for(q in o)if(F=o[q],G=a[q],o.hasOwnProperty(q)&&F!==G&&(F!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Yt(e,n,q,F,o,G)}return;default:if(ll(n)){for(var Xt in a)F=a[Xt],a.hasOwnProperty(Xt)&&F!==void 0&&!o.hasOwnProperty(Xt)&&Xf(e,n,Xt,void 0,o,F);for($ in o)F=o[$],G=a[$],!o.hasOwnProperty($)||F===G||F===void 0&&G===void 0||Xf(e,n,$,F,o,G);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!o.hasOwnProperty(L)&&Yt(e,n,L,null,o,F);for(J in o)F=o[J],G=a[J],!o.hasOwnProperty(J)||F===G||F==null&&G==null||Yt(e,n,J,F,o,G)}var $f=null,Zf=null;function Yu(e){return e.nodeType===9?e:e.ownerDocument}function Uy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Wf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jf=null;function _1(){var e=window.event;return e&&e.type==="popstate"?e===Jf?!1:(Jf=e,!0):(Jf=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,v1=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,E1=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(e){return jy.resolve(null).then(e).catch(T1)}:Ly;function T1(e){setTimeout(function(){throw e})}function gr(e){return e==="head"}function ky(e,n){var a=n,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&Ql(v.documentElement),a&2&&Ql(v.body),a&4)for(a=v.head,Ql(a),v=a.firstChild;v;){var T=v.nextSibling,x=v.nodeName;v[Yr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),to(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);to(n)}function td(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":td(a),Zi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function A1(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Yr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function b1(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Hn(e.nextSibling),e===null))return null;return e}function ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function S1(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var nd=null;function zy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function By(e,n,a){switch(n=Yu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ql(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zi(e)}var Un=new Map,qy=new Set;function Xu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zi=st.d;st.d={f:w1,r:R1,D:C1,C:x1,L:D1,m:N1,X:O1,S:I1,M:V1};function w1(){var e=zi.f(),n=zu();return e||n}function R1(e){var n=Kn(e);n!==null&&n.tag===5&&n.type==="form"?og(n):zi.r(e)}var bs=typeof document>"u"?null:document;function Hy(e,n,a){var o=bs;if(o&&typeof n=="string"&&n){var h=ge(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),qy.has(h)||(qy.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ze(n,"link",e),he(n),o.head.appendChild(n)))}}function C1(e){zi.D(e),Hy("dns-prefetch",e,null)}function x1(e,n){zi.C(e,n),Hy("preconnect",e,n)}function D1(e,n,a){zi.L(e,n,a);var o=bs;if(o&&e&&n){var h='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ge(a.imageSizes)+'"]')):h+='[href="'+ge(e)+'"]';var d=h;switch(n){case"style":d=Ss(e);break;case"script":d=ws(e)}Un.has(d)||(e=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Un.set(d,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Kl(d))||n==="script"&&o.querySelector(Yl(d))||(n=o.createElement("link"),ze(n,"link",e),he(n),o.head.appendChild(n)))}}function N1(e,n){zi.m(e,n);var a=bs;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ge(o)+'"][href="'+ge(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ws(e)}if(!Un.has(d)&&(e=E({rel:"modulepreload",href:e},n),Un.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(d)))return}o=a.createElement("link"),ze(o,"link",e),he(o),a.head.appendChild(o)}}}function I1(e,n,a){zi.S(e,n,a);var o=bs;if(o&&e){var h=Je(o).hoistableStyles,d=Ss(e);n=n||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(Kl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Un.get(d))&&id(e,a);var x=v=o.createElement("link");he(x),ze(x,"link",e),x._p=new Promise(function(q,$){x.onload=q,x.onerror=$}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,$u(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function O1(e,n){zi.X(e,n);var a=bs;if(a&&e){var o=Je(a).hoistableScripts,h=ws(e),d=o.get(h);d||(d=a.querySelector(Yl(h)),d||(e=E({src:e,async:!0},n),(n=Un.get(h))&&rd(e,n),d=a.createElement("script"),he(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function V1(e,n){zi.M(e,n);var a=bs;if(a&&e){var o=Je(a).hoistableScripts,h=ws(e),d=o.get(h);d||(d=a.querySelector(Yl(h)),d||(e=E({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&rd(e,n),d=a.createElement("script"),he(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Fy(e,n,a,o){var h=(h=Tt.current)?Xu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ss(a.href),a=Je(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ss(a.href);var d=Je(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Kl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(e,a),d||M1(h,e,a,v.state))),n&&o===null)throw Error(s(528,""));return v}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ws(a),a=Je(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ss(e){return'href="'+ge(e)+'"'}function Kl(e){return'link[rel="stylesheet"]['+e+"]"}function Gy(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function M1(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ze(n,"link",a),he(n),e.head.appendChild(n))}function ws(e){return'[src="'+ge(e)+'"]'}function Yl(e){return"script[async]"+e}function Qy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ge(a.href)+'"]');if(o)return n.instance=o,he(o),o;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),he(o),ze(o,"style",h),$u(o,a.precedence,e),n.instance=o;case"stylesheet":h=Ss(a.href);var d=e.querySelector(Kl(h));if(d)return n.state.loading|=4,n.instance=d,he(d),d;o=Gy(a),(h=Un.get(h))&&id(o,h),d=(e.ownerDocument||e).createElement("link"),he(d);var v=d;return v._p=new Promise(function(T,x){v.onload=T,v.onerror=x}),ze(d,"link",o),n.state.loading|=4,$u(d,a.precedence,e),n.instance=d;case"script":return d=ws(a.src),(h=e.querySelector(Yl(d)))?(n.instance=h,he(h),h):(o=a,(h=Un.get(d))&&(o=E({},a),rd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),he(h),ze(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,$u(o,a.precedence,e));return n.instance}function $u(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Zu=null;function Ky(e,n,a){if(Zu===null){var o=new Map,h=Zu=new Map;h.set(a,o)}else h=Zu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Yr]||d[Te]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function Yy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function U1(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Xl=null;function P1(){}function L1(e,n,a){if(Xl===null)throw Error(s(475));var o=Xl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Ss(a.href),d=e.querySelector(Kl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Wu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,he(d);return}d=e.ownerDocument||e,a=Gy(a),(h=Un.get(h))&&id(a,h),d=d.createElement("link"),he(d);var v=d;v._p=new Promise(function(T,x){v.onload=T,v.onerror=x}),ze(d,"link",a),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Wu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function j1(){if(Xl===null)throw Error(s(475));var e=Xl;return e.stylesheets&&e.count===0&&ad(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&ad(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Wu(){if(this.count--,this.count===0){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ju=null;function ad(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ju=new Map,n.forEach(k1,e),Ju=null,Wu.call(e))}function k1(e,n){if(!(n.state.loading&4)){var a=Ju.get(e);if(a)var o=a.get(null);else{a=new Map,Ju.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=n.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=Wu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var $l={$$typeof:W,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function z1(e,n,a,o,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function $y(e,n,a,o,h,d,v,T,x,q,$,J){return e=new z1(e,n,a,v,T,x,q,J),n=1,d===!0&&(n|=24),d=mn(3,null,null,n),e.current=d,d.stateNode=e,n=kh(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},Hh(d),e}function Zy(e){return e?(e=ns,e):ns}function Wy(e,n,a,o,h,d){h=Zy(h),o.context===null?o.context=h:o.pendingContext=h,o=ir(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=rr(e,o,n),a!==null&&(vn(a,e,n),Rl(a,e,n))}function Jy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function sd(e,n){Jy(e,n),(e=e.alternate)&&Jy(e,n)}function t_(e){if(e.tag===13){var n=es(e,67108864);n!==null&&vn(n,e,67108864),sd(e,67108864)}}var tc=!0;function B1(e,n,a,o){var h=X.T;X.T=null;var d=st.p;try{st.p=2,ld(e,n,a,o)}finally{st.p=d,X.T=h}}function q1(e,n,a,o){var h=X.T;X.T=null;var d=st.p;try{st.p=8,ld(e,n,a,o)}finally{st.p=d,X.T=h}}function ld(e,n,a,o){if(tc){var h=od(o);if(h===null)Yf(e,n,o,ec,a),n_(e,o);else if(F1(h,e,n,a,o))o.stopPropagation();else if(n_(e,o),n&4&&-1<H1.indexOf(e)){for(;h!==null;){var d=Kn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=jn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var x=1<<31-Ge(v);T.entanglements[1]|=x,v&=~x}li(d),(Ft&6)===0&&(ju=bn()+500,Hl(0))}}break;case 13:T=es(d,2),T!==null&&vn(T,d,2),zu(),sd(d,2)}if(d=od(o),d===null&&Yf(e,n,o,ec,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Yf(e,n,o,null,a)}}function od(e){return e=Rn(e),ud(e)}var ec=null;function ud(e){if(ec=null,e=_i(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=f(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ec=e,null}function e_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hh()){case Ys:return 2;case Ma:return 8;case Hr:case fh:return 32;case Ua:return 268435456;default:return 32}default:return 32}}var cd=!1,yr=null,_r=null,vr=null,Zl=new Map,Wl=new Map,Er=[],H1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n_(e,n){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(n.pointerId)}}function Jl(e,n,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Kn(n),n!==null&&t_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function F1(e,n,a,o,h){switch(n){case"focusin":return yr=Jl(yr,e,n,a,o,h),!0;case"dragenter":return _r=Jl(_r,e,n,a,o,h),!0;case"mouseover":return vr=Jl(vr,e,n,a,o,h),!0;case"pointerover":var d=h.pointerId;return Zl.set(d,Jl(Zl.get(d)||null,e,n,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Wl.set(d,Jl(Wl.get(d)||null,e,n,a,o,h)),!0}return!1}function i_(e){var n=_i(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){e.blockedOn=n,zo(e.priority,function(){if(a.tag===13){var o=_n();o=Yi(o);var h=es(a,o);h!==null&&vn(h,a,o),sd(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=od(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ai=o,a.target.dispatchEvent(o),Ai=null}else return n=Kn(a),n!==null&&t_(n),e.blockedOn=a,!1;n.shift()}return!0}function r_(e,n,a){nc(e)&&a.delete(n)}function G1(){cd=!1,yr!==null&&nc(yr)&&(yr=null),_r!==null&&nc(_r)&&(_r=null),vr!==null&&nc(vr)&&(vr=null),Zl.forEach(r_),Wl.forEach(r_)}function ic(e,n){e.blockedOn===n&&(e.blockedOn=null,cd||(cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,G1)))}var rc=null;function a_(e){rc!==e&&(rc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){rc===e&&(rc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(ud(o||a)===null)continue;break}var d=Kn(a);d!==null&&(e.splice(n,3),n-=3,uf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function to(e){function n(x){return ic(x,e)}yr!==null&&ic(yr,e),_r!==null&&ic(_r,e),vr!==null&&ic(vr,e),Zl.forEach(n),Wl.forEach(n);for(var a=0;a<Er.length;a++){var o=Er[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Er.length&&(a=Er[0],a.blockedOn===null);)i_(a),a.blockedOn===null&&Er.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[pe]||null;if(typeof d=="function")v||a_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pe]||null)T=v.formAction;else if(ud(h)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),a_(a)}}}function hd(e){this._internalRoot=e}ac.prototype.render=hd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=_n();Wy(a,o,e,n,null,null)},ac.prototype.unmount=hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Wy(e.current,2,null,e,null,null),zu(),n[Sn]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=Xi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Er.length&&n!==0&&n<Er[a].priority;a++);Er.splice(a,0,e),a===0&&i_(e)}};var s_=t.version;if(s_!=="19.1.0")throw Error(s(527,s_,"19.1.0"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Q1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{se=sc.inject(Q1),Ht=sc}catch{}}return no.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=Ag,d=bg,v=Sg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=$y(e,1,!1,null,null,a,o,h,d,v,T,null),e[Sn]=n.current,Kf(e),new hd(n)},no.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=Ag,v=bg,T=Sg,x=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),n=$y(e,1,!0,n,a??null,o,h,d,v,T,x,q),n.context=Zy(null),a=n.current,o=_n(),o=Yi(o),h=ir(o),h.callback=null,rr(a,h,o),a=o,n.current.lanes=a,yi(n,a),li(n),e[Sn]=n.current,Kf(e),new ac(n)},no.version="19.1.0",no}var g_;function iA(){if(g_)return md.exports;g_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),md.exports=nA(),md.exports}var rA=iA(),io={},y_;function aA(){if(y_)return io;y_=1,Object.defineProperty(io,"__esModule",{value:!0}),io.parse=f,io.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function f(w,M){const U=new c,K=w.length;if(K<2)return U;const z=(M==null?void 0:M.decode)||E;let H=0;do{const it=w.indexOf("=",H);if(it===-1)break;const W=w.indexOf(";",H),ut=W===-1?K:W;if(it>ut){H=w.lastIndexOf(";",it-1)+1;continue}const ft=m(w,H,it),St=g(w,it,ft),V=w.slice(ft,St);if(U[V]===void 0){let R=m(w,it+1,ut),C=g(w,ut,R);const O=z(w.slice(R,C));U[V]=O}H=ut+1}while(H<K);return U}function m(w,M,U){do{const K=w.charCodeAt(M);if(K!==32&&K!==9)return M}while(++M<U);return U}function g(w,M,U){for(;M>U;){const K=w.charCodeAt(--M);if(K!==32&&K!==9)return M+1}return U}function y(w,M,U){const K=(U==null?void 0:U.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const z=K(M);if(!t.test(z))throw new TypeError(`argument val is invalid: ${M}`);let H=w+"="+z;if(!U)return H;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);H+="; Max-Age="+U.maxAge}if(U.domain){if(!i.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);H+="; Domain="+U.domain}if(U.path){if(!s.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);H+="; Path="+U.path}if(U.expires){if(!S(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);H+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(H+="; HttpOnly"),U.secure&&(H+="; Secure"),U.partitioned&&(H+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return H}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function S(w){return l.call(w)==="[object Date]"}return io}aA();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var __="popstate";function sA(r={}){function t(s,l){let{pathname:c,search:f,hash:m}=s.location;return Id("",{pathname:c,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(s,l){return typeof l=="string"?l:_o(l)}return oA(t,i,null,r)}function ie(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function fi(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lA(){return Math.random().toString(36).substring(2,10)}function v_(r,t){return{usr:r.state,key:r.key,idx:t}}function Id(r,t,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?zs(t):t,state:i,key:t&&t.key||s||lA()}}function _o({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function zs(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function oA(r,t,i,s={}){let{window:l=document.defaultView,v5Compat:c=!1}=s,f=l.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let z=E(),H=z==null?null:z-y;y=z,g&&g({action:m,location:K.location,delta:H})}function w(z,H){m="PUSH";let it=Id(K.location,z,H);y=E()+1;let W=v_(it,y),ut=K.createHref(it);try{f.pushState(W,"",ut)}catch(ft){if(ft instanceof DOMException&&ft.name==="DataCloneError")throw ft;l.location.assign(ut)}c&&g&&g({action:m,location:K.location,delta:1})}function M(z,H){m="REPLACE";let it=Id(K.location,z,H);y=E();let W=v_(it,y),ut=K.createHref(it);f.replaceState(W,"",ut),c&&g&&g({action:m,location:K.location,delta:0})}function U(z){let H=l.location.origin!=="null"?l.location.origin:l.location.href,it=typeof z=="string"?z:_o(z);return it=it.replace(/ $/,"%20"),ie(H,`No window.location.(origin|href) available to create URL for href: ${it}`),new URL(it,H)}let K={get action(){return m},get location(){return r(l,f)},listen(z){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(__,S),g=z,()=>{l.removeEventListener(__,S),g=null}},createHref(z){return t(l,z)},createURL:U,encodeLocation(z){let H=U(z);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:w,replace:M,go(z){return f.go(z)}};return K}function qv(r,t,i="/"){return uA(r,t,i,!1)}function uA(r,t,i,s){let l=typeof t=="string"?zs(t):t,c=qi(l.pathname||"/",i);if(c==null)return null;let f=Hv(r);cA(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=TA(c);m=vA(f[g],y,s)}return m}function Hv(r,t=[],i=[],s=""){let l=(c,f,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};g.relativePath.startsWith("/")&&(ie(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Bi([s,g.relativePath]),E=i.concat(g);c.children&&c.children.length>0&&(ie(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Hv(c.children,t,E,y)),!(c.path==null&&!c.index)&&t.push({path:y,score:yA(y,c.index),routesMeta:E})};return r.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,f);else for(let g of Fv(c.path))l(c,f,g)}),t}function Fv(r){let t=r.split("/");if(t.length===0)return[];let[i,...s]=t,l=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let f=Fv(s.join("/")),m=[];return m.push(...f.map(g=>g===""?c:[c,g].join("/"))),l&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function cA(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:_A(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var hA=/^:[\w-]+$/,fA=3,dA=2,mA=1,pA=10,gA=-2,E_=r=>r==="*";function yA(r,t){let i=r.split("/"),s=i.length;return i.some(E_)&&(s+=gA),t&&(s+=dA),i.filter(l=>!E_(l)).reduce((l,c)=>l+(hA.test(c)?fA:c===""?mA:pA),s)}function _A(r,t){return r.length===t.length&&r.slice(0,-1).every((s,l)=>s===t[l])?r[r.length-1]-t[t.length-1]:0}function vA(r,t,i=!1){let{routesMeta:s}=r,l={},c="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=c==="/"?t:t.slice(c.length)||"/",S=wc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=wc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(l,S.params),f.push({params:l,pathname:Bi([c,S.pathname]),pathnameBase:wA(Bi([c,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(c=Bi([c,S.pathnameBase]))}return f}function wc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=EA(r.path,r.caseSensitive,r.end),l=t.match(i);if(!l)return null;let c=l[0],f=c.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},w)=>{if(E==="*"){let U=m[w]||"";f=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const M=m[w];return S&&!M?y[E]=void 0:y[E]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:r}}function EA(r,t=!1,i=!0){fi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function TA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function qi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function AA(r,t="/"){let{pathname:i,search:s="",hash:l=""}=typeof r=="string"?zs(r):r;return{pathname:i?i.startsWith("/")?i:bA(i,t):t,search:RA(s),hash:CA(l)}}function bA(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function _d(r,t,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SA(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Gv(r){let t=SA(r);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function Qv(r,t,i,s=!1){let l;typeof r=="string"?l=zs(r):(l={...r},ie(!l.pathname||!l.pathname.includes("?"),_d("?","pathname","search",l)),ie(!l.pathname||!l.pathname.includes("#"),_d("#","pathname","hash",l)),ie(!l.search||!l.search.includes("#"),_d("#","search","hash",l)));let c=r===""||l.pathname==="",f=c?"/":l.pathname,m;if(f==null)m=i;else{let S=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;l.pathname=w.join("/")}m=S>=0?t[S]:"/"}let g=AA(l,m),y=f&&f!=="/"&&f.endsWith("/"),E=(c||f===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Bi=r=>r.join("/").replace(/\/\/+/g,"/"),wA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),RA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,CA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function xA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Kv=["POST","PUT","PATCH","DELETE"];new Set(Kv);var DA=["GET",...Kv];new Set(DA);var Bs=Y.createContext(null);Bs.displayName="DataRouter";var Hc=Y.createContext(null);Hc.displayName="DataRouterState";var Yv=Y.createContext({isTransitioning:!1});Yv.displayName="ViewTransition";var NA=Y.createContext(new Map);NA.displayName="Fetchers";var IA=Y.createContext(null);IA.displayName="Await";var mi=Y.createContext(null);mi.displayName="Navigation";var Co=Y.createContext(null);Co.displayName="Location";var Qi=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var am=Y.createContext(null);am.displayName="RouteError";function OA(r,{relative:t}={}){ie(xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Y.useContext(mi),{hash:l,pathname:c,search:f}=Do(r,{relative:t}),m=c;return i!=="/"&&(m=c==="/"?i:Bi([i,c])),s.createHref({pathname:m,search:f,hash:l})}function xo(){return Y.useContext(Co)!=null}function Na(){return ie(xo(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Co).location}var Xv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $v(r){Y.useContext(mi).static||Y.useLayoutEffect(r)}function Fc(){let{isDataRoute:r}=Y.useContext(Qi);return r?GA():VA()}function VA(){ie(xo(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(Bs),{basename:t,navigator:i}=Y.useContext(mi),{matches:s}=Y.useContext(Qi),{pathname:l}=Na(),c=JSON.stringify(Gv(s)),f=Y.useRef(!1);return $v(()=>{f.current=!0}),Y.useCallback((g,y={})=>{if(fi(f.current,Xv),!f.current)return;if(typeof g=="number"){i.go(g);return}let E=Qv(g,JSON.parse(c),l,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Bi([t,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[t,i,c,l,r])}Y.createContext(null);function Do(r,{relative:t}={}){let{matches:i}=Y.useContext(Qi),{pathname:s}=Na(),l=JSON.stringify(Gv(i));return Y.useMemo(()=>Qv(r,JSON.parse(l),s,t==="path"),[r,l,s,t])}function MA(r,t){return Zv(r,t)}function Zv(r,t,i,s){var it;ie(xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:c}=Y.useContext(mi),{matches:f}=Y.useContext(Qi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let W=S&&S.path||"";Wv(y,!S||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=Na(),M;if(t){let W=typeof t=="string"?zs(t):t;ie(E==="/"||((it=W.pathname)==null?void 0:it.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),M=W}else M=w;let U=M.pathname||"/",K=U;if(E!=="/"){let W=E.replace(/^\//,"").split("/");K="/"+U.replace(/^\//,"").split("/").slice(W.length).join("/")}let z=!c&&i&&i.matches&&i.matches.length>0?i.matches:qv(r,{pathname:K});fi(S||z!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),fi(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=kA(z&&z.map(W=>Object.assign({},W,{params:Object.assign({},g,W.params),pathname:Bi([E,l.encodeLocation?l.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:Bi([E,l.encodeLocation?l.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),f,i,s);return t&&H?Y.createElement(Co.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},H):H}function UA(){let r=FA(),t=xA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:c},"ErrorBoundary")," or"," ",Y.createElement("code",{style:c},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),i?Y.createElement("pre",{style:l},i):null,f)}var PA=Y.createElement(UA,null),LA=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?Y.createElement(Qi.Provider,{value:this.props.routeContext},Y.createElement(am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jA({routeContext:r,match:t,children:i}){let s=Y.useContext(Bs);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(Qi.Provider,{value:r},i)}function kA(r,t=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let l=r,c=i==null?void 0:i.errors;if(c!=null){let g=l.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);ie(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,m=-1;if(i)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:S}=i,w=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||w){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,E)=>{let S,w=!1,M=null,U=null;i&&(S=c&&y.route.id?c[y.route.id]:void 0,M=y.route.errorElement||PA,f&&(m<0&&E===0?(Wv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,U=null):m===E&&(w=!0,U=y.route.hydrateFallbackElement||null)));let K=t.concat(l.slice(0,E+1)),z=()=>{let H;return S?H=M:w?H=U:y.route.Component?H=Y.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=g,Y.createElement(jA,{match:y,routeContext:{outlet:g,matches:K,isDataRoute:i!=null},children:H})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Y.createElement(LA,{location:i.location,revalidation:i.revalidation,component:M,error:S,children:z(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):z()},null)}function sm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zA(r){let t=Y.useContext(Bs);return ie(t,sm(r)),t}function BA(r){let t=Y.useContext(Hc);return ie(t,sm(r)),t}function qA(r){let t=Y.useContext(Qi);return ie(t,sm(r)),t}function lm(r){let t=qA(r),i=t.matches[t.matches.length-1];return ie(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function HA(){return lm("useRouteId")}function FA(){var s;let r=Y.useContext(am),t=BA("useRouteError"),i=lm("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[i]}function GA(){let{router:r}=zA("useNavigate"),t=lm("useNavigate"),i=Y.useRef(!1);return $v(()=>{i.current=!0}),Y.useCallback(async(l,c={})=>{fi(i.current,Xv),i.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...c}))},[r,t])}var T_={};function Wv(r,t,i){!t&&!T_[r]&&(T_[r]=!0,fi(!1,i))}Y.memo(QA);function QA({routes:r,future:t,state:i}){return Zv(r,void 0,i,t)}function Ar(r){ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KA({basename:r="/",children:t=null,location:i,navigationType:s="POP",navigator:l,static:c=!1}){ie(!xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Y.useMemo(()=>({basename:f,navigator:l,static:c,future:{}}),[f,l,c]);typeof i=="string"&&(i=zs(i));let{pathname:g="/",search:y="",hash:E="",state:S=null,key:w="default"}=i,M=Y.useMemo(()=>{let U=qi(g,f);return U==null?null:{location:{pathname:U,search:y,hash:E,state:S,key:w},navigationType:s}},[f,g,y,E,S,w,s]);return fi(M!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:Y.createElement(mi.Provider,{value:m},Y.createElement(Co.Provider,{children:t,value:M}))}function YA({children:r,location:t}){return MA(Od(r),t)}function Od(r,t=[]){let i=[];return Y.Children.forEach(r,(s,l)=>{if(!Y.isValidElement(s))return;let c=[...t,l];if(s.type===Y.Fragment){i.push.apply(i,Od(s.props.children,c));return}ie(s.type===Ar,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ie(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Od(s.props.children,c)),i.push(f)}),i}var yc="get",_c="application/x-www-form-urlencoded";function Gc(r){return r!=null&&typeof r.tagName=="string"}function XA(r){return Gc(r)&&r.tagName.toLowerCase()==="button"}function $A(r){return Gc(r)&&r.tagName.toLowerCase()==="form"}function ZA(r){return Gc(r)&&r.tagName.toLowerCase()==="input"}function WA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function JA(r,t){return r.button===0&&(!t||t==="_self")&&!WA(r)}var lc=null;function tb(){if(lc===null)try{new FormData(document.createElement("form"),0),lc=!1}catch{lc=!0}return lc}var eb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vd(r){return r!=null&&!eb.has(r)?(fi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_c}"`),null):r}function nb(r,t){let i,s,l,c,f;if($A(r)){let m=r.getAttribute("action");s=m?qi(m,t):null,i=r.getAttribute("method")||yc,l=vd(r.getAttribute("enctype"))||_c,c=new FormData(r)}else if(XA(r)||ZA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?qi(g,t):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||yc,l=vd(r.getAttribute("formenctype"))||vd(m.getAttribute("enctype"))||_c,c=new FormData(m,r),!tb()){let{name:y,type:E,value:S}=r;if(E==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,S)}}else{if(Gc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=yc,s=null,l=_c,f=r}return c&&l==="text/plain"&&(f=c,c=void 0),{action:s,method:i.toLowerCase(),encType:l,formData:c,body:f}}function om(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function ib(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ab(r,t,i){let s=await Promise.all(r.map(async l=>{let c=t.routes[l.route.id];if(c){let f=await ib(c,i);return f.links?f.links():[]}return[]}));return ub(s.flat(1).filter(rb).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function A_(r,t,i,s,l,c){let f=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,m=(g,y)=>{var E;return i[y].pathname!==g.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==g.params["*"]};return c==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):c==="data"?t.filter((g,y)=>{var S;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function sb(r,t,{includeHydrateFallback:i}={}){return lb(r.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function lb(r){return[...new Set(r)]}function ob(r){let t={},i=Object.keys(r).sort();for(let s of i)t[s]=r[s];return t}function ub(r,t){let i=new Set;return new Set(t),r.reduce((s,l)=>{let c=JSON.stringify(ob(l));return i.has(c)||(i.add(c),s.push({key:c,link:l})),s},[])}var cb=new Set([100,101,204,205]);function hb(r,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":t&&qi(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Jv(){let r=Y.useContext(Bs);return om(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function fb(){let r=Y.useContext(Hc);return om(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var um=Y.createContext(void 0);um.displayName="FrameworkContext";function t0(){let r=Y.useContext(um);return om(r,"You must render this element inside a <HydratedRouter> element"),r}function db(r,t){let i=Y.useContext(um),[s,l]=Y.useState(!1),[c,f]=Y.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,w=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=H=>{H.forEach(it=>{f(it.isIntersecting)})},z=new IntersectionObserver(K,{threshold:.5});return w.current&&z.observe(w.current),()=>{z.disconnect()}}},[r]),Y.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let M=()=>{l(!0)},U=()=>{l(!1),f(!1)};return i?r!=="intent"?[c,w,{}]:[c,w,{onFocus:ro(m,M),onBlur:ro(g,U),onMouseEnter:ro(y,M),onMouseLeave:ro(E,U),onTouchStart:ro(S,M)}]:[!1,w,{}]}function ro(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function mb({page:r,...t}){let{router:i}=Jv(),s=Y.useMemo(()=>qv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?Y.createElement(gb,{page:r,matches:s,...t}):null}function pb(r){let{manifest:t,routeModules:i}=t0(),[s,l]=Y.useState([]);return Y.useEffect(()=>{let c=!1;return ab(r,t,i).then(f=>{c||l(f)}),()=>{c=!0}},[r,t,i]),s}function gb({page:r,matches:t,...i}){let s=Na(),{manifest:l,routeModules:c}=t0(),{basename:f}=Jv(),{loaderData:m,matches:g}=fb(),y=Y.useMemo(()=>A_(r,t,g,l,s,"data"),[r,t,g,l,s]),E=Y.useMemo(()=>A_(r,t,g,l,s,"assets"),[r,t,g,l,s]),S=Y.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,K=!1;if(t.forEach(H=>{var W;let it=l.routes[H.route.id];!it||!it.hasLoader||(!y.some(ut=>ut.route.id===H.route.id)&&H.route.id in m&&((W=c[H.route.id])!=null&&W.shouldRevalidate)||it.hasClientLoader?K=!0:U.add(H.route.id))}),U.size===0)return[];let z=hb(r,f);return K&&U.size>0&&z.searchParams.set("_routes",t.filter(H=>U.has(H.route.id)).map(H=>H.route.id).join(",")),[z.pathname+z.search]},[f,m,s,l,y,t,r,c]),w=Y.useMemo(()=>sb(E,l),[E,l]),M=pb(E);return Y.createElement(Y.Fragment,null,S.map(U=>Y.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...i})),w.map(U=>Y.createElement("link",{key:U,rel:"modulepreload",href:U,...i})),M.map(({key:U,link:K})=>Y.createElement("link",{key:U,...K})))}function yb(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var e0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e0&&(window.__reactRouterVersion="7.5.1")}catch{}function _b({basename:r,children:t,window:i}){let s=Y.useRef();s.current==null&&(s.current=sA({window:i,v5Compat:!0}));let l=s.current,[c,f]=Y.useState({action:l.action,location:l.location}),m=Y.useCallback(g=>{Y.startTransition(()=>f(g))},[f]);return Y.useLayoutEffect(()=>l.listen(m),[l,m]),Y.createElement(KA,{basename:r,children:t,location:c.location,navigationType:c.action,navigator:l})}var n0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i0=Y.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:l,reloadDocument:c,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,...w},M){let{basename:U}=Y.useContext(mi),K=typeof y=="string"&&n0.test(y),z,H=!1;if(typeof y=="string"&&K&&(z=y,e0))try{let C=new URL(window.location.href),O=y.startsWith("//")?new URL(C.protocol+y):new URL(y),P=qi(O.pathname,U);O.origin===C.origin&&P!=null?y=P+O.search+O.hash:H=!0}catch{fi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let it=OA(y,{relative:l}),[W,ut,ft]=db(s,w),St=Ab(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:l,viewTransition:S});function V(C){t&&t(C),C.defaultPrevented||St(C)}let R=Y.createElement("a",{...w,...ft,href:z||it,onClick:H||c?t:V,ref:yb(M,ut),target:g,"data-discover":!K&&i==="render"?"true":void 0});return W&&!K?Y.createElement(Y.Fragment,null,R,Y.createElement(mb,{page:it})):R});i0.displayName="Link";var vb=Y.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:l=!1,style:c,to:f,viewTransition:m,children:g,...y},E){let S=Do(f,{relative:y.relative}),w=Na(),M=Y.useContext(Hc),{navigator:U,basename:K}=Y.useContext(mi),z=M!=null&&Cb(S)&&m===!0,H=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,it=w.pathname,W=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;i||(it=it.toLowerCase(),W=W?W.toLowerCase():null,H=H.toLowerCase()),W&&K&&(W=qi(W,K)||W);const ut=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ft=it===H||!l&&it.startsWith(H)&&it.charAt(ut)==="/",St=W!=null&&(W===H||!l&&W.startsWith(H)&&W.charAt(H.length)==="/"),V={isActive:ft,isPending:St,isTransitioning:z},R=ft?t:void 0,C;typeof s=="function"?C=s(V):C=[s,ft?"active":null,St?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(V):c;return Y.createElement(i0,{...y,"aria-current":R,className:C,ref:E,style:O,to:f,viewTransition:m},typeof g=="function"?g(V):g)});vb.displayName="NavLink";var Eb=Y.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:l,state:c,method:f=yc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,...w},M)=>{let U=wb(),K=Rb(m,{relative:y}),z=f.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&n0.test(m),it=W=>{if(g&&g(W),W.defaultPrevented)return;W.preventDefault();let ut=W.nativeEvent.submitter,ft=(ut==null?void 0:ut.getAttribute("formmethod"))||f;U(ut||W.currentTarget,{fetcherKey:t,method:ft,navigate:i,replace:l,state:c,relative:y,preventScrollReset:E,viewTransition:S})};return Y.createElement("form",{ref:M,method:z,action:K,onSubmit:s?g:it,...w,"data-discover":!H&&r==="render"?"true":void 0})});Eb.displayName="Form";function Tb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r0(r){let t=Y.useContext(Bs);return ie(t,Tb(r)),t}function Ab(r,{target:t,replace:i,state:s,preventScrollReset:l,relative:c,viewTransition:f}={}){let m=Fc(),g=Na(),y=Do(r,{relative:c});return Y.useCallback(E=>{if(JA(E,t)){E.preventDefault();let S=i!==void 0?i:_o(g)===_o(y);m(r,{replace:S,state:s,preventScrollReset:l,relative:c,viewTransition:f})}},[g,m,y,i,s,t,r,l,c,f])}var bb=0,Sb=()=>`__${String(++bb)}__`;function wb(){let{router:r}=r0("useSubmit"),{basename:t}=Y.useContext(mi),i=HA();return Y.useCallback(async(s,l={})=>{let{action:c,method:f,encType:m,formData:g,body:y}=nb(s,t);if(l.navigate===!1){let E=l.fetcherKey||Sb();await r.fetch(E,i,l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,i])}function Rb(r,{relative:t}={}){let{basename:i}=Y.useContext(mi),s=Y.useContext(Qi);ie(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),c={...Do(r||".",{relative:t})},f=Na();if(r==null){c.search=f.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Bi([i,c.pathname])),_o(c)}function Cb(r,t={}){let i=Y.useContext(Yv);ie(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=r0("useViewTransitionState"),l=Do(r,{relative:t.relative});if(!i.isTransitioning)return!1;let c=qi(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=qi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return wc(l.pathname,f)!=null||wc(l.pathname,c)!=null}new TextEncoder;[...cb];function oc(r){const t=()=>{var i;switch((i=r.status)==null?void 0:i.toLowerCase()){case"delivered":return"bg-green-500";case"shipped":return"bg-blue-500";case"processing":return"bg-yellow-500";case"cancelled":return"bg-red-500";default:return"bg-gray-500"}};return A.jsxs("article",{className:"card",children:[A.jsx("figure",{className:"card-image-container",children:A.jsx("img",{className:"card-image",alt:"product image",src:r.Img})}),A.jsxs("section",{className:"card-details",children:[A.jsxs("header",{className:"card-header",children:[A.jsx("h2",{className:"card-title",children:r.OrderID}),A.jsx("section",{className:`status-tag ${t()}`,children:r.status||"Pending"})]}),A.jsxs("section",{className:"card-content",children:[A.jsxs("p",{className:"card-date",children:[A.jsx("span",{className:"label",children:"Order Date:"})," ",r.date]}),A.jsx("p",{className:"card-description",children:r.description}),A.jsxs("p",{className:"card-price",children:[A.jsx("span",{className:"label",children:"Price:"})," $",r.price]})]})]})]})}function xb(){const[r,t]=Y.useState(!1);return A.jsxs("nav",{className:"navigation",children:[A.jsx("h1",{children:"Artisan Marketplace"}),A.jsxs("ul",{className:"desktop-menu",children:[A.jsx("li",{children:A.jsx("a",{href:"/buyer",children:"Home"})}),A.jsx("li",{children:A.jsx("a",{href:"/BuyerOrders",children:"Orders"})}),A.jsx("li",{children:A.jsx("a",{href:"/about",children:"About Us"})})]}),A.jsx("button",{className:"mobile-menu-button",onClick:()=>t(!r),children:r?"✕":"☰"}),r&&A.jsxs("ul",{className:"mobile-menu",children:[A.jsx("li",{children:A.jsx("a",{href:"/buyer",children:"Home"})}),A.jsx("li",{children:A.jsx("a",{href:"/BuyerOrders",children:"Orders"})}),A.jsx("li",{children:A.jsx("a",{href:"/about",children:"About Us"})})]})]})}function Db(r){return A.jsxs(A.Fragment,{children:[A.jsx(xb,{}),A.jsx(oc,{description:"This stuff",price:10,date:"03/04/2025",OrderID:"ab123",Img:"/pexels-nietjuhart-776656.jpg"}),A.jsx(oc,{description:"This stuff",price:10650,date:"03/04/2025",OrderID:"ab1234",Img:"/pexels-karolina-grabowska-5706227.jpg"}),A.jsx(oc,{description:"This stuff",price:1600,date:"03/04/2025",OrderID:"ab1235",Img:"/pexels-heftiba-1194397.jpg"}),A.jsx(oc,{description:"This stuff",price:1060,date:"03/04/2025",OrderID:"ab1236",Img:"/pexels-lina-1813503.jpg"})]})}function uc(r){const[t,i]=Y.useState(r.status||""),[s,l]=Y.useState(!1),c=()=>{switch(t==null?void 0:t.toLowerCase()){case"delivered":return"bg-green-500";case"shipped":return"bg-blue-500";case"processing":return"bg-yellow-500";case"cancelled":return"bg-red-500";default:return"bg-gray-500"}},f=g=>{i(g.target.value)},m=()=>{l(!s),s&&console.log(`Status updated to: ${t}`)};return A.jsxs("article",{className:"card",children:[A.jsx("figure",{className:"card-image-container",children:A.jsx("img",{className:"card-image",alt:"product image",src:r.Img})}),A.jsxs("section",{className:"card-details",children:[A.jsxs("header",{className:"card-header",children:[A.jsx("h2",{className:"card-title",children:r.OrderID}),A.jsxs("section",{className:"status-tag",children:[s?A.jsxs("select",{value:t,onChange:f,className:`status-select ${c()}`,children:[A.jsx("option",{value:"",children:"Select status"}),A.jsx("option",{value:"processing",children:"Processing"}),A.jsx("option",{value:"shipped",children:"Shipped"}),A.jsx("option",{value:"delivered",children:"Delivered"}),A.jsx("option",{value:"cancelled",children:"Cancelled"})]}):A.jsx("span",{className:`status-badge ${c()}`,children:t||"Unknown"}),A.jsx("button",{onClick:m,className:"edit-status-btn ml-2 px-2 py-1 bg-blue-600 text-white rounded",children:s?"Save":"Edit Status"})]})]}),A.jsxs("section",{className:"card-content",children:[A.jsxs("p",{className:"card-date",children:[A.jsx("span",{className:"label",children:"Order Date:"})," ",r.date]}),A.jsx("p",{className:"card-description",children:r.description}),A.jsxs("p",{className:"card-price",children:[A.jsx("span",{className:"label",children:"Price:"})," $",r.price]})]})]})]})}function Qc(){const[r,t]=Y.useState(!1);return A.jsxs("nav",{className:"navigation",children:[A.jsx("h1",{children:"Artisan Marketplace"}),A.jsxs("ul",{className:"desktop-menu",children:[A.jsx("li",{children:A.jsx("a",{href:"/",children:"Home"})}),A.jsx("li",{children:A.jsx("a",{href:"/manage",children:"Manage Store"})}),A.jsx("li",{children:A.jsx("a",{href:"/sellerOrders",children:"Orders"})}),A.jsx("li",{children:A.jsx("a",{href:"/about",children:"About Us"})})]}),A.jsx("button",{className:"mobile-menu-button",onClick:()=>t(!r),children:r?"✕":"☰"}),r&&A.jsxs("ul",{className:"mobile-menu",children:[A.jsx("li",{children:A.jsx("a",{href:"/",children:"Home"})}),A.jsx("li",{children:A.jsx("a",{href:"/manage",children:"Manage Store"})}),A.jsx("li",{children:A.jsx("a",{href:"/sellerOrders",children:"Orders"})}),A.jsx("li",{children:A.jsx("a",{href:"/about",children:"About Us"})})]})]})}function Nb(r){return A.jsxs(A.Fragment,{children:[A.jsx(Qc,{}),A.jsx(uc,{description:"This stuff",price:100,date:"03/04/2025",OrderID:"ab123",Img:"/pexels-nietjuhart-776656.jpg"}),A.jsx(uc,{description:"This stuff",price:10650,date:"03/04/2025",OrderID:"ab1234",Img:"/pexels-karolina-grabowska-5706227.jpg"}),A.jsx(uc,{description:"This stuff",price:1600,date:"03/04/2025",OrderID:"ab1235",Img:"/pexels-heftiba-1194397.jpg"}),A.jsx(uc,{description:"This stuff",price:1060,date:"03/04/2025",OrderID:"ab1236",Img:"/pexels-lina-1813503.jpg"})]})}function Ib(){return A.jsxs(A.Fragment,{children:[A.jsx(Qc,{}),A.jsx("h1",{children:"Welcome to local artsi"})]})}const Ob=()=>{};var b_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Vb=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],f=r[i++],m=r[i++],g=((l&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],f=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},s0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,m=f?r[l+1]:0,g=l+2<r.length,y=g?r[l+2]:0,E=c>>2,S=(c&3)<<4|m>>4;let w=(m&15)<<2|y>>6,M=y&63;g||(M=64,f||(w=64)),s.push(i[E],i[S],i[w],i[M])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(a0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Vb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],m=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||m==null||y==null||S==null)throw new Mb;const w=c<<2|m>>4;if(s.push(w),y!==64){const M=m<<4&240|y>>2;if(s.push(M),S!==64){const U=y<<6&192|S;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Mb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ub=function(r){const t=a0(r);return s0.encodeByteArray(t,!0)},Rc=function(r){return Ub(r).replace(/\./g,"")},Pb=function(r){try{return s0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=()=>Lb().__FIREBASE_DEFAULTS__,kb=()=>{if(typeof process>"u"||typeof b_>"u")return;const r=b_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Pb(r[1]);return t&&JSON.parse(t)},cm=()=>{try{return Ob()||jb()||kb()||zb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Bb=r=>{var t,i;return(i=(t=cm())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},l0=r=>{const t=Bb(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},o0=()=>{var r;return(r=cm())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Rc(JSON.stringify(i)),Rc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fb(){var r;const t=(r=cm())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gb(){return!Fb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qb(){try{return typeof indexedDB=="object"}catch{return!1}}function Kb(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="FirebaseError";class Ia extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=Yb,Object.setPrototypeOf(this,Ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,c0.prototype.create)}}class c0{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?Xb(c,s):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new Ia(l,m,s)}}function Xb(r,t){return r.replace($b,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const $b=/\{\$([^}]+)}/g;function Cc(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],f=t[l];if(S_(c)&&S_(f)){if(!Cc(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function S_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(r){return r&&r._delegate?r._delegate:r}class Os{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new qb;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Jb(t))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=ba){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ba){return this.instances.has(t)}getOptions(t=ba){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(l)}return l}onInit(t,i){var s;const l=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&t(f,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Wb(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ba){return this.component?this.component.multipleInstances?t:ba:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wb(r){return r===ba?void 0:r}function Jb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Zb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const eS={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},nS=Lt.INFO,iS={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},rS=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=iS[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class h0{constructor(t){this.name=t,this._logLevel=nS,this._logHandler=rS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const aS=(r,t)=>t.some(i=>r instanceof i);let w_,R_;function sS(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lS(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f0=new WeakMap,Vd=new WeakMap,d0=new WeakMap,Ed=new WeakMap,hm=new WeakMap;function oS(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(wr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&f0.set(i,r)}).catch(()=>{}),hm.set(t,r),t}function uS(r){if(Vd.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Vd.set(r,t)}let Md={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Vd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||d0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function cS(r){Md=r(Md)}function hS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Td(this),t,...i);return d0.set(s,t.sort?t.sort():[t]),wr(s)}:lS().includes(r)?function(...t){return r.apply(Td(this),t),wr(f0.get(this))}:function(...t){return wr(r.apply(Td(this),t))}}function fS(r){return typeof r=="function"?hS(r):(r instanceof IDBTransaction&&uS(r),aS(r,sS())?new Proxy(r,Md):r)}function wr(r){if(r instanceof IDBRequest)return oS(r);if(Ed.has(r))return Ed.get(r);const t=fS(r);return t!==r&&(Ed.set(r,t),hm.set(t,r)),t}const Td=r=>hm.get(r);function dS(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,t),m=wr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(wr(f.result),g.oldVersion,g.newVersion,wr(f.transaction),g)}),i&&f.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const mS=["get","getKey","getAll","getAllKeys","count"],pS=["put","add","delete","clear"],Ad=new Map;function C_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ad.get(t))return Ad.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=pS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||mS.includes(i)))return;const c=async function(f,...m){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),l&&g.done]))[0]};return Ad.set(t,c),c}cS(r=>({...r,get:(t,i,s)=>C_(t,i)||r.get(t,i,s),has:(t,i)=>!!C_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function yS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ud="@firebase/app",x_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new h0("@firebase/app"),_S="@firebase/app-compat",vS="@firebase/analytics-compat",ES="@firebase/analytics",TS="@firebase/app-check-compat",AS="@firebase/app-check",bS="@firebase/auth",SS="@firebase/auth-compat",wS="@firebase/database",RS="@firebase/data-connect",CS="@firebase/database-compat",xS="@firebase/functions",DS="@firebase/functions-compat",NS="@firebase/installations",IS="@firebase/installations-compat",OS="@firebase/messaging",VS="@firebase/messaging-compat",MS="@firebase/performance",US="@firebase/performance-compat",PS="@firebase/remote-config",LS="@firebase/remote-config-compat",jS="@firebase/storage",kS="@firebase/storage-compat",zS="@firebase/firestore",BS="@firebase/vertexai",qS="@firebase/firestore-compat",HS="firebase",FS="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="[DEFAULT]",GS={[Ud]:"fire-core",[_S]:"fire-core-compat",[ES]:"fire-analytics",[vS]:"fire-analytics-compat",[AS]:"fire-app-check",[TS]:"fire-app-check-compat",[bS]:"fire-auth",[SS]:"fire-auth-compat",[wS]:"fire-rtdb",[RS]:"fire-data-connect",[CS]:"fire-rtdb-compat",[xS]:"fire-fn",[DS]:"fire-fn-compat",[NS]:"fire-iid",[IS]:"fire-iid-compat",[OS]:"fire-fcm",[VS]:"fire-fcm-compat",[MS]:"fire-perf",[US]:"fire-perf-compat",[PS]:"fire-rc",[LS]:"fire-rc-compat",[jS]:"fire-gcs",[kS]:"fire-gcs-compat",[zS]:"fire-fst",[qS]:"fire-fst-compat",[BS]:"fire-vertex","fire-js":"fire-js",[HS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,QS=new Map,Ld=new Map;function D_(r,t){try{r.container.addComponent(t)}catch(i){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function vo(r){const t=r.name;if(Ld.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;Ld.set(t,r);for(const i of xc.values())D_(i,r);for(const i of QS.values())D_(i,r);return!0}function m0(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function p0(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new c0("app","Firebase",KS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=FS;function y0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Pd,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw Rr.create("bad-app-name",{appName:String(l)});if(i||(i=o0()),!i)throw Rr.create("no-options");const c=xc.get(l);if(c){if(Cc(i,c.options)&&Cc(s,c.config))return c;throw Rr.create("duplicate-app",{appName:l})}const f=new tS(l);for(const g of Ld.values())f.addComponent(g);const m=new YS(i,s,f);return xc.set(l,m),m}function _0(r=Pd){const t=xc.get(r);if(!t&&r===Pd&&o0())return y0();if(!t)throw Rr.create("no-app",{appName:r});return t}function Cr(r,t,i){var s;let l=(s=GS[r])!==null&&s!==void 0?s:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const m=[`Unable to register library "${l}" with version "${t}":`];c&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(m.join(" "));return}vo(new Os(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="firebase-heartbeat-database",$S=1,Eo="firebase-heartbeat-store";let bd=null;function v0(){return bd||(bd=dS(XS,$S,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Eo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Rr.create("idb-open",{originalErrorMessage:r.message})})),bd}async function ZS(r){try{const i=(await v0()).transaction(Eo),s=await i.objectStore(Eo).get(E0(r));return await i.done,s}catch(t){if(t instanceof Ia)Hi.warn(t.message);else{const i=Rr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Hi.warn(i.message)}}}async function N_(r,t){try{const s=(await v0()).transaction(Eo,"readwrite");await s.objectStore(Eo).put(t,E0(r)),await s.done}catch(i){if(i instanceof Ia)Hi.warn(i.message);else{const s=Rr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Hi.warn(s.message)}}}function E0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=1024,JS=30;class tw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nw(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=I_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>JS){const f=iw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Hi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=I_(),{heartbeatsToSend:s,unsentEntries:l}=ew(this._heartbeatsCache.heartbeats),c=Rc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Hi.warn(i),""}}}function I_(){return new Date().toISOString().substring(0,10)}function ew(r,t=WS){const i=[];let s=r.slice();for(const l of r){const c=i.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),O_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),O_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class nw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qb()?Kb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ZS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return N_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return N_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function O_(r){return Rc(JSON.stringify({version:2,heartbeats:r})).length}function iw(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(r){vo(new Os("platform-logger",t=>new gS(t),"PRIVATE")),vo(new Os("heartbeat",t=>new tw(t),"PRIVATE")),Cr(Ud,x_,r),Cr(Ud,x_,"esm2017"),Cr("fire-js","")}rw("");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xr,T0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,R){function C(){}C.prototype=R.prototype,V.D=R.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(O,P,j){for(var D=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)D[Ue-2]=arguments[Ue];return R.prototype[P].apply(O,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,R,C){C||(C=0);var O=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)O[P]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(P=0;16>P;++P)O[P]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=V.g[0],C=V.g[1],P=V.g[2];var j=V.g[3],D=R+(j^C&(P^j))+O[0]+3614090360&4294967295;R=C+(D<<7&4294967295|D>>>25),D=j+(P^R&(C^P))+O[1]+3905402710&4294967295,j=R+(D<<12&4294967295|D>>>20),D=P+(C^j&(R^C))+O[2]+606105819&4294967295,P=j+(D<<17&4294967295|D>>>15),D=C+(R^P&(j^R))+O[3]+3250441966&4294967295,C=P+(D<<22&4294967295|D>>>10),D=R+(j^C&(P^j))+O[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=j+(P^R&(C^P))+O[5]+1200080426&4294967295,j=R+(D<<12&4294967295|D>>>20),D=P+(C^j&(R^C))+O[6]+2821735955&4294967295,P=j+(D<<17&4294967295|D>>>15),D=C+(R^P&(j^R))+O[7]+4249261313&4294967295,C=P+(D<<22&4294967295|D>>>10),D=R+(j^C&(P^j))+O[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=j+(P^R&(C^P))+O[9]+2336552879&4294967295,j=R+(D<<12&4294967295|D>>>20),D=P+(C^j&(R^C))+O[10]+4294925233&4294967295,P=j+(D<<17&4294967295|D>>>15),D=C+(R^P&(j^R))+O[11]+2304563134&4294967295,C=P+(D<<22&4294967295|D>>>10),D=R+(j^C&(P^j))+O[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=j+(P^R&(C^P))+O[13]+4254626195&4294967295,j=R+(D<<12&4294967295|D>>>20),D=P+(C^j&(R^C))+O[14]+2792965006&4294967295,P=j+(D<<17&4294967295|D>>>15),D=C+(R^P&(j^R))+O[15]+1236535329&4294967295,C=P+(D<<22&4294967295|D>>>10),D=R+(P^j&(C^P))+O[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^P&(R^C))+O[6]+3225465664&4294967295,j=R+(D<<9&4294967295|D>>>23),D=P+(R^C&(j^R))+O[11]+643717713&4294967295,P=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(P^j))+O[0]+3921069994&4294967295,C=P+(D<<20&4294967295|D>>>12),D=R+(P^j&(C^P))+O[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^P&(R^C))+O[10]+38016083&4294967295,j=R+(D<<9&4294967295|D>>>23),D=P+(R^C&(j^R))+O[15]+3634488961&4294967295,P=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(P^j))+O[4]+3889429448&4294967295,C=P+(D<<20&4294967295|D>>>12),D=R+(P^j&(C^P))+O[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^P&(R^C))+O[14]+3275163606&4294967295,j=R+(D<<9&4294967295|D>>>23),D=P+(R^C&(j^R))+O[3]+4107603335&4294967295,P=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(P^j))+O[8]+1163531501&4294967295,C=P+(D<<20&4294967295|D>>>12),D=R+(P^j&(C^P))+O[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^P&(R^C))+O[2]+4243563512&4294967295,j=R+(D<<9&4294967295|D>>>23),D=P+(R^C&(j^R))+O[7]+1735328473&4294967295,P=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(P^j))+O[12]+2368359562&4294967295,C=P+(D<<20&4294967295|D>>>12),D=R+(C^P^j)+O[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^P)+O[8]+2272392833&4294967295,j=R+(D<<11&4294967295|D>>>21),D=P+(j^R^C)+O[11]+1839030562&4294967295,P=j+(D<<16&4294967295|D>>>16),D=C+(P^j^R)+O[14]+4259657740&4294967295,C=P+(D<<23&4294967295|D>>>9),D=R+(C^P^j)+O[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^P)+O[4]+1272893353&4294967295,j=R+(D<<11&4294967295|D>>>21),D=P+(j^R^C)+O[7]+4139469664&4294967295,P=j+(D<<16&4294967295|D>>>16),D=C+(P^j^R)+O[10]+3200236656&4294967295,C=P+(D<<23&4294967295|D>>>9),D=R+(C^P^j)+O[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^P)+O[0]+3936430074&4294967295,j=R+(D<<11&4294967295|D>>>21),D=P+(j^R^C)+O[3]+3572445317&4294967295,P=j+(D<<16&4294967295|D>>>16),D=C+(P^j^R)+O[6]+76029189&4294967295,C=P+(D<<23&4294967295|D>>>9),D=R+(C^P^j)+O[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^P)+O[12]+3873151461&4294967295,j=R+(D<<11&4294967295|D>>>21),D=P+(j^R^C)+O[15]+530742520&4294967295,P=j+(D<<16&4294967295|D>>>16),D=C+(P^j^R)+O[2]+3299628645&4294967295,C=P+(D<<23&4294967295|D>>>9),D=R+(P^(C|~j))+O[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~P))+O[7]+1126891415&4294967295,j=R+(D<<10&4294967295|D>>>22),D=P+(R^(j|~C))+O[14]+2878612391&4294967295,P=j+(D<<15&4294967295|D>>>17),D=C+(j^(P|~R))+O[5]+4237533241&4294967295,C=P+(D<<21&4294967295|D>>>11),D=R+(P^(C|~j))+O[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~P))+O[3]+2399980690&4294967295,j=R+(D<<10&4294967295|D>>>22),D=P+(R^(j|~C))+O[10]+4293915773&4294967295,P=j+(D<<15&4294967295|D>>>17),D=C+(j^(P|~R))+O[1]+2240044497&4294967295,C=P+(D<<21&4294967295|D>>>11),D=R+(P^(C|~j))+O[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~P))+O[15]+4264355552&4294967295,j=R+(D<<10&4294967295|D>>>22),D=P+(R^(j|~C))+O[6]+2734768916&4294967295,P=j+(D<<15&4294967295|D>>>17),D=C+(j^(P|~R))+O[13]+1309151649&4294967295,C=P+(D<<21&4294967295|D>>>11),D=R+(P^(C|~j))+O[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~P))+O[11]+3174756917&4294967295,j=R+(D<<10&4294967295|D>>>22),D=P+(R^(j|~C))+O[2]+718787259&4294967295,P=j+(D<<15&4294967295|D>>>17),D=C+(j^(P|~R))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+j&4294967295}s.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var C=R-this.blockSize,O=this.B,P=this.h,j=0;j<R;){if(P==0)for(;j<=C;)l(this,V,j),j+=this.blockSize;if(typeof V=="string"){for(;j<R;)if(O[P++]=V.charCodeAt(j++),P==this.blockSize){l(this,O),P=0;break}}else for(;j<R;)if(O[P++]=V[j++],P==this.blockSize){l(this,O),P=0;break}}this.h=P,this.o+=R},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var C=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=C&255,C/=256;for(this.u(V),V=Array(16),R=C=0;4>R;++R)for(var O=0;32>O;O+=8)V[C++]=this.g[R]>>>O&255;return V};function c(V,R){var C=m;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=R(V)}function f(V,R){this.h=R;for(var C=[],O=!0,P=V.length-1;0<=P;P--){var j=V[P]|0;O&&j==R||(C[P]=j,O=!1)}this.g=C}var m={};function g(V){return-128<=V&&128>V?c(V,function(R){return new f([R|0],0>R?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return S;if(0>V)return z(y(-V));for(var R=[],C=1,O=0;V>=C;O++)R[O]=V/C|0,C*=4294967296;return new f(R,0)}function E(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return z(E(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(R,8)),O=S,P=0;P<V.length;P+=8){var j=Math.min(8,V.length-P),D=parseInt(V.substring(P,P+j),R);8>j?(j=y(Math.pow(R,j)),O=O.j(j).add(y(D))):(O=O.j(C),O=O.add(y(D)))}return O}var S=g(0),w=g(1),M=g(16777216);r=f.prototype,r.m=function(){if(K(this))return-z(this).m();for(var V=0,R=1,C=0;C<this.g.length;C++){var O=this.i(C);V+=(0<=O?O:4294967296+O)*R,R*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(U(this))return"0";if(K(this))return"-"+z(this).toString(V);for(var R=y(Math.pow(V,6)),C=this,O="";;){var P=ut(C,R).g;C=H(C,P.j(R));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=P,U(C))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function U(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function K(V){return V.h==-1}r.l=function(V){return V=H(this,V),K(V)?-1:U(V)?0:1};function z(V){for(var R=V.g.length,C=[],O=0;O<R;O++)C[O]=~V.g[O];return new f(C,~V.h).add(w)}r.abs=function(){return K(this)?z(this):this},r.add=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0,P=0;P<=R;P++){var j=O+(this.i(P)&65535)+(V.i(P)&65535),D=(j>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);O=D>>>16,j&=65535,D&=65535,C[P]=D<<16|j}return new f(C,C[C.length-1]&-2147483648?-1:0)};function H(V,R){return V.add(z(R))}r.j=function(V){if(U(this)||U(V))return S;if(K(this))return K(V)?z(this).j(z(V)):z(z(this).j(V));if(K(V))return z(this.j(z(V)));if(0>this.l(M)&&0>V.l(M))return y(this.m()*V.m());for(var R=this.g.length+V.g.length,C=[],O=0;O<2*R;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<V.g.length;P++){var j=this.i(O)>>>16,D=this.i(O)&65535,Ue=V.i(P)>>>16,ae=V.i(P)&65535;C[2*O+2*P]+=D*ae,it(C,2*O+2*P),C[2*O+2*P+1]+=j*ae,it(C,2*O+2*P+1),C[2*O+2*P+1]+=D*Ue,it(C,2*O+2*P+1),C[2*O+2*P+2]+=j*Ue,it(C,2*O+2*P+2)}for(O=0;O<R;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=R;O<2*R;O++)C[O]=0;return new f(C,0)};function it(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function W(V,R){this.g=V,this.h=R}function ut(V,R){if(U(R))throw Error("division by zero");if(U(V))return new W(S,S);if(K(V))return R=ut(z(V),R),new W(z(R.g),z(R.h));if(K(R))return R=ut(V,z(R)),new W(z(R.g),R.h);if(30<V.g.length){if(K(V)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,O=R;0>=O.l(V);)C=ft(C),O=ft(O);var P=St(C,1),j=St(O,1);for(O=St(O,2),C=St(C,2);!U(O);){var D=j.add(O);0>=D.l(V)&&(P=P.add(C),j=D),O=St(O,1),C=St(C,1)}return R=H(V,P.j(R)),new W(P,R)}for(P=S;0<=V.l(R);){for(C=Math.max(1,Math.floor(V.m()/R.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=y(C),D=j.j(R);K(D)||0<D.l(V);)C-=O,j=y(C),D=j.j(R);U(j)&&(j=w),P=P.add(j),V=H(V,D)}return new W(P,V)}r.A=function(V){return ut(this,V).h},r.and=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)&V.i(O);return new f(C,this.h&V.h)},r.or=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)|V.i(O);return new f(C,this.h|V.h)},r.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)^V.i(O);return new f(C,this.h^V.h)};function ft(V){for(var R=V.g.length+1,C=[],O=0;O<R;O++)C[O]=V.i(O)<<1|V.i(O-1)>>>31;return new f(C,V.h)}function St(V,R){var C=R>>5;R%=32;for(var O=V.g.length-C,P=[],j=0;j<O;j++)P[j]=0<R?V.i(j+C)>>>R|V.i(j+C+1)<<32-R:V.i(j+C);return new f(P,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,T0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,xr=f}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A0,lo,b0,vc,jd,S0,w0,R0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(u,p){if(p)t:{var _=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var k=u[b];if(!(k in _))break t;_=_[k]}u=u[u.length-1],b=_[u],p=p(b),p!=b&&p!=null&&t(_,u,{configurable:!0,writable:!0,value:p})}}function c(u,p){u instanceof String&&(u+="");var _=0,b=!1,k={next:function(){if(!b&&_<u.length){var Q=_++;return{value:p(Q,u[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,_){return u.call.apply(u.bind,arguments)}function S(u,p,_){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,b),u.apply(p,k)}}return function(){return u.apply(p,arguments)}}function w(u,p,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,w.apply(null,arguments)}function M(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function U(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(b,k,Q){for(var at=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)at[Vt-2]=arguments[Vt];return p.prototype[k].apply(b,at)}}function K(u){const p=u.length;if(0<p){const _=Array(p);for(let b=0;b<p;b++)_[b]=u[b];return _}return[]}function z(u,p){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(g(b)){const k=u.length||0,Q=b.length||0;u.length=k+Q;for(let at=0;at<Q;at++)u[k+at]=b[at]}else u.push(b)}}class H{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function it(u){return/^[\s\xa0]*$/.test(u)}function W(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function ut(u){return ut[" "](u),u}ut[" "]=function(){};var ft=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function St(u,p,_){for(const b in u)p.call(_,u[b],b,u)}function V(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function R(u){const p={};for(const _ in u)p[_]=u[_];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,p){let _,b;for(let k=1;k<arguments.length;k++){b=arguments[k];for(_ in b)u[_]=b[_];for(let Q=0;Q<C.length;Q++)_=C[Q],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function P(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function j(u){m.setTimeout(()=>{throw u},0)}function D(){var u=kt;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ue{constructor(){this.h=this.g=null}add(p,_){const b=ae.get();b.set(p,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ae=new H(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,mt=!1,kt=new Ue,N=()=>{const u=m.Promise.resolve(void 0);st=()=>{u.then(nt)}};var nt=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){j(_)}var p=ae;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}mt=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return u}();function xt(u,p){if(rt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(ft){t:{try{ut(p.nodeName);var k=!0;break t}catch{}k=!1}k||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xt.aa.h.call(this)}}U(xt,rt);var Tt={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Gn(u,p,_,b,k){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!b,this.ha=k,this.key=++Zt,this.da=this.fa=!1}function Ki(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pi(u){this.src=u,this.g={},this.h=0}pi.prototype.add=function(u,p,_,b,k){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var at=Br(u,p,b,k);return-1<at?(p=u[at],_||(p.fa=!1)):(p=new Gn(p,this.src,Q,!!b,k),p.fa=_,u.push(p)),p};function zr(u,p){var _=p.type;if(_ in u.g){var b=u.g[_],k=Array.prototype.indexOf.call(b,p,void 0),Q;(Q=0<=k)&&Array.prototype.splice.call(b,k,1),Q&&(Ki(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Br(u,p,_,b){for(var k=0;k<u.length;++k){var Q=u[k];if(!Q.da&&Q.listener==p&&Q.capture==!!_&&Q.ha==b)return k}return-1}var qr="closure_lm_"+(1e6*Math.random()|0),Ks={};function Lo(u,p,_,b,k){if(Array.isArray(p)){for(var Q=0;Q<p.length;Q++)Lo(u,p[Q],_,b,k);return null}return _=jo(_),u&&u[xe]?u.K(p,_,y(b)?!!b.capture:!1,k):bn(u,p,_,!1,b,k)}function bn(u,p,_,b,k,Q){if(!p)throw Error("Invalid event type");var at=y(k)?!!k.capture:!!k,Vt=Ua(u);if(Vt||(u[qr]=Vt=new pi(u)),_=Vt.add(p,_,b,at,Q),_.proxy)return _;if(b=hh(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)gt||(k=at),k===void 0&&(k=!1),u.addEventListener(p.toString(),b,k);else if(u.attachEvent)u.attachEvent(Hr(p.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function hh(){function u(_){return p.call(u.src,u.listener,_)}const p=fh;return u}function Ys(u,p,_,b,k){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)Ys(u,p[Q],_,b,k);else b=y(b)?!!b.capture:!!b,_=jo(_),u&&u[xe]?(u=u.i,p=String(p).toString(),p in u.g&&(Q=u.g[p],_=Br(Q,_,b,k),-1<_&&(Ki(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete u.g[p],u.h--)))):u&&(u=Ua(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Br(p,_,b,k)),(_=-1<u?p[u]:null)&&Ma(_))}function Ma(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[xe])zr(p.i,u);else{var _=u.type,b=u.proxy;p.removeEventListener?p.removeEventListener(_,b,u.capture):p.detachEvent?p.detachEvent(Hr(_),b):p.addListener&&p.removeListener&&p.removeListener(b),(_=Ua(p))?(zr(_,u),_.h==0&&(_.src=null,p[qr]=null)):Ki(u)}}}function Hr(u){return u in Ks?Ks[u]:Ks[u]="on"+u}function fh(u,p){if(u.da)u=!0;else{p=new xt(p,this);var _=u.listener,b=u.ha||u.src;u.fa&&Ma(u),u=_.call(b,p)}return u}function Ua(u){return u=u[qr],u instanceof pi?u:null}var Xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function jo(u){return typeof u=="function"?u:(u[Xs]||(u[Xs]=function(p){return u.handleEvent(p)}),u[Xs])}function se(){lt.call(this),this.i=new pi(this),this.M=this,this.F=null}U(se,lt),se.prototype[xe]=!0,se.prototype.removeEventListener=function(u,p,_,b){Ys(this,u,p,_,b)};function Ht(u,p){var _,b=u.F;if(b)for(_=[];b;b=b.F)_.push(b);if(u=u.M,b=p.type||p,typeof p=="string")p=new rt(p,u);else if(p instanceof rt)p.target=p.target||u;else{var k=p;p=new rt(b,u),O(p,k)}if(k=!0,_)for(var Q=_.length-1;0<=Q;Q--){var at=p.g=_[Q];k=hn(at,b,!0,p)&&k}if(at=p.g=u,k=hn(at,b,!0,p)&&k,k=hn(at,b,!1,p)&&k,_)for(Q=0;Q<_.length;Q++)at=p.g=_[Q],k=hn(at,b,!1,p)&&k}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],b=0;b<_.length;b++)Ki(_[b]);delete u.g[p],u.h--}}this.F=null},se.prototype.K=function(u,p,_,b){return this.i.add(String(u),p,!1,_,b)},se.prototype.L=function(u,p,_,b){return this.i.add(String(u),p,!0,_,b)};function hn(u,p,_,b){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var k=!0,Q=0;Q<p.length;++Q){var at=p[Q];if(at&&!at.da&&at.capture==_){var Vt=at.listener,Ae=at.ha||at.src;at.fa&&zr(u.i,at),k=Vt.call(Ae,b)!==!1&&k}}return k&&!b.defaultPrevented}function Ge(u,p,_){if(typeof u=="function")_&&(u=w(u,_));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(u,p||0)}function ko(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,ko(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class dh extends lt{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ko(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(u){lt.call(this),this.h=u,this.g={}}U(Fr,lt);var Gr=[];function Qr(u){St(u.g,function(p,_){this.g.hasOwnProperty(_)&&Ma(p)},u),u.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),Qr(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=m.JSON.stringify,Pa=m.JSON.parse,Kr=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function $s(){}$s.prototype.h=null;function Zs(u){return u.h||(u.h=u.i())}function Ws(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yi(){rt.call(this,"d")}U(yi,rt);function Js(){rt.call(this,"c")}U(Js,rt);var Qn={},tl=null;function Yi(){return tl=tl||new se}Qn.La="serverreachability";function La(u){rt.call(this,Qn.La,u)}U(La,rt);function Xi(u){const p=Yi();Ht(p,new La(p))}Qn.STAT_EVENT="statevent";function zo(u,p){rt.call(this,Qn.STAT_EVENT,u),this.stat=p}U(zo,rt);function te(u){const p=Yi();Ht(p,new zo(p,u))}Qn.Ma="timingevent";function Te(u,p){rt.call(this,Qn.Ma,u),this.size=p}U(Te,rt);function pe(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},p)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function el(u,p,_,b,k,Q){u.info(function(){if(u.g)if(Q)for(var at="",Vt=Q.split("&"),Ae=0;Ae<Vt.length;Ae++){var Mt=Vt[Ae].split("=");if(1<Mt.length){var Ne=Mt[0];Mt=Mt[1];var be=Ne.split("_");at=2<=be.length&&be[1]=="type"?at+(Ne+"="+Mt+"&"):at+(Ne+"=redacted&")}}else at=null;else at=Q;return"XMLHTTP REQ ("+b+") [attempt "+k+"]: "+p+`
`+_+`
`+at})}function mh(u,p,_,b,k,Q,at){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+k+"]: "+p+`
`+_+`
`+Q+" "+at})}function $i(u,p,_,b){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Yr(u,_)+(b?" "+b:"")})}function Bo(u,p){u.info(function(){return"TIMEOUT: "+p})}Sn.prototype.info=function(){};function Yr(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var b=_[u];if(!(2>b.length)){var k=b[1];if(Array.isArray(k)&&!(1>k.length)){var Q=k[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var at=1;at<k.length;at++)k[at]=""}}}}return jn(_)}catch{return p}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function Yn(){}U(Yn,$s),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Kn=new Yn;function Je(u,p,_,b){this.j=u,this.i=p,this.l=_,this.R=b||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var nl={},ja={};function kn(u,p,_){u.L=1,u.v=Jr(fn(p)),u.m=_,u.P=!0,vi(u,null)}function vi(u,p){u.F=Date.now(),Xr(u),u.A=fn(u.v);var _=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),ol(_.i,"t",b),u.C=0,_=u.j.J,u.h=new he,u.g=iu(u.j,_?p:null,!u.m),0<u.O&&(u.M=new dh(w(u.Y,u,u.g),u.O)),p=u.U,_=u.g,b=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Gr[0]=k.toString()),k=Gr);for(var Q=0;Q<k.length;Q++){var at=Lo(_,k[Q],b||p.handleEvent,!1,p.h||p);if(!at)break;p.g[at.key]=at}p=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Xi(),el(u.i,u.u,u.A,u.l,u.R,u.m)}Je.prototype.ca=function(u){u=u.target;const p=this.M;p&&xn(u)==3?p.j():this.Y(u)},Je.prototype.Y=function(u){try{if(u==this.g)t:{const be=xn(this.g);var p=this.g.Ba();const Ci=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||Xo(this.g)))){this.J||be!=4||p==7||(p==8||0>=Ci?Xi(3):Xi(2)),Wi(this);var _=this.g.Z();this.X=_;e:if(qo(this)){var b=Xo(this.g);u="";var k=b.length,Q=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Xn(this);var at="";break e}this.h.i=new m.TextDecoder}for(p=0;p<k;p++)this.h.h=!0,u+=this.h.i.decode(b[p],{stream:!(Q&&p==k-1)});b.length=0,this.h.g+=u,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,mh(this.i,this.u,this.A,this.l,this.R,be,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Ae=this.g;if((Vt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(Vt)){var Mt=Vt;break e}}Mt=null}if(_=Mt)$i(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$r(this,_);else{this.o=!1,this.s=3,te(12),Pe(this),Xn(this);break t}}if(this.P){_=!0;let Le;for(;!this.J&&this.C<at.length;)if(Le=Ho(this,at),Le==ja){be==4&&(this.s=4,te(14),_=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==nl){this.s=4,te(15),$i(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else $i(this.i,this.l,Le,null),$r(this,Le);if(qo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||at.length!=0||this.h.h||(this.s=1,te(16),_=!1),this.o=this.o&&_,!_)$i(this.i,this.l,at,"[Invalid Chunked Response]"),Pe(this),Xn(this);else if(0<at.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),la(Ne),Ne.M=!0,te(11))}}else $i(this.i,this.l,at,null),$r(this,at);be==4&&Pe(this),this.o&&!this.J&&(be==4?tu(this.j,this):(this.o=!1,Xr(this)))}else vh(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Pe(this),Xn(this)}}}catch{}finally{}};function qo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ho(u,p){var _=u.C,b=p.indexOf(`
`,_);return b==-1?ja:(_=Number(p.substring(_,b)),isNaN(_)?nl:(b+=1,b+_>p.length?ja:(p=p.slice(b,b+_),u.C=b+_,p)))}Je.prototype.cancel=function(){this.J=!0,Pe(this)};function Xr(u){u.S=Date.now()+u.I,Fo(u,u.I)}function Fo(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pe(w(u.ba,u),p)}function Wi(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Je.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Bo(this.i,this.A),this.L!=2&&(Xi(),te(17)),Pe(this),this.s=2,Xn(this)):Fo(this,this.S-u)};function Xn(u){u.j.G==0||u.J||tu(u.j,u)}function Pe(u){Wi(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Qr(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function $r(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||il(_.h,u))){if(!u.K&&il(_.h,u)&&_.G==3){try{var b=_.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var k=b;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)$a(_),Ya(_);else break t;dl(_),te(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(w(_.Za,_),6e3));if(1>=za(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ri(_,11)}else if((u.K||_.g==u)&&$a(_),!it(p))for(k=_.Da.g.parse(p),p=0;p<k.length;p++){let Mt=k[p];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const Ne=Mt[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const be=Mt[4];be!=null&&(_.Aa=be,_.j.info("SVER="+_.Aa));const Ci=Mt[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(b=1.5*Ci,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Le=u.g;if(Le){const ni=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var Q=b.h;Q.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ba(Q,Q.h),Q.h=null))}if(b.D){const pl=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(b.ya=pl,Qt(b.I,b.D,pl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var at=u;if(b.qa=nu(b,b.J?b.ia:null,b.W),at.K){tn(b.h,at);var Vt=at,Ae=b.L;Ae&&(Vt.I=Ae),Vt.B&&(Wi(Vt),Xr(Vt)),b.g=at}else Wo(b);0<_.i.length&&Xa(_)}else Mt[0]!="stop"&&Mt[0]!="close"||Ri(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Ri(_,7):hl(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}Xi(4)}catch{}}var Go=class{constructor(u,p){this.g=u,this.map=p}};function Ei(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ka(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function za(u){return u.h?1:u.g?u.g.size:0}function il(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Ba(u,p){u.g?u.g.add(p):u.h=p}function tn(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Ei.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function rl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return K(u.i)}function ph(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],_=u.length,b=0;b<_;b++)p.push(u[b]);return p}p=[],_=0;for(b in u)p[_++]=u[b];return p}function qa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const b in u)p[_++]=b;return p}}}function al(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=qa(u),b=ph(u),k=b.length,Q=0;Q<k;Q++)p.call(void 0,b[Q],_&&_[Q],u)}var Zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gh(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var b=u[_].indexOf("="),k=null;if(0<=b){var Q=u[_].substring(0,b);k=u[_].substring(b+1)}else Q=u[_];p(Q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,Wr(this,u.j),this.o=u.o,this.g=u.g,Ji(this,u.s),this.l=u.l;var p=u.i,_=new Ai;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Ti(this,_),this.m=u.m}else u&&(p=String(u).match(Zr))?(this.h=!1,Wr(this,p[1]||"",!0),this.o=wn(p[2]||""),this.g=wn(p[3]||"",!0),Ji(this,p[4]),this.l=wn(p[5]||"",!0),Ti(this,p[6]||"",!0),this.m=wn(p[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}ge.prototype.toString=function(){var u=[],p=this.j;p&&u.push(ta(p,sl,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(ta(p,sl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ta(_,_.charAt(0)=="/"?yh:ll,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ta(_,Ha)),u.join("")};function fn(u){return new ge(u)}function Wr(u,p,_){u.j=_?wn(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ji(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Ti(u,p,_){p instanceof Ai?(u.i=p,Ko(u.i,u.h)):(_||(p=ta(p,_h)),u.i=new Ai(p,u.h))}function Qt(u,p,_){u.i.set(p,_)}function Jr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function wn(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ta(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,Qo),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Qo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sl=/[#\/\?@]/g,ll=/[#\?:]/g,yh=/[#\?]/g,_h=/[#\?@]/g,Ha=/#/g;function Ai(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Rn(u){u.g||(u.g=new Map,u.h=0,u.i&&gh(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Ai.prototype,r.add=function(u,p){Rn(this),this.i=null,u=$n(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function bi(u,p){Rn(u),p=$n(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Si(u,p){return Rn(u),p=$n(u,p),u.g.has(p)}r.forEach=function(u,p){Rn(this),this.g.forEach(function(_,b){_.forEach(function(k){u.call(p,k,b,this)},this)},this)},r.na=function(){Rn(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let b=0;b<p.length;b++){const k=u[b];for(let Q=0;Q<k.length;Q++)_.push(p[b])}return _},r.V=function(u){Rn(this);let p=[];if(typeof u=="string")Si(this,u)&&(p=p.concat(this.g.get($n(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},r.set=function(u,p){return Rn(this),this.i=null,u=$n(this,u),Si(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function ol(u,p,_){bi(u,p),0<_.length&&(u.i=null,u.g.set($n(u,p),K(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var b=p[_];const Q=encodeURIComponent(String(b)),at=this.V(b);for(b=0;b<at.length;b++){var k=Q;at[b]!==""&&(k+="="+encodeURIComponent(String(at[b]))),u.push(k)}}return this.i=u.join("&")};function $n(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Ko(u,p){p&&!u.j&&(Rn(u),u.i=null,u.g.forEach(function(_,b){var k=b.toLowerCase();b!=k&&(bi(this,b),ol(this,k,_))},u)),u.j=p}function ea(u,p){const _=new Sn;if(m.Image){const b=new Image;b.onload=M(Cn,_,"TestLoadImage: loaded",!0,p,b),b.onerror=M(Cn,_,"TestLoadImage: error",!1,p,b),b.onabort=M(Cn,_,"TestLoadImage: abort",!1,p,b),b.ontimeout=M(Cn,_,"TestLoadImage: timeout",!1,p,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else p(!1)}function zn(u,p){const _=new Sn,b=new AbortController,k=setTimeout(()=>{b.abort(),Cn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:b.signal}).then(Q=>{clearTimeout(k),Q.ok?Cn(_,"TestPingServer: ok",!0,p):Cn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(k),Cn(_,"TestPingServer: error",!1,p)})}function Cn(u,p,_,b,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),b(_)}catch{}}function na(){this.g=new Kr}function Zn(u,p,_){const b=_||"";try{al(u,function(k,Q){let at=k;y(k)&&(at=jn(k)),p.push(b+Q+"="+encodeURIComponent(at))})}catch(k){throw p.push(b+"type="+encodeURIComponent("_badmap")),k}}function tr(u){this.l=u.Ub||null,this.j=u.eb||!1}U(tr,$s),tr.prototype.g=function(){return new wi(this.l,this.j)},tr.prototype.i=function(u){return function(){return u}}({});function wi(u,p){se.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(wi,se),r=wi.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Wn(this):Jn(this),this.readyState==3&&ul(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Wn(this))},r.Qa=function(u){this.g&&(this.response=u,Wn(this))},r.ga=function(){this.g&&Wn(this)};function Wn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Jn(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function cl(u){let p="";return St(u,function(_,b){p+=b,p+=":",p+=_,p+=`\r
`}),p}function De(u,p,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=cl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Qt(u,p,_))}function Bt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Bt,se);var Fa=/^https?$/i,ia=["POST","PUT"];r=Bt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?Zs(this.o):Zs(Kn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(Q){Yo(this,Q);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var k in b)_.set(k,b[k]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),k=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ia,p,void 0))||b||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,at]of _)this.g.setRequestHeader(Q,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ra(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){Yo(this,Q)}};function Yo(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Ga(u),ti(u)}function Ga(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),Bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},r.bb=function(){Qa(this)};function Qa(u){if(u.h&&typeof f<"u"&&(!u.v[1]||xn(u)!=4||u.Z()!=2)){if(u.u&&xn(u)==4)Ge(u.Ea,0,u);else if(Ht(u,"readystatechange"),xn(u)==4){u.h=!1;try{const at=u.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var b;if(b=at===0){var k=String(u.D).match(Zr)[1]||null;!k&&m.self&&m.self.location&&(k=m.self.location.protocol.slice(0,-1)),b=!Fa.test(k?k.toLowerCase():"")}_=b}if(_)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var Q=2<xn(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",Ga(u)}}finally{ti(u)}}}}function ti(u,p){if(u.g){ra(u);const _=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Ht(u,"ready");try{_.onreadystatechange=b}catch{}}}function ra(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function xn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Pa(p)}};function Xo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vh(u){const p={};u=(u.g&&2<=xn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(it(u[b]))continue;var _=P(u[b]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=p[k]||[];p[k]=Q,Q.push(_)}V(p,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function Ka(u){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,u),this.cb=aa("retryDelaySeedMs",1e4,u),this.Wa=aa("forwardChannelMaxRetries",2,u),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ei(u&&u.concurrentRequestLimit),this.Da=new na,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ka.prototype,r.la=8,r.G=1,r.connect=function(u,p,_,b){te(0),this.W=u,this.H=p||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=nu(this,null,this.W),Xa(this)};function hl(u){if($o(u),u.G==3){var p=u.U++,_=fn(u.I);if(Qt(_,"SID",u.K),Qt(_,"RID",p),Qt(_,"TYPE","terminate"),sa(u,_),p=new Je(u,u.j,p),p.L=2,p.v=Jr(fn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=iu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Xr(p)}eu(u)}function Ya(u){u.g&&(la(u),u.g.cancel(),u.g=null)}function $o(u){Ya(u),u.u&&(m.clearTimeout(u.u),u.u=null),$a(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Xa(u){if(!ka(u.h)&&!u.s){u.s=!0;var p=u.Ga;st||N(),mt||(st(),mt=!0),kt.add(p,u),u.B=0}}function Eh(u,p){return za(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pe(w(u.Ga,u,p),ml(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Je(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=R(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(k.H=Q,Q=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=Zo(this,k,p),_=fn(this.I),Qt(_,"RID",u),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),sa(this,_),Q&&(this.O?p="headers="+encodeURIComponent(String(cl(Q)))+"&"+p:this.m&&De(_,this.m,Q)),Ba(this.h,k),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",p),Qt(_,"SID","null"),k.T=!0,kn(k,_,null)):kn(k,_,p),this.G=2}}else this.G==3&&(u?fl(this,u):this.i.length==0||ka(this.h)||fl(this))};function fl(u,p){var _;p?_=p.l:_=u.U++;const b=fn(u.I);Qt(b,"SID",u.K),Qt(b,"RID",_),Qt(b,"AID",u.T),sa(u,b),u.m&&u.o&&De(b,u.m,u.o),_=new Je(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Zo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ba(u.h,_),kn(_,b,p)}function sa(u,p){u.H&&St(u.H,function(_,b){Qt(p,b,_)}),u.l&&al({},function(_,b){Qt(p,b,_)})}function Zo(u,p,_){_=Math.min(u.i.length,_);var b=u.l?w(u.l.Na,u.l,u):null;t:{var k=u.i;let Q=-1;for(;;){const at=["count="+_];Q==-1?0<_?(Q=k[0].g,at.push("ofs="+Q)):Q=0:at.push("ofs="+Q);let Vt=!0;for(let Ae=0;Ae<_;Ae++){let Mt=k[Ae].g;const Ne=k[Ae].map;if(Mt-=Q,0>Mt)Q=Math.max(0,k[Ae].g-100),Vt=!1;else try{Zn(Ne,at,"req"+Mt+"_")}catch{b&&b(Ne)}}if(Vt){b=at.join("&");break t}}}return u=u.i.splice(0,_),p.D=u,b}function Wo(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;st||N(),mt||(st(),mt=!0),kt.add(p,u),u.v=0}}function dl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pe(w(u.Fa,u),ml(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Jo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pe(w(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Ya(this),Jo(this))};function la(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function Jo(u){u.g=new Je(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=fn(u.qa);Qt(p,"RID","rpc"),Qt(p,"SID",u.K),Qt(p,"AID",u.T),Qt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(p,"TO",u.ja),Qt(p,"TYPE","xmlhttp"),sa(u,p),u.m&&u.o&&De(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Jr(fn(p)),_.m=null,_.P=!0,vi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Ya(this),dl(this),te(19))};function $a(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function tu(u,p){var _=null;if(u.g==p){$a(u),la(u),u.g=null;var b=2}else if(il(u.h,p))_=p.D,tn(u.h,p),b=1;else return;if(u.G!=0){if(p.o)if(b==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var k=u.B;b=Yi(),Ht(b,new Te(b,_)),Xa(u)}else Wo(u);else if(k=p.s,k==3||k==0&&0<p.X||!(b==1&&Eh(u,p)||b==2&&dl(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),k){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function ml(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function Ri(u,p){if(u.j.info("Error code "+p),p==2){var _=w(u.fb,u),b=u.Xa;const k=!b;b=new ge(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Wr(b,"https"),Jr(b),k?ea(b.toString(),_):zn(b.toString(),_)}else te(2);u.G=0,u.l&&u.l.sa(p),eu(u),$o(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function eu(u){if(u.G=0,u.ka=[],u.l){const p=rl(u.h);(p.length!=0||u.i.length!=0)&&(z(u.ka,p),z(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function nu(u,p,_){var b=_ instanceof ge?fn(_):new ge(_);if(b.g!="")p&&(b.g=p+"."+b.g),Ji(b,b.s);else{var k=m.location;b=k.protocol,p=p?p+"."+k.hostname:k.hostname,k=+k.port;var Q=new ge(null);b&&Wr(Q,b),p&&(Q.g=p),k&&Ji(Q,k),_&&(Q.l=_),b=Q}return _=u.D,p=u.ya,_&&p&&Qt(b,_,p),Qt(b,"VER",u.la),sa(u,b),b}function iu(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Bt(new tr({eb:_})):new Bt(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ru(){}r=ru.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Za(){}Za.prototype.g=function(u,p){return new en(u,p)};function en(u,p){se.call(this),this.g=new Ka(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!it(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!it(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ei(this)}U(en,se),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){hl(this.g)},en.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=jn(u),u=_);p.i.push(new Go(p.Ya++,u)),p.G==3&&Xa(p)},en.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,en.aa.N.call(this)};function au(u){yi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const _ in p){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}U(au,yi);function su(){Js.call(this),this.status=1}U(su,Js);function ei(u){this.g=u}U(ei,ru),ei.prototype.ua=function(){Ht(this.g,"a")},ei.prototype.ta=function(u){Ht(this.g,new au(u))},ei.prototype.sa=function(u){Ht(this.g,new su)},ei.prototype.ra=function(){Ht(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,R0=function(){return new Za},w0=function(){return Yi()},S0=Qn,jd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,vc=Zi,_i.COMPLETE="complete",b0=_i,Ws.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",se.prototype.listen=se.prototype.K,lo=Ws,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,A0=Bt}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const M_="@firebase/firestore",U_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new h0("@firebase/firestore");function Rs(){return Ca.logLevel}function ot(r,...t){if(Ca.logLevel<=Lt.DEBUG){const i=t.map(fm);Ca.debug(`Firestore (${qs}): ${r}`,...i)}}function Fi(r,...t){if(Ca.logLevel<=Lt.ERROR){const i=t.map(fm);Ca.error(`Firestore (${qs}): ${r}`,...i)}}function Vs(r,...t){if(Ca.logLevel<=Lt.WARN){const i=t.map(fm);Ca.warn(`Firestore (${qs}): ${r}`,...i)}}function fm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r="Unexpected state"){const t=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: `+r;throw Fi(t),new Error(t)}function qt(r,t){r||Et()}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Ia{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class aw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i($e.UNAUTHENTICATED))}shutdown(){}}class sw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class lw{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0);let s=this.i;const l=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let c=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Dr,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const g=c;t.enqueueRetryable(async()=>{await g.promise,await l(this.currentUser)})},m=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Dr)}},0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string"),new C0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string"),new $e(t)}}class ow{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class uw{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new ow(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cw{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,p0(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0);const s=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new P_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(qt(typeof i.token=="string"),this.R=i.token,new P_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=hw(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Ct(r,t){return r<t?-1:r>t?1:0}function kd(r,t){let i=0;for(;i<r.length&&i<t.length;){const s=r.codePointAt(i),l=t.codePointAt(i);if(s!==l){if(s<128&&l<128)return Ct(s,l);{const c=x0(),f=fw(c.encode(L_(r,i)),c.encode(L_(t,i)));return f!==0?f:Ct(s,l)}}i+=s>65535?2:1}return Ct(r.length,t.length)}function L_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function fw(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return Ct(r[i],t[i]);return Ct(r.length,t.length)}function Ms(r,t,i){return r.length===t.length&&r.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=-62135596800,k_=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*k_);return new Re(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<j_)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k_}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-j_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Re(0,0))}static max(){return new At(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="__name__";class oi{constructor(t,i,s){i===void 0?i=0:i>t.length&&Et(),s===void 0?s=t.length-i:s>t.length-i&&Et(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return oi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof oi?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=oi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ct(t.length,i.length)}static compareSegments(t,i){const s=oi.isNumericId(t),l=oi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?oi.extractNumericId(t).compare(oi.extractNumericId(i)):kd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xr.fromString(t.substring(4,t.length-2))}}class Jt extends oi{construct(t,i,s){return new Jt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const dw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends oi{construct(t,i,s){return new He(t,i,s)}static isValidIdentifier(t){return dw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z_}static keyField(){return new He([z_])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new ct(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ct(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(s+=m,l++):(c(),l++)}if(c(),f)throw new ct(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new He(i)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(Jt.fromString(t))}static fromName(t){return new pt(Jt.fromString(t).popFirst(5))}static empty(){return new pt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Jt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=-1;function mw(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(s===1e9?new Re(i+1,0):new Re(i,s));return new Ir(l,pt.empty(),t)}function pw(r){return new Ir(r.readTime,r.key,To)}class Ir{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Ir(At.min(),pt.empty(),To)}static max(){return new Ir(At.max(),pt.empty(),To)}}function gw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:Ct(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _w{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(r){if(r.code!==et.FAILED_PRECONDITION||r.message!==yw)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new tt((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):tt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):tt.reject(i)}static resolve(t){return new tt((i,s)=>{i(t)})}static reject(t){return new tt((i,s)=>{s(t)})}static waitFor(t){return new tt((i,s)=>{let l=0,c=0,f=!1;t.forEach(m=>{++l,m.next(()=>{++c,f&&c===l&&i()},g=>s(g))}),f=!0,c===l&&i()})}static or(t){let i=tt.resolve(!1);for(const s of t)i=i.next(l=>l?tt.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,c)=>{s.push(i.call(this,l,c))}),this.waitFor(s)}static mapArray(t,i){return new tt((s,l)=>{const c=t.length,f=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;i(t[y]).next(E=>{f[y]=E,++m,m===c&&s(f)},E=>l(E))}})}static doWhile(t,i){return new tt((s,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):s()};c()})}}function vw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Kc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=-1;function Yc(r){return r==null}function Dc(r){return r===0&&1/r==-1/0}function Ew(r){return typeof r=="number"&&Number.isInteger(r)&&!Dc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="";function Tw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=B_(t)),t=Aw(r.get(i),t);return B_(t)}function Aw(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case N0:i+="";break;default:i+=c}}return i}function B_(r){return r+N0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function jr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function I0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,i){this.comparator=t,this.root=i||qe.EMPTY}insert(t,i){return new re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hc(this.root,t,this.comparator,!0)}}class hc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??qe.RED,this.left=l??qe.EMPTY,this.right=c??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new qe(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return qe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const t=this.left.check();if(t!==this.right.check())throw Et();return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(t,i,s,l,c){return this}insert(t,i,s){return new qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(t){return new H_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ce(this.comparator);return i.data=t,i}}class H_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.fields=t,t.sort(He.comparator)}static empty(){return new Tn([])}unionWith(t){let i=new Ce(He.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Tn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ms(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new O0("Invalid base64 string: "+c):c}}(t);return new Fe(i)}static fromUint8Array(t){const i=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const bw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(r){if(qt(!!r),typeof r=="string"){let t=0;const i=bw.exec(r);if(qt(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vr(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="server_timestamp",M0="__type__",U0="__previous_value__",P0="__local_write_time__";function mm(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[M0])===null||i===void 0?void 0:i.stringValue)===V0}function Xc(r){const t=r.mapValue.fields[U0];return mm(t)?Xc(t):t}function Ao(r){const t=Or(r.mapValue.fields[P0].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t,i,s,l,c,f,m,g,y){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Nc="(default)";class bo{constructor(t,i){this.projectId=t,this.database=i||Nc}static empty(){return new bo("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(t){return t instanceof bo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="__type__",ww="__max__",fc={mapValue:{}},j0="__vector__",Ic="value";function Mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?mm(r)?4:Cw(r)?9007199254740991:Rw(r)?10:11:Et()}function di(r,t){if(r===t)return!0;const i=Mr(r);if(i!==Mr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ao(r).isEqual(Ao(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Or(l.timestampValue),m=Or(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Vr(l.bytesValue).isEqual(Vr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=me(l.doubleValue),m=me(c.doubleValue);return f===m?Dc(f)===Dc(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return Ms(r.arrayValue.values||[],t.arrayValue.values||[],di);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},m=c.mapValue.fields||{};if(q_(f)!==q_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!di(f[g],m[g])))return!1;return!0}(r,t);default:return Et()}}function So(r,t){return(r.values||[]).find(i=>di(i,t))!==void 0}function Us(r,t){if(r===t)return 0;const i=Mr(r),s=Mr(t);if(i!==s)return Ct(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,t.booleanValue);case 2:return function(c,f){const m=me(c.integerValue||c.doubleValue),g=me(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,t);case 3:return F_(r.timestampValue,t.timestampValue);case 4:return F_(Ao(r),Ao(t));case 5:return kd(r.stringValue,t.stringValue);case 6:return function(c,f){const m=Vr(c),g=Vr(f);return m.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const m=c.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ct(m[y],g[y]);if(E!==0)return E}return Ct(m.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const m=Ct(me(c.latitude),me(f.latitude));return m!==0?m:Ct(me(c.longitude),me(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return G_(r.arrayValue,t.arrayValue);case 10:return function(c,f){var m,g,y,E;const S=c.fields||{},w=f.fields||{},M=(m=S[Ic])===null||m===void 0?void 0:m.arrayValue,U=(g=w[Ic])===null||g===void 0?void 0:g.arrayValue,K=Ct(((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0,((E=U==null?void 0:U.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:G_(M,U)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===fc.mapValue&&f===fc.mapValue)return 0;if(c===fc.mapValue)return 1;if(f===fc.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const w=kd(g[S],E[S]);if(w!==0)return w;const M=Us(m[g[S]],y[E[S]]);if(M!==0)return M}return Ct(g.length,E.length)}(r.mapValue,t.mapValue);default:throw Et()}}function F_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ct(r,t);const i=Or(r),s=Or(t),l=Ct(i.seconds,s.seconds);return l!==0?l:Ct(i.nanos,s.nanos)}function G_(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Us(i[l],s[l]);if(c)return c}return Ct(i.length,s.length)}function Ps(r){return zd(r)}function zd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Or(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Vr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return pt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=zd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${zd(i.fields[f])}`;return l+"}"}(r.mapValue):Et()}function Ec(r){switch(Mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Xc(r);return t?16+Ec(t):16;case 5:return 2*r.stringValue.length;case 6:return Vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Ec(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return jr(s.fields,(c,f)=>{l+=c.length+Ec(f)}),l}(r.mapValue);default:throw Et()}}function Q_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Bd(r){return!!r&&"integerValue"in r}function pm(r){return!!r&&"arrayValue"in r}function K_(r){return!!r&&"nullValue"in r}function Y_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Tc(r){return!!r&&"mapValue"in r}function Rw(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[L0])===null||i===void 0?void 0:i.stringValue)===j0}function ho(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return jr(r.mapValue.fields,(i,s)=>t.mapValue.fields[i]=ho(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ho(r.arrayValue.values[i]);return t}return Object.assign({},r)}function Cw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ww}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.value=t}static empty(){return new un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Tc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ho(i)}setAll(t){let i=He.emptyPath(),s={},l=[];t.forEach((f,m)=>{if(!i.isImmediateParentOf(m)){const g=this.getFieldsMap(i);this.applyChanges(g,s,l),s={},l=[],i=m.popLast()}f?s[m.lastSegment()]=ho(f):l.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Tc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Tc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){jr(i,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new un(ho(this.value))}}function k0(r){const t=[];return jr(r.fields,(i,s)=>{const l=new He([i]);if(Tc(s)){const c=k0(s.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)}),new Tn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,i,s,l,c,f,m){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ze(t,0,At.min(),At.min(),At.min(),un.empty(),0)}static newFoundDocument(t,i,s,l){return new Ze(t,1,i,At.min(),s,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,At.min(),At.min(),un.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,At.min(),At.min(),un.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,i){this.position=t,this.inclusive=i}}function X_(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],f=r.position[l];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),i.key):s=Us(f,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function $_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!di(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,i="asc"){this.field=t,this.dir=i}}function xw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{}class Ee extends z0{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new Nw(t,i,s):i==="array-contains"?new Vw(t,s):i==="in"?new Mw(t,s):i==="not-in"?new Uw(t,s):i==="array-contains-any"?new Pw(t,s):new Ee(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Iw(t,s):new Ow(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Us(i,this.value)):i!==null&&Mr(this.value)===Mr(i)&&this.matchesComparison(Us(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends z0{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new Fn(t,i)}matches(t){return B0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function B0(r){return r.op==="and"}function q0(r){return Dw(r)&&B0(r)}function Dw(r){for(const t of r.filters)if(t instanceof Fn)return!1;return!0}function qd(r){if(r instanceof Ee)return r.field.canonicalString()+r.op.toString()+Ps(r.value);if(q0(r))return r.filters.map(t=>qd(t)).join(",");{const t=r.filters.map(i=>qd(i)).join(",");return`${r.op}(${t})`}}function H0(r,t){return r instanceof Ee?function(s,l){return l instanceof Ee&&s.op===l.op&&s.field.isEqual(l.field)&&di(s.value,l.value)}(r,t):r instanceof Fn?function(s,l){return l instanceof Fn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,f,m)=>c&&H0(f,l.filters[m]),!0):!1}(r,t):void Et()}function F0(r){return r instanceof Ee?function(i){return`${i.field.canonicalString()} ${i.op} ${Ps(i.value)}`}(r):r instanceof Fn?function(i){return i.op.toString()+" {"+i.getFilters().map(F0).join(" ,")+"}"}(r):"Filter"}class Nw extends Ee{constructor(t,i,s){super(t,i,s),this.key=pt.fromName(s.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Iw extends Ee{constructor(t,i){super(t,"in",i),this.keys=G0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Ow extends Ee{constructor(t,i){super(t,"not-in",i),this.keys=G0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function G0(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>pt.fromName(s.referenceValue))}class Vw extends Ee{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return pm(i)&&So(i.arrayValue,this.value)}}class Mw extends Ee{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&So(this.value.arrayValue,i)}}class Uw extends Ee{constructor(t,i){super(t,"not-in",i)}matches(t){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!So(this.value.arrayValue,i)}}class Pw extends Ee{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>So(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,i=null,s=[],l=[],c=null,f=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=m,this.le=null}}function Z_(r,t=null,i=[],s=[],l=null,c=null,f=null){return new Lw(r,t,i,s,l,c,f)}function gm(r){const t=bt(r);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>qd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Yc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ps(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ps(s)).join(",")),t.le=i}return t.le}function ym(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!xw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!H0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!$_(r.startAt,t.startAt)&&$_(r.endAt,t.endAt)}function Hd(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t,i=null,s=[],l=[],c=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function jw(r,t,i,s,l,c,f,m){return new No(r,t,i,s,l,c,f,m)}function $c(r){return new No(r)}function W_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Q0(r){return r.collectionGroup!==null}function fo(r){const t=bt(r);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ce(He.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new Vc(c,s))}),i.has(He.keyField().canonicalString())||t.he.push(new Vc(He.keyField(),s))}return t.he}function ci(r){const t=bt(r);return t.Pe||(t.Pe=kw(t,fo(r))),t.Pe}function kw(r,t){if(r.limitType==="F")return Z_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Vc(l.field,c)});const i=r.endAt?new Oc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Oc(r.startAt.position,r.startAt.inclusive):null;return Z_(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function Fd(r,t){const i=r.filters.concat([t]);return new No(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Gd(r,t,i){return new No(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Zc(r,t){return ym(ci(r),ci(t))&&r.limitType===t.limitType}function K0(r){return`${gm(ci(r))}|lt:${r.limitType}`}function Cs(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>F0(l)).join(", ")}]`),Yc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>Ps(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>Ps(l)).join(",")),`Target(${s})`}(ci(r))}; limitType=${r.limitType})`}function Wc(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of fo(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(f,m,g){const y=X_(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,fo(s),l)||s.endAt&&!function(f,m,g){const y=X_(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,fo(s),l))}(r,t)}function zw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Y0(r){return(t,i)=>{let s=!1;for(const l of fo(r)){const c=Bw(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function Bw(r,t,i){const s=r.field.isKeyField()?pt.comparator(t.key,i.key):function(c,f,m){const g=f.data.field(c),y=m.data.field(c);return g!==null&&y!==null?Us(g,y):Et()}(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){jr(this.inner,(i,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return I0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new re(pt.comparator);function Gi(){return qw}const X0=new re(pt.comparator);function oo(...r){let t=X0;for(const i of r)t=t.insert(i.key,i);return t}function $0(r){let t=X0;return r.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function Sa(){return mo()}function Z0(){return mo()}function mo(){return new Oa(r=>r.toString(),(r,t)=>r.isEqual(t))}const Hw=new re(pt.comparator),Fw=new Ce(pt.comparator);function Ot(...r){let t=Fw;for(const i of r)t=t.add(i);return t}const Gw=new Ce(Ct);function Qw(){return Gw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(t)?"-0":t}}function W0(r){return{integerValue:""+r}}function Kw(r,t){return Ew(t)?W0(t):_m(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this._=void 0}}function Yw(r,t,i){return r instanceof Mc?function(l,c){const f={fields:{[M0]:{stringValue:V0},[P0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&mm(c)&&(c=Xc(c)),c&&(f.fields[U0]=c),{mapValue:f}}(i,t):r instanceof wo?tE(r,t):r instanceof Ro?eE(r,t):function(l,c){const f=J0(l,c),m=J_(f)+J_(l.Ie);return Bd(f)&&Bd(l.Ie)?W0(m):_m(l.serializer,m)}(r,t)}function Xw(r,t,i){return r instanceof wo?tE(r,t):r instanceof Ro?eE(r,t):i}function J0(r,t){return r instanceof Uc?function(s){return Bd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Mc extends Jc{}class wo extends Jc{constructor(t){super(),this.elements=t}}function tE(r,t){const i=nE(t);for(const s of r.elements)i.some(l=>di(l,s))||i.push(s);return{arrayValue:{values:i}}}class Ro extends Jc{constructor(t){super(),this.elements=t}}function eE(r,t){let i=nE(t);for(const s of r.elements)i=i.filter(l=>!di(l,s));return{arrayValue:{values:i}}}class Uc extends Jc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function J_(r){return me(r.integerValue||r.doubleValue)}function nE(r){return pm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function $w(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof wo&&l instanceof wo||s instanceof Ro&&l instanceof Ro?Ms(s.elements,l.elements,di):s instanceof Uc&&l instanceof Uc?di(s.Ie,l.Ie):s instanceof Mc&&l instanceof Mc}(r.transform,t.transform)}class Zw{constructor(t,i){this.version=t,this.transformResults=i}}class Pn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Pn}static exists(t){return new Pn(void 0,t)}static updateTime(t){return new Pn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ac(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class th{}function iE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new vm(r.key,Pn.none()):new Io(r.key,r.data,Pn.none());{const i=r.data,s=un.empty();let l=new Ce(He.comparator);for(let c of t.fields)if(!l.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new kr(r.key,s,new Tn(l.toArray()),Pn.none())}}function Ww(r,t,i){r instanceof Io?function(l,c,f){const m=l.value.clone(),g=ev(l.fieldTransforms,c,f.transformResults);m.setAll(g),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,i):r instanceof kr?function(l,c,f){if(!Ac(l.precondition,c))return void c.convertToUnknownDocument(f.version);const m=ev(l.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(rE(l)),g.setAll(m),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,i):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,i)}function po(r,t,i,s){return r instanceof Io?function(c,f,m,g){if(!Ac(c.precondition,f))return m;const y=c.value.clone(),E=nv(c.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,i,s):r instanceof kr?function(c,f,m,g){if(!Ac(c.precondition,f))return m;const y=nv(c.fieldTransforms,g,f),E=f.data;return E.setAll(rE(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(r,t,i,s):function(c,f,m){return Ac(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,i)}function Jw(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=J0(s.transform,l||null);c!=null&&(i===null&&(i=un.empty()),i.set(s.field,c))}return i||null}function tv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ms(s,l,(c,f)=>$w(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Io extends th{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class kr extends th{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function rE(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}}),t}function ev(r,t,i){const s=new Map;qt(r.length===i.length);for(let l=0;l<i.length;l++){const c=r[l],f=c.transform,m=t.data.field(c.field);s.set(c.field,Xw(f,m,i[l]))}return s}function nv(r,t,i){const s=new Map;for(const l of r){const c=l.transform,f=i.data.field(l.field);s.set(l.field,Yw(c,f,t))}return s}class vm extends th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tR extends th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Ww(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=po(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=po(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=Z0();return this.mutations.forEach(l=>{const c=t.get(l.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=i.has(l.key)?null:m;const g=iE(f,m);g!==null&&s.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Ms(this.mutations,t.mutations,(i,s)=>tv(i,s))&&Ms(this.baseMutations,t.baseMutations,(i,s)=>tv(i,s))}}class Em{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){qt(t.mutations.length===s.length);let l=function(){return Hw}();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new Em(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Pt;function rR(r){switch(r){case et.OK:return Et();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Et()}}function aE(r){if(r===void 0)return Fi("GRPC error has no .code"),et.UNKNOWN;switch(r){case ve.OK:return et.OK;case ve.CANCELLED:return et.CANCELLED;case ve.UNKNOWN:return et.UNKNOWN;case ve.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case ve.INTERNAL:return et.INTERNAL;case ve.UNAVAILABLE:return et.UNAVAILABLE;case ve.UNAUTHENTICATED:return et.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case ve.NOT_FOUND:return et.NOT_FOUND;case ve.ALREADY_EXISTS:return et.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return et.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case ve.ABORTED:return et.ABORTED;case ve.OUT_OF_RANGE:return et.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return et.UNIMPLEMENTED;case ve.DATA_LOSS:return et.DATA_LOSS;default:return Et()}}(Pt=ve||(ve={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new xr([4294967295,4294967295],0);function iv(r){const t=x0().encode(r),i=new T0;return i.update(t),new Uint8Array(i.digest())}function rv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new xr([i,s],0),new xr([l,c],0)]}class Tm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new uo(`Invalid padding: ${i}`);if(s<0)throw new uo(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new uo(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new uo(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=xr.fromNumber(this.Ee)}Ae(t,i,s){let l=t.add(i.multiply(xr.fromNumber(s)));return l.compare(aR)===1&&(l=new xr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=iv(t),[s,l]=rv(i);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,l,c);if(!this.Re(f))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Tm(c,l,i);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const i=iv(t),[s,l]=rv(i);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,l,c);this.Ve(f)}}Ve(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Oo.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new eh(At.min(),l,new re(Ct),Gi(),Ot())}}class Oo{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Oo(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,i,s,l){this.me=t,this.removedTargetIds=i,this.key=s,this.fe=l}}class sE{constructor(t,i){this.targetId=t,this.ge=i}}class lE{constructor(t,i,s=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class av{constructor(){this.pe=0,this.ye=sv(),this.we=Fe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ot(),i=Ot(),s=Ot();return this.ye.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Et()}}),new Oo(this.we,this.Se,t,i,s)}Me(){this.be=!1,this.ye=sv()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class sR{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Gi(),this.$e=dc(),this.Ue=dc(),this.Ke=new re(Ct)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const s=this.He(i);switch(t.state){case 0:this.Je(i)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(t.resumeToken));break;default:Et()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((s,l)=>{this.Je(l)&&i(l)})}Ze(t){const i=t.targetId,s=t.ge.count,l=this.Xe(i);if(l){const c=l.target;if(Hd(c))if(s===0){const f=new pt(c.path);this.ze(i,f,Ze.newNoDocument(f,At.min()))}else qt(s===1);else{const f=this.et(i);if(f!==s){const m=this.tt(t),g=m?this.nt(m,t,f):1;if(g!==0){this.Ye(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let f,m;try{f=Vr(s).toUint8Array()}catch(g){if(g instanceof O0)return Vs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Tm(f,l,c)}catch(g){return Vs(g instanceof uo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(t,i,s){return i.ge.count===s-this.st(t,i.targetId)?0:2}st(t,i){const s=this.ke.getRemoteKeysForTarget(i);let l=0;return s.forEach(c=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.ze(i,c,null),l++)}),l}ot(t){const i=new Map;this.qe.forEach((c,f)=>{const m=this.Xe(f);if(m){if(c.current&&Hd(m.target)){const g=new pt(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,Ze.newNoDocument(g,t))}c.ve&&(i.set(f,c.Fe()),c.Me())}});let s=Ot();this.Ue.forEach((c,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(t));const l=new eh(t,i,this.Ke,this.Qe,s);return this.Qe=Gi(),this.$e=dc(),this.Ue=dc(),this.Ke=new re(Ct),l}Ge(t,i){if(!this.Je(t))return;const s=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(t))}ze(t,i,s){if(!this.Je(t))return;const l=this.He(t);this.ut(t,i)?l.xe(i,1):l.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(t)),this.Ue=this.Ue.insert(i,this.ct(i).add(t)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new av,this.qe.set(t,i)),i}ct(t){let i=this.Ue.get(t);return i||(i=new Ce(Ct),this.Ue=this.Ue.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new Ce(Ct),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new av),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function dc(){return new re(pt.comparator)}function sv(){return new re(pt.comparator)}const lR={asc:"ASCENDING",desc:"DESCENDING"},oR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uR={and:"AND",or:"OR"};class cR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Qd(r,t){return r.useProto3Json||Yc(t)?t:{value:t}}function Pc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function hR(r,t){return Pc(r,t.toTimestamp())}function hi(r){return qt(!!r),At.fromTimestamp(function(i){const s=Or(i);return new Re(s.seconds,s.nanos)}(r))}function Am(r,t){return Kd(r,t).canonicalString()}function Kd(r,t){const i=function(l){return new Jt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?i:i.child(t)}function uE(r){const t=Jt.fromString(r);return qt(mE(t)),t}function Yd(r,t){return Am(r.databaseId,t.path)}function Sd(r,t){const i=uE(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(hE(i))}function cE(r,t){return Am(r.databaseId,t)}function fR(r){const t=uE(r);return t.length===4?Jt.emptyPath():hE(t)}function Xd(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function hE(r){return qt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function lv(r,t,i){return{name:Yd(r,t),fields:i.value.mapValue.fields}}function dR(r,t){let i;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(qt(E===void 0||typeof E=="string"),Fe.fromBase64String(E||"")):(qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Fe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const E=y.code===void 0?et.UNKNOWN:aE(y.code);return new ct(E,y.message||"")}(f);i=new lE(s,l,c,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Sd(r,s.document.name),c=hi(s.document.updateTime),f=s.document.createTime?hi(s.document.createTime):At.min(),m=new un({mapValue:{fields:s.document.fields}}),g=Ze.newFoundDocument(l,c,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];i=new bc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Sd(r,s.document),c=s.readTime?hi(s.readTime):At.min(),f=Ze.newNoDocument(l,c),m=s.removedTargetIds||[];i=new bc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Sd(r,s.document),c=s.removedTargetIds||[];i=new bc([],c,l,null)}else{if(!("filter"in t))return Et();{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new iR(l,c),m=s.targetId;i=new sE(m,f)}}return i}function mR(r,t){let i;if(t instanceof Io)i={update:lv(r,t.key,t.value)};else if(t instanceof vm)i={delete:Yd(r,t.key)};else if(t instanceof kr)i={update:lv(r,t.key,t.data),updateMask:bR(t.fieldMask)};else{if(!(t instanceof tR))return Et();i={verify:Yd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof Mc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ro)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Et()}(0,s))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:hR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et()}(r,t.precondition)),i}function pR(r,t){return r&&r.length>0?(qt(t!==void 0),r.map(i=>function(l,c){let f=l.updateTime?hi(l.updateTime):hi(c);return f.isEqual(At.min())&&(f=hi(c)),new Zw(f,l.transformResults||[])}(i,t))):[]}function gR(r,t){return{documents:[cE(r,t.path)]}}function yR(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=cE(r,l);const c=function(y){if(y.length!==0)return dE(Fn.create(y,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const f=function(y){if(y.length!==0)return y.map(E=>function(w){return{field:xs(w.field),direction:ER(w.dir)}}(E))}(t.orderBy);f&&(i.structuredQuery.orderBy=f);const m=Qd(r,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:i,parent:l}}function _R(r){let t=fR(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){qt(s===1);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=function(S){const w=fE(S);return w instanceof Fn&&q0(w)?w.getFilters():[w]}(i.where));let f=[];i.orderBy&&(f=function(S){return S.map(w=>function(U){return new Vc(Ds(U.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(w))}(i.orderBy));let m=null;i.limit&&(m=function(S){let w;return w=typeof S=="object"?S.value:S,Yc(w)?null:w}(i.limit));let g=null;i.startAt&&(g=function(S){const w=!!S.before,M=S.values||[];return new Oc(M,w)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const w=!S.before,M=S.values||[];return new Oc(M,w)}(i.endAt)),jw(t,l,f,c,m,"F",g,y)}function vR(r,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function fE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ds(i.unaryFilter.field);return Ee.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ds(i.unaryFilter.field);return Ee.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ds(i.unaryFilter.field);return Ee.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ds(i.unaryFilter.field);return Ee.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(r):r.fieldFilter!==void 0?function(i){return Ee.create(Ds(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Fn.create(i.compositeFilter.filters.map(s=>fE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et()}}(i.compositeFilter.op))}(r):Et()}function ER(r){return lR[r]}function TR(r){return oR[r]}function AR(r){return uR[r]}function xs(r){return{fieldPath:r.canonicalString()}}function Ds(r){return He.fromServerFormat(r.fieldPath)}function dE(r){return r instanceof Ee?function(i){if(i.op==="=="){if(Y_(i.value))return{unaryFilter:{field:xs(i.field),op:"IS_NAN"}};if(K_(i.value))return{unaryFilter:{field:xs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y_(i.value))return{unaryFilter:{field:xs(i.field),op:"IS_NOT_NAN"}};if(K_(i.value))return{unaryFilter:{field:xs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(i.field),op:TR(i.op),value:i.value}}}(r):r instanceof Fn?function(i){const s=i.getFilters().map(l=>dE(l));return s.length===1?s[0]:{compositeFilter:{op:AR(i.op),filters:s}}}(r):Et()}function bR(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function mE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,i,s,l,c=At.min(),f=At.min(),m=Fe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.Tt=t}}function wR(r){const t=_R({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Gd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.Tn=new CR}addToCollectionParentIndex(t,i){return this.Tn.add(i),tt.resolve()}getCollectionParents(t,i){return tt.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return tt.resolve()}deleteFieldIndex(t,i){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,i){return tt.resolve()}getDocumentsMatchingTarget(t,i){return tt.resolve(null)}getIndexType(t,i){return tt.resolve(0)}getFieldIndexes(t,i){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,i){return tt.resolve(Ir.min())}getMinOffsetFromCollectionGroup(t,i){return tt.resolve(Ir.min())}updateCollectionGroup(t,i,s){return tt.resolve()}updateIndexEntries(t,i){return tt.resolve()}}class CR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Ce(Jt.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ce(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pE=41943040;class on{static withCacheSize(t){return new on(t,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(pE,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Ls(0)}static Kn(){return new Ls(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="LruGarbageCollector",xR=1048576;function cv([r,t],[i,s]){const l=Ct(r,i);return l===0?Ct(t,s):l}class DR{constructor(t){this.Hn=t,this.buffer=new Ce(cv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();cv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class NR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ot(uv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Fs(i)?ot(uv,"Ignoring IndexedDB error during garbage collection: ",i):await Hs(i)}await this.er(3e5)})}}class IR{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return tt.resolve(Kc.ae);const s=new DR(i);return this.tr.forEachTarget(t,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.tr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(ov)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ov):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let s,l,c,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(t,l))).next(S=>(s=S,m=Date.now(),this.removeTargets(t,s,i))).next(S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(y=Date.now(),Rs()<=Lt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S})))}}function OR(r,t){return new IR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.changes=new Oa(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?tt.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&po(s.mutation,l,Tn.empty(),Re.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Ot()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Ot()){const l=Sa();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(c=>{let f=oo();return c.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,i){const s=Sa();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Ot()))}populateOverlays(t,i,s){const l=[];return s.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((f,m)=>{i.set(f,m)})})}computeViews(t,i,s,l){let c=Gi();const f=mo(),m=function(){return mo()}();return i.forEach((g,y)=>{const E=s.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof kr)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),po(E.mutation,y,E.mutation.getFieldMask(),Re.now())):f.set(y.key,Tn.empty())}),this.recalculateAndSaveOverlays(t,c).next(g=>(g.forEach((y,E)=>f.set(y,E)),i.forEach((y,E)=>{var S;return m.set(y,new MR(E,(S=f.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,i){const s=mo();let l=new re((f,m)=>f-m),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=i.get(g);if(y===null)return;let E=s.get(g)||Tn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(l.get(m.batchId)||Ot()).add(g);l=l.insert(m.batchId,S)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=Z0();E.forEach(w=>{if(!c.has(w)){const M=iE(i.get(w),s.get(w));M!==null&&S.set(w,M),c=c.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return tt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Q0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):tt.resolve(Sa());let m=To,g=c;return f.next(y=>tt.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(t,E).next(w=>{g=g.insert(E,w)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,g,y,Ot())).next(E=>({batchId:m,changes:$0(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next(s=>{let l=oo();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let f=oo();return this.indexManager.getCollectionParents(t,c).next(m=>tt.forEach(m,g=>{const y=function(S,w){return new No(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next(E=>{E.forEach((S,w)=>{f=f.insert(S,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l))).next(f=>{c.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ze.newInvalidDocument(E)))});let m=oo();return f.forEach((g,y)=>{const E=c.get(g);E!==void 0&&po(E.mutation,y,Tn.empty(),Re.now()),Wc(i,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return tt.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:hi(l.createTime)}}(i)),tt.resolve()}getNamedQuery(t,i){return tt.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(l){return{name:l.name,query:wR(l.bundledQuery),readTime:hi(l.readTime)}}(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.overlays=new re(pt.comparator),this.Rr=new Map}getOverlay(t,i){return tt.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Sa();return tt.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,c)=>{this.Et(t,i,c)}),tt.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),tt.resolve()}getOverlaysForCollection(t,i,s){const l=Sa(),c=i.length+1,f=new pt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&l.set(g.getKey(),g)}return tt.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new re((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Sa(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Sa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=l)););return tt.resolve(m)}Et(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new nR(i,s));let c=this.Rr.get(i);c===void 0&&(c=Ot(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.Vr=new Ce(Me.mr),this.gr=new Ce(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const s=new Me(t,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.wr(new Me(t,i))}Sr(t,i){t.forEach(s=>this.removeReference(s,i))}br(t){const i=new pt(new Jt([])),s=new Me(i,t),l=new Me(i,t+1),c=[];return this.gr.forEachInRange([s,l],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new pt(new Jt([])),s=new Me(i,t),l=new Me(i,t+1);let c=Ot();return this.gr.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(t){const i=new Me(t,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return pt.comparator(t.key,i.key)||Ct(t.Cr,i.Cr)}static pr(t,i){return Ct(t.Cr,i.Cr)||pt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Ce(Me.mr)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new eR(c,i,s,l);this.mutationQueue.push(f);for(const m of l)this.Mr=this.Mr.add(new Me(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(f)}lookupMutationBatch(t,i){return tt.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Nr(s),c=l<0?0:l;return tt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?dm:this.Fr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Me(i,0),l=new Me(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,l],f=>{const m=this.Or(f.Cr);c.push(m)}),tt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ce(Ct);return i.forEach(l=>{const c=new Me(l,0),f=new Me(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],m=>{s=s.add(m.Cr)})}),tt.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const f=new Me(new pt(c),0);let m=new Ce(Ct);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(m=m.add(g.Cr)),!0)},f),tt.resolve(this.Br(m))}Br(t){const i=[];return t.forEach(s=>{const l=this.Or(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return tt.forEach(i.mutations,l=>{const c=new Me(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,i){const s=new Me(i,0),l=this.Mr.firstAfterOrEqual(s);return tt.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t){this.kr=t,this.docs=function(){return new re(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,f=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return tt.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let s=Gi();return i.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))}),tt.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=Gi();const f=i.path,m=new pt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||gw(pw(E),s)<=0||(l.has(E.key)||Wc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return tt.resolve(c)}getAllFromCollectionGroup(t,i,s,l){Et()}qr(t,i){return tt.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new BR(this)}getSize(t){return tt.resolve(this.size)}}class BR extends VR{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(s)}),tt.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t){this.persistence=t,this.Qr=new Oa(i=>gm(i),ym),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Ur=new bm,this.targetCount=0,this.Kr=Ls.Un()}forEachTarget(t,i){return this.Qr.forEach((s,l)=>i(l)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),tt.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Kr=new Ls(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,tt.resolve()}updateTargetData(t,i){return this.zn(i),tt.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),tt.waitFor(c).next(()=>l)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,i){const s=this.Qr.get(i)||null;return tt.resolve(s)}addMatchingKeys(t,i,s){return this.Ur.yr(i,s),tt.resolve()}removeMatchingKeys(t,i,s){this.Ur.Sr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(f=>{c.push(l.markPotentiallyOrphaned(t,f))}),tt.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Ur.br(i),tt.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Ur.vr(i);return tt.resolve(s)}containsKey(t,i){return tt.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new Kc(0),this.zr=!1,this.zr=!0,this.jr=new jR,this.referenceDelegate=t(this),this.Hr=new qR(this),this.indexManager=new RR,this.remoteDocumentCache=function(l){return new zR(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new SR(i),this.Yr=new PR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new LR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.Wr[t.toKey()];return s||(s=new kR(i,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,s){ot("MemoryPersistence","Starting transaction:",t);const l=new HR(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(t,i){return tt.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,i)))}}class HR extends _w{constructor(t){super(),this.currentSequenceNumber=t}}class Sm{constructor(t){this.persistence=t,this.ti=new bm,this.ni=null}static ri(t){return new Sm(t)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(t,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),tt.resolve()}removeReference(t,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),tt.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.ii,s=>{const l=pt.fromPath(s);return this.si(t,l).next(c=>{c||i.removeEntry(l,At.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return tt.or([()=>tt.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class Lc{constructor(t,i){this.persistence=t,this.oi=new Oa(s=>Tw(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=OR(this,i)}static ri(t,i){return new Lc(t,i)}Zr(){}Xr(t){return tt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}sr(t){let i=0;return this.rr(t,s=>{i++}).next(()=>i)}rr(t,i){return tt.forEach(this.oi,(s,l)=>this.ar(t,s,l).next(c=>c?tt.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(t,f=>this.ar(t,f,i).next(m=>{m||(s++,c.removeEntry(f,At.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),tt.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),tt.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Ec(t.data.value)),i}ar(t,i,s){return tt.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.oi.get(i);return tt.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Hi=s,this.Ji=l}static Yi(t,i){let s=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new wm(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Gb()?8:vw(Hb())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.rs(t,i).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(t,i,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new FR;return this._s(t,i,f).next(m=>{if(c.result=m,this.Xi)return this.us(t,i,f,m.size)})}).next(()=>c.result)}us(t,i,s,l){return s.documentReadCount<this.es?(Rs()<=Lt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Cs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),tt.resolve()):(Rs()<=Lt.DEBUG&&ot("QueryEngine","Query:",Cs(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(Rs()<=Lt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Cs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ci(i))):tt.resolve())}rs(t,i){if(W_(i))return tt.resolve(null);let s=ci(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Gd(i,null,"F"),s=ci(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Ot(...c);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(g=>{const y=this.cs(i,m);return this.ls(i,y,f,g.readTime)?this.rs(t,Gd(i,null,"F")):this.hs(t,y,i,g)}))})))}ss(t,i,s,l){return W_(i)||l.isEqual(At.min())?tt.resolve(null):this.ns.getDocuments(t,s).next(c=>{const f=this.cs(i,c);return this.ls(i,f,s,l)?tt.resolve(null):(Rs()<=Lt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Cs(i)),this.hs(t,f,i,mw(l,To)).next(m=>m))})}cs(t,i){let s=new Ce(Y0(t));return i.forEach((l,c)=>{Wc(t,c)&&(s=s.add(c))}),s}ls(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(t,i,s){return Rs()<=Lt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Cs(i)),this.ns.getDocumentsMatchingQuery(t,i,Ir.min(),s)}hs(t,i,s,l){return this.ns.getDocumentsMatchingQuery(t,s,l).next(c=>(i.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="LocalStore",QR=3e8;class KR{constructor(t,i,s,l){this.persistence=t,this.Ps=i,this.serializer=l,this.Ts=new re(Ct),this.Is=new Oa(c=>gm(c),ym),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new UR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function YR(r,t,i,s){return new KR(r,t,i,s)}async function yE(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,i.As(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let g=Ot();for(const y of l){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(s,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function XR(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const S=y.batch,w=S.keys();let M=tt.resolve();return w.forEach(U=>{M=M.next(()=>E.getEntry(g,U)).next(K=>{const z=y.docVersions.get(U);qt(z!==null),K.version.compareTo(z)<0&&(S.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ot();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(t))).next(()=>i.localDocuments.getDocuments(s,l))})}function _E(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function $R(r,t){const i=bt(r),s=t.snapshotVersion;let l=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=i.ds.newChangeBuffer({trackRemovals:!0});l=i.Ts;const m=[];t.targetChanges.forEach((E,S)=>{const w=l.get(S);if(!w)return;m.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,S)));let M=w.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?M=M.withResumeToken(Fe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),l=l.insert(S,M),function(K,z,H){return K.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=QR?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(w,M,E)&&m.push(i.Hr.updateTargetData(c,M))});let g=Gi(),y=Ot();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(ZR(c,f,t.documentUpdates).next(E=>{g=E.Vs,y=E.fs})),!s.isEqual(At.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return tt.waitFor(m).next(()=>f.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(i.Ts=l,c))}function ZR(r,t,i){let s=Ot(),l=Ot();return i.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=Gi();return i.forEach((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(At.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ot(Rm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:f,fs:l}})}function WR(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=dm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function JR(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.Hr.getTargetData(s,t).next(c=>c?(l=c,tt.resolve(l)):i.Hr.allocateTargetId(s).next(f=>(l=new Sr(t,f,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(t,s.targetId)),s})}async function $d(r,t,i){const s=bt(r),l=s.Ts.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!Fs(f))throw f;ot(Rm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(l.target)}function hv(r,t,i){const s=bt(r);let l=At.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const S=bt(g),w=S.Is.get(E);return w!==void 0?tt.resolve(S.Ts.get(w)):S.Hr.getTargetData(y,E)}(s,f,ci(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{c=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,i?l:At.min(),i?c:Ot())).next(m=>(t2(s,zw(t),m),{documents:m,gs:c})))}function t2(r,t,i){let s=r.Es.get(t)||At.min();i.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(t,s)}class fv{constructor(){this.activeTargetIds=Qw()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class e2{constructor(){this.ho=new fv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,s){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new fv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="ConnectivityMonitor";class mv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ot(dv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ot(dv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function Zd(){return mc===null?mc=function(){return 268435456+Math.round(2147483648*Math.random())}():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",i2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r2{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===Nc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(t,i,s,l,c){const f=Zd(),m=this.bo(t,i.toUriEncodedString());ot(wd,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,l,c),this.vo(t,m,g,s).then(y=>(ot(wd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw Vs(wd,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(t,i,s,l,c,f){return this.So(t,i,s,l,c)}Do(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}bo(t,i){const s=i2[t];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class s2 extends r2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,s,l){const c=Zd();return new Promise((f,m)=>{const g=new A0;g.setWithCredentials(!0),g.listenOnce(b0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case vc.NO_ERROR:const E=g.getResponseJson();ot(Ye,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),f(E);break;case vc.TIMEOUT:ot(Ye,`RPC '${t}' ${c} timed out`),m(new ct(et.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const S=g.getStatus();if(ot(Ye,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const M=w==null?void 0:w.error;if(M&&M.status&&M.message){const U=function(z){const H=z.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(H)>=0?H:et.UNKNOWN}(M.status);m(new ct(U,M.message))}else m(new ct(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ct(et.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ot(Ye,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(l);ot(Ye,`RPC '${t}' ${c} sending request:`,l),g.send(i,"POST",y,s,15)})}Wo(t,i,s){const l=Zd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=R0(),m=w0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const E=c.join("");ot(Ye,`Creating RPC '${t}' stream ${l}: ${E}`,g);const S=f.createWebChannel(E,g);let w=!1,M=!1;const U=new a2({Fo:z=>{M?ot(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,z):(w||(ot(Ye,`Opening RPC '${t}' stream ${l} transport.`),S.open(),w=!0),ot(Ye,`RPC '${t}' stream ${l} sending:`,z),S.send(z))},Mo:()=>S.close()}),K=(z,H,it)=>{z.listen(H,W=>{try{it(W)}catch(ut){setTimeout(()=>{throw ut},0)}})};return K(S,lo.EventType.OPEN,()=>{M||(ot(Ye,`RPC '${t}' stream ${l} transport opened.`),U.Qo())}),K(S,lo.EventType.CLOSE,()=>{M||(M=!0,ot(Ye,`RPC '${t}' stream ${l} transport closed`),U.Uo())}),K(S,lo.EventType.ERROR,z=>{M||(M=!0,Vs(Ye,`RPC '${t}' stream ${l} transport errored:`,z),U.Uo(new ct(et.UNAVAILABLE,"The operation could not be completed")))}),K(S,lo.EventType.MESSAGE,z=>{var H;if(!M){const it=z.data[0];qt(!!it);const W=it,ut=(W==null?void 0:W.error)||((H=W[0])===null||H===void 0?void 0:H.error);if(ut){ot(Ye,`RPC '${t}' stream ${l} received error:`,ut);const ft=ut.status;let St=function(C){const O=ve[C];if(O!==void 0)return aE(O)}(ft),V=ut.message;St===void 0&&(St=et.INTERNAL,V="Unknown error status: "+ft+" with message "+ut.message),M=!0,U.Uo(new ct(St,V)),S.close()}else ot(Ye,`RPC '${t}' stream ${l} received:`,it),U.Ko(it)}}),K(m,S0.STAT_EVENT,z=>{z.stat===jd.PROXY?ot(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):z.stat===jd.NOPROXY&&ot(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function Rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(r){return new cR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=s,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,i-s);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="PersistentStream";class EE{constructor(t,i,s,l,c,f,m,g){this.Ti=t,this.n_=s,this.r_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new vE(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(Fi(i.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===i&&this.V_(s,l)},s=>{t(()=>{const l=new ct(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(t,i){const s=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ot(pv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(ot(pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class l2 extends EE{constructor(t,i,s,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,f),this.serializer=c}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=dR(this.serializer,t),s=function(c){if(!("targetChange"in c))return At.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?hi(f.readTime):At.min()}(t);return this.listener.p_(i,s)}y_(t){const i={};i.database=Xd(this.serializer),i.addTarget=function(c,f){let m;const g=f.target;if(m=Hd(g)?{documents:gR(c,g)}:{query:yR(c,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=oE(c,f.resumeToken);const y=Qd(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=Pc(c,f.snapshotVersion.toTimestamp());const y=Qd(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=vR(this.serializer,t);s&&(i.labels=s),this.I_(i)}w_(t){const i={};i.database=Xd(this.serializer),i.removeTarget=t,this.I_(i)}}class o2 extends EE{constructor(t,i,s,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,f),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return qt(!!t.streamToken),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){qt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=pR(t.writeResults,t.commitTime),s=hi(t.commitTime);return this.listener.v_(s,i)}C_(){const t={};t.database=Xd(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>mR(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{}class c2 extends u2{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(t,Kd(i,s),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(et.UNKNOWN,c.toString())})}Co(t,i,s,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,Kd(i,s),l,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(et.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class h2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Fi(i),this.N_=!1):ot("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="RemoteStore";class f2{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{s.enqueueAndForget(async()=>{Va(this)&&(ot(xa,"Restarting streams for network reachability change."),await async function(g){const y=bt(g);y.W_.add(4),await Vo(y),y.j_.set("Unknown"),y.W_.delete(4),await ih(y)}(this))})}),this.j_=new h2(s,l)}}async function ih(r){if(Va(r))for(const t of r.G_)await t(!0)}async function Vo(r){for(const t of r.G_)await t(!1)}function TE(r,t){const i=bt(r);i.K_.has(t.targetId)||(i.K_.set(t.targetId,t),Nm(i)?Dm(i):Gs(i).c_()&&xm(i,t))}function Cm(r,t){const i=bt(r),s=Gs(i);i.K_.delete(t),s.c_()&&AE(i,t),i.K_.size===0&&(s.c_()?s.P_():Va(i)&&i.j_.set("Unknown"))}function xm(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Gs(r).y_(t)}function AE(r,t){r.H_.Ne(t),Gs(r).w_(t)}function Dm(r){r.H_=new sR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Gs(r).start(),r.j_.B_()}function Nm(r){return Va(r)&&!Gs(r).u_()&&r.K_.size>0}function Va(r){return bt(r).W_.size===0}function bE(r){r.H_=void 0}async function d2(r){r.j_.set("Online")}async function m2(r){r.K_.forEach((t,i)=>{xm(r,t)})}async function p2(r,t){bE(r),Nm(r)?(r.j_.q_(t),Dm(r)):r.j_.set("Unknown")}async function g2(r,t,i){if(r.j_.set("Online"),t instanceof lE&&t.state===2&&t.cause)try{await async function(l,c){const f=c.cause;for(const m of c.targetIds)l.K_.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.K_.delete(m),l.H_.removeTarget(m))}(r,t)}catch(s){ot(xa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await jc(r,s)}else if(t instanceof bc?r.H_.We(t):t instanceof sE?r.H_.Ze(t):r.H_.je(t),!i.isEqual(At.min()))try{const s=await _E(r.localStore);i.compareTo(s)>=0&&await function(c,f){const m=c.H_.ot(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.K_.get(y);E&&c.K_.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=c.K_.get(g);if(!E)return;c.K_.set(g,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),AE(c,g);const S=new Sr(E.target,g,y,E.sequenceNumber);xm(c,S)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){ot(xa,"Failed to raise snapshot:",s),await jc(r,s)}}async function jc(r,t,i){if(!Fs(t))throw t;r.W_.add(1),await Vo(r),r.j_.set("Offline"),i||(i=()=>_E(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(xa,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await ih(r)})}function SE(r,t){return t().catch(i=>jc(r,i,t))}async function rh(r){const t=bt(r),i=Ur(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:dm;for(;y2(t);)try{const l=await WR(t.localStore,s);if(l===null){t.U_.length===0&&i.P_();break}s=l.batchId,_2(t,l)}catch(l){await jc(t,l)}wE(t)&&RE(t)}function y2(r){return Va(r)&&r.U_.length<10}function _2(r,t){r.U_.push(t);const i=Ur(r);i.c_()&&i.S_&&i.b_(t.mutations)}function wE(r){return Va(r)&&!Ur(r).u_()&&r.U_.length>0}function RE(r){Ur(r).start()}async function v2(r){Ur(r).C_()}async function E2(r){const t=Ur(r);for(const i of r.U_)t.b_(i.mutations)}async function T2(r,t,i){const s=r.U_.shift(),l=Em.from(s,t,i);await SE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await rh(r)}async function A2(r,t){t&&Ur(r).S_&&await async function(s,l){if(function(f){return rR(f)&&f!==et.ABORTED}(l.code)){const c=s.U_.shift();Ur(s).h_(),await SE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await rh(s)}}(r,t),wE(r)&&RE(r)}async function gv(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),ot(xa,"RemoteStore received new credentials");const s=Va(i);i.W_.add(3),await Vo(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await ih(i)}async function b2(r,t){const i=bt(r);t?(i.W_.delete(2),await ih(i)):t||(i.W_.add(2),await Vo(i),i.j_.set("Unknown"))}function Gs(r){return r.J_||(r.J_=function(i,s,l){const c=bt(i);return c.M_(),new l2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:d2.bind(null,r),No:m2.bind(null,r),Lo:p2.bind(null,r),p_:g2.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Nm(r)?Dm(r):r.j_.set("Unknown")):(await r.J_.stop(),bE(r))})),r.J_}function Ur(r){return r.Y_||(r.Y_=function(i,s,l){const c=bt(i);return c.M_(),new o2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:v2.bind(null,r),Lo:A2.bind(null,r),D_:E2.bind(null,r),v_:T2.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await rh(r)):(await r.Y_.stop(),r.U_.length>0&&(ot(xa,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const f=Date.now()+s,m=new Im(t,i,f,l,c);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(r,t){if(Fi("AsyncQueue",`${t}: ${r}`),Fs(r))return new ct(et.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{static emptySet(t){return new Is(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=oo(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Is)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Is;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.Z_=new re(pt.comparator)}track(t){const i=t.doc.key,s=this.Z_.get(i);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(i):t.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):Et():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,s)=>{t.push(s)}),t}}class js{constructor(t,i,s,l,c,f,m,g,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,l,c){const f=[];return i.forEach(m=>{f.push({type:0,doc:m})}),new js(t,i,Is.emptySet(i),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class w2{constructor(){this.queries=_v(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const l=bt(i),c=l.queries;l.queries=_v(),c.forEach((f,m)=>{for(const g of m.ta)g.onError(s)})})(this,new ct(et.ABORTED,"Firestore shutting down"))}}function _v(){return new Oa(r=>K0(r),Zc)}async function CE(r,t){const i=bt(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.na()&&t.ra()&&(s=2):(c=new S2,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(l,!0);break;case 1:c.ea=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(f){const m=Om(f,`Initialization of query '${Cs(t.query)}' failed`);return void t.onError(m)}i.queries.set(l,c),c.ta.push(t),t.sa(i.onlineState),c.ea&&t.oa(c.ea)&&Vm(i)}async function xE(r,t){const i=bt(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const f=c.ta.indexOf(t);f>=0&&(c.ta.splice(f,1),c.ta.length===0?l=t.ra()?0:1:!c.na()&&t.ra()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function R2(r,t){const i=bt(r);let s=!1;for(const l of t){const c=l.query,f=i.queries.get(c);if(f){for(const m of f.ta)m.oa(l)&&(s=!0);f.ea=l}}s&&Vm(i)}function C2(r,t,i){const s=bt(r),l=s.queries.get(t);if(l)for(const c of l.ta)c.onError(i);s.queries.delete(t)}function Vm(r){r.ia.forEach(t=>{t.next()})}var Wd,vv;(vv=Wd||(Wd={}))._a="default",vv.Cache="cache";class DE{constructor(t,i,s){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new js(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=js.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Wd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t){this.key=t}}class IE{constructor(t){this.key=t}}class x2{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ot(),this.mutatedKeys=Ot(),this.ya=Y0(t),this.wa=new Is(this.ya)}get Sa(){return this.fa}ba(t,i){const s=i?i.Da:new yv,l=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,f=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((E,S)=>{const w=l.get(E),M=Wc(this.query,S)?S:null,U=!!w&&this.mutatedKeys.has(w.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let z=!1;w&&M?w.data.isEqual(M.data)?U!==K&&(s.track({type:3,doc:M}),z=!0):this.va(w,M)||(s.track({type:2,doc:M}),z=!0,(g&&this.ya(M,g)>0||y&&this.ya(M,y)<0)&&(m=!0)):!w&&M?(s.track({type:0,doc:M}),z=!0):w&&!M&&(s.track({type:1,doc:w}),z=!0,(g||y)&&(m=!0)),z&&(M?(f=f.add(M),c=K?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:c}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((E,S)=>function(M,U){const K=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return K(M)-K(U)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),l=l!=null&&l;const m=i&&!l?this.Fa():[],g=this.pa.size===0&&this.current&&!l?1:0,y=g!==this.ga;return this.ga=g,f.length!==0||y?{snapshot:new js(this.query,t.wa,c,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new yv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ot(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return t.forEach(s=>{this.pa.has(s)||i.push(new IE(s))}),this.pa.forEach(s=>{t.has(s)||i.push(new NE(s))}),i}Oa(t){this.fa=t.gs,this.pa=Ot();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return js.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Mm="SyncEngine";class D2{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class N2{constructor(t){this.key=t,this.Ba=!1}}class I2{constructor(t,i,s,l,c,f){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Oa(m=>K0(m),Zc),this.qa=new Map,this.Qa=new Set,this.$a=new re(pt.comparator),this.Ua=new Map,this.Ka=new bm,this.Wa={},this.Ga=new Map,this.za=Ls.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function O2(r,t,i=!0){const s=LE(r);let l;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await OE(s,t,i,!0),l}async function V2(r,t){const i=LE(r);await OE(i,t,!0,!1)}async function OE(r,t,i,s){const l=await JR(r.localStore,ci(t)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await M2(r,t,c,f==="current",l.resumeToken)),r.isPrimaryClient&&i&&TE(r.remoteStore,l),m}async function M2(r,t,i,s,l){r.Ha=(S,w,M)=>async function(K,z,H,it){let W=z.view.ba(H);W.ls&&(W=await hv(K.localStore,z.query,!1).then(({documents:V})=>z.view.ba(V,W)));const ut=it&&it.targetChanges.get(z.targetId),ft=it&&it.targetMismatches.get(z.targetId)!=null,St=z.view.applyChanges(W,K.isPrimaryClient,ut,ft);return Tv(K,z.targetId,St.Ma),St.snapshot}(r,S,w,M);const c=await hv(r.localStore,t,!0),f=new x2(t,c.gs),m=f.ba(c.documents),g=Oo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=f.applyChanges(m,r.isPrimaryClient,g);Tv(r,i,y.Ma);const E=new D2(t,i,f);return r.ka.set(t,E),r.qa.has(i)?r.qa.get(i).push(t):r.qa.set(i,[t]),y.snapshot}async function U2(r,t,i){const s=bt(r),l=s.ka.get(t),c=s.qa.get(l.targetId);if(c.length>1)return s.qa.set(l.targetId,c.filter(f=>!Zc(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await $d(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Cm(s.remoteStore,l.targetId),Jd(s,l.targetId)}).catch(Hs)):(Jd(s,l.targetId),await $d(s.localStore,l.targetId,!0))}async function P2(r,t){const i=bt(r),s=i.ka.get(t),l=i.qa.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Cm(i.remoteStore,s.targetId))}async function L2(r,t,i){const s=F2(r);try{const l=await function(f,m){const g=bt(f),y=Re.now(),E=m.reduce((M,U)=>M.add(U.key),Ot());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",M=>{let U=Gi(),K=Ot();return g.ds.getEntries(M,E).next(z=>{U=z,U.forEach((H,it)=>{it.isValidDocument()||(K=K.add(H))})}).next(()=>g.localDocuments.getOverlayedDocuments(M,U)).next(z=>{S=z;const H=[];for(const it of m){const W=Jw(it,S.get(it.key).overlayedDocument);W!=null&&H.push(new kr(it.key,W,k0(W.value.mapValue),Pn.exists(!0)))}return g.mutationQueue.addMutationBatch(M,y,H,m)}).next(z=>{w=z;const H=z.applyToLocalDocumentSet(S,K);return g.documentOverlayCache.saveOverlays(M,z.batchId,H)})}).then(()=>({batchId:w.batchId,changes:$0(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,m,g){let y=f.Wa[f.currentUser.toKey()];y||(y=new re(Ct)),y=y.insert(m,g),f.Wa[f.currentUser.toKey()]=y}(s,l.batchId,i),await Mo(s,l.changes),await rh(s.remoteStore)}catch(l){const c=Om(l,"Failed to persist write");i.reject(c)}}async function VE(r,t){const i=bt(r);try{const s=await $R(i.localStore,t);t.targetChanges.forEach((l,c)=>{const f=i.Ua.get(c);f&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Ba=!0:l.modifiedDocuments.size>0?qt(f.Ba):l.removedDocuments.size>0&&(qt(f.Ba),f.Ba=!1))}),await Mo(i,s,t)}catch(s){await Hs(s)}}function Ev(r,t,i){const s=bt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.ka.forEach((c,f)=>{const m=f.view.sa(t);m.snapshot&&l.push(m.snapshot)}),function(f,m){const g=bt(f);g.onlineState=m;let y=!1;g.queries.forEach((E,S)=>{for(const w of S.ta)w.sa(m)&&(y=!0)}),y&&Vm(g)}(s.eventManager,t),l.length&&s.La.p_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function j2(r,t,i){const s=bt(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Ua.get(t),c=l&&l.key;if(c){let f=new re(pt.comparator);f=f.insert(c,Ze.newNoDocument(c,At.min()));const m=Ot().add(c),g=new eh(At.min(),new Map,new re(Ct),f,m);await VE(s,g),s.$a=s.$a.remove(c),s.Ua.delete(t),Um(s)}else await $d(s.localStore,t,!1).then(()=>Jd(s,t,i)).catch(Hs)}async function k2(r,t){const i=bt(r),s=t.batch.batchId;try{const l=await XR(i.localStore,t);UE(i,s,null),ME(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Mo(i,l)}catch(l){await Hs(l)}}async function z2(r,t,i){const s=bt(r);try{const l=await function(f,m){const g=bt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(S=>(qt(S!==null),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,t);UE(s,t,i),ME(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Mo(s,l)}catch(l){await Hs(l)}}function ME(r,t){(r.Ga.get(t)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(t)}function UE(r,t,i){const s=bt(r);let l=s.Wa[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Wa[s.currentUser.toKey()]=l}}function Jd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(s=>{r.Ka.containsKey(s)||PE(r,s)})}function PE(r,t){r.Qa.delete(t.path.canonicalString());const i=r.$a.get(t);i!==null&&(Cm(r.remoteStore,i),r.$a=r.$a.remove(t),r.Ua.delete(i),Um(r))}function Tv(r,t,i){for(const s of i)s instanceof NE?(r.Ka.addReference(s.key,t),B2(r,s)):s instanceof IE?(ot(Mm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,t),r.Ka.containsKey(s.key)||PE(r,s.key)):Et()}function B2(r,t){const i=t.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(ot(Mm,"New document in limbo: "+i),r.Qa.add(s),Um(r))}function Um(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const i=new pt(Jt.fromString(t)),s=r.za.next();r.Ua.set(s,new N2(i)),r.$a=r.$a.insert(i,s),TE(r.remoteStore,new Sr(ci($c(i.path)),s,"TargetPurposeLimboResolution",Kc.ae))}}async function Mo(r,t,i){const s=bt(r),l=[],c=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{f.push(s.Ha(g,t,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(y){l.push(y);const S=wm.Yi(g.targetId,y);c.push(S)}}))}),await Promise.all(f),s.La.p_(l),await async function(g,y){const E=bt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>tt.forEach(y,w=>tt.forEach(w.Hi,M=>E.persistence.referenceDelegate.addReference(S,w.targetId,M)).next(()=>tt.forEach(w.Ji,M=>E.persistence.referenceDelegate.removeReference(S,w.targetId,M)))))}catch(S){if(!Fs(S))throw S;ot(Rm,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const M=E.Ts.get(w),U=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion(U);E.Ts=E.Ts.insert(w,K)}}}(s.localStore,c))}async function q2(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){ot(Mm,"User change. New user:",t.toKey());const s=await yE(i.localStore,t);i.currentUser=t,function(c,f){c.Ga.forEach(m=>{m.forEach(g=>{g.reject(new ct(et.CANCELLED,f))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Mo(i,s.Rs)}}function H2(r,t){const i=bt(r),s=i.Ua.get(t);if(s&&s.Ba)return Ot().add(s.key);{let l=Ot();const c=i.qa.get(t);if(!c)return l;for(const f of c){const m=i.ka.get(f);l=l.unionWith(m.view.Sa)}return l}}function LE(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=VE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=H2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=j2.bind(null,t),t.La.p_=R2.bind(null,t.eventManager),t.La.Ja=C2.bind(null,t.eventManager),t}function F2(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=k2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=z2.bind(null,t),t}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=nh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return YR(this.persistence,new GR,t.initialUser,this.serializer)}Xa(t){return new gE(Sm.ri,this.serializer)}Za(t){return new e2}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class G2 extends kc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){qt(this.persistence.referenceDelegate instanceof Lc);const s=this.persistence.referenceDelegate.garbageCollector;return new NR(s,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new gE(s=>Lc.ri(s,i),this.serializer)}}class tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ev(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=q2.bind(null,this.syncEngine),await b2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new w2}()}createDatastore(t){const i=nh(t.databaseInfo.databaseId),s=function(c){return new s2(c)}(t.databaseInfo);return function(c,f,m,g){return new c2(c,f,m,g)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,c,f,m){return new f2(s,l,c,f,m)}(this.localStore,this.datastore,t.asyncQueue,i=>Ev(this.syncEngine,i,0),function(){return mv.D()?new mv:new n2}())}createSyncEngine(t,i){return function(l,c,f,m,g,y,E){const S=new I2(l,c,f,m,g,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=bt(l);ot(xa,"RemoteStore shutting down."),c.W_.add(5),await Vo(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}tm.provider={build:()=>new tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Fi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="FirestoreClient";class Q2{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=D0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{ot(Pr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ot(Pr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Om(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Cd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(Pr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await yE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Av(r,t){r.asyncQueue.verifyOperationInProgress();const i=await K2(r);ot(Pr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(s=>gv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>gv(t.remoteStore,l)),r._onlineComponents=t}async function K2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Pr,"Using user provided OfflineComponentProvider");try{await Cd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===et.FAILED_PRECONDITION||l.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Vs("Error using user provided cache. Falling back to memory cache: "+i),await Cd(r,new kc)}}else ot(Pr,"Using default OfflineComponentProvider"),await Cd(r,new G2(void 0));return r._offlineComponents}async function kE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Pr,"Using user provided OnlineComponentProvider"),await Av(r,r._uninitializedComponentsProvider._online)):(ot(Pr,"Using default OnlineComponentProvider"),await Av(r,new tm))),r._onlineComponents}function Y2(r){return kE(r).then(t=>t.syncEngine)}async function em(r){const t=await kE(r),i=t.eventManager;return i.onListen=O2.bind(null,t.syncEngine),i.onUnlisten=U2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=V2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=P2.bind(null,t.syncEngine),i}function X2(r,t,i={}){const s=new Dr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,m,g,y){const E=new jE({next:w=>{E.su(),f.enqueueAndForget(()=>xE(c,S));const M=w.docs.has(m);!M&&w.fromCache?y.reject(new ct(et.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&w.fromCache&&g&&g.source==="server"?y.reject(new ct(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new DE($c(m.path),E,{includeMetadataChanges:!0,Ta:!0});return CE(c,S)}(await em(r),r.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(r,t,i){if(!i)throw new ct(et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function $2(r,t,i,s){if(t===!0&&s===!0)throw new ct(et.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Sv(r){if(!pt.isDocumentKey(r))throw new ct(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wv(r){if(pt.isDocumentKey(r))throw new ct(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ah(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et()}function Ln(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ah(r);throw new ct(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="firestore.googleapis.com",Rv=!0;class Cv{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qE,this.ssl=Rv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:Rv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=pE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<xR)throw new ct(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new aw;switch(s.type){case"firstParty":return new uw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=bv.get(i);s&&(ot("ComponentProvider","Removing Datastore"),bv.delete(i),s.terminate())}(this),Promise.resolve()}}function Z2(r,t,i,s={}){var l;const c=(r=Ln(r,sh))._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${i}`;c.host!==qE&&c.host!==m&&Vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:s});if(!Cc(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$e.MOCK_USER;else{y=u0(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ct(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(S)}r._authCredentials=new sw(new C0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Qs(this.firestore,t,this._query)}}class We{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new We(this.firestore,t,this._key)}}class Nr extends Qs{constructor(t,i,s){super(t,i,$c(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new We(this.firestore,null,new pt(t))}withConverter(t){return new Nr(this.firestore,t,this._path)}}function HE(r,t,...i){if(r=cn(r),BE("collection","path",t),r instanceof sh){const s=Jt.fromString(t,...i);return wv(s),new Nr(r,null,s)}{if(!(r instanceof We||r instanceof Nr))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...i));return wv(s),new Nr(r.firestore,null,s)}}function go(r,t,...i){if(r=cn(r),arguments.length===1&&(t=D0.newId()),BE("doc","path",t),r instanceof sh){const s=Jt.fromString(t,...i);return Sv(s),new We(r,null,new pt(s))}{if(!(r instanceof We||r instanceof Nr))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...i));return Sv(s),new We(r.firestore,r instanceof Nr?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="AsyncQueue";class Dv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new vE(this,"async_queue_retry"),this.Su=()=>{const s=Rd();s&&ot(xv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const i=Rd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=Rd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Dr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Fs(t))throw t;ot(xv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const l=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Fi("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(t,i,s){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const l=Im.createAndSchedule(this,t,i,s,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}function Nv(r){return function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Lr extends sh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new Dv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Dv(t),this._firestoreClient=void 0,await t}}}function W2(r,t){const i=typeof r=="object"?r:_0(),s=typeof r=="string"?r:Nc,l=m0(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=l0("firestore");c&&Z2(l,...c)}return l}function Pm(r){if(r._terminated)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||J2(r),r._firestoreClient}function J2(r){var t,i,s;const l=r._freezeSettings(),c=function(m,g,y,E){return new Sw(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,zE(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new Q2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ks(Fe.fromBase64String(t))}catch(i){throw new ct(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ks(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=/^__.*__$/;class eC{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new kr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Io(t,this.data,i,this.fieldTransforms)}}class FE{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new kr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function GE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class zm{constructor(t,i,s,l,c,f){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new zm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:s,Qu:!1});return l.$u(t),l}Uu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return zc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(GE(this.Lu)&&tC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class nC{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||nh(t)}ju(t,i,s,l=!1){return new zm({Lu:t,methodName:i,zu:s,path:He.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oh(r){const t=r._freezeSettings(),i=nh(r._databaseId);return new nC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function QE(r,t,i,s,l,c={}){const f=r.ju(c.merge||c.mergeFields?2:0,t,i,l);Bm("Data must be an object, but it was:",f,s);const m=KE(s,f);let g,y;if(c.merge)g=new Tn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const w=nm(t,S,i);if(!f.contains(w))throw new ct(et.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);XE(E,w)||E.push(w)}g=new Tn(E),y=f.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=f.fieldTransforms;return new eC(new un(m),g,y)}class uh extends Lm{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof uh}}function iC(r,t,i,s){const l=r.ju(1,t,i);Bm("Data must be an object, but it was:",l,s);const c=[],f=un.empty();jr(s,(g,y)=>{const E=qm(t,g,i);y=cn(y);const S=l.Uu(E);if(y instanceof uh)c.push(E);else{const w=Uo(y,S);w!=null&&(c.push(E),f.set(E,w))}});const m=new Tn(c);return new FE(f,m,l.fieldTransforms)}function rC(r,t,i,s,l,c){const f=r.ju(1,t,i),m=[nm(t,s,i)],g=[l];if(c.length%2!=0)throw new ct(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)m.push(nm(t,c[w])),g.push(c[w+1]);const y=[],E=un.empty();for(let w=m.length-1;w>=0;--w)if(!XE(y,m[w])){const M=m[w];let U=g[w];U=cn(U);const K=f.Uu(M);if(U instanceof uh)y.push(M);else{const z=Uo(U,K);z!=null&&(y.push(M),E.set(M,z))}}const S=new Tn(y);return new FE(E,S,f.fieldTransforms)}function aC(r,t,i,s=!1){return Uo(i,r.ju(s?4:3,t))}function Uo(r,t){if(YE(r=cn(r)))return Bm("Unsupported field value:",t,r),KE(r,t);if(r instanceof Lm)return function(s,l){if(!GE(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const m of s){let g=Uo(m,l.Ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Kw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Re.fromDate(s);return{timestampValue:Pc(l.serializer,c)}}if(s instanceof Re){const c=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Pc(l.serializer,c)}}if(s instanceof jm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ks)return{bytesValue:oE(l.serializer,s._byteString)};if(s instanceof We){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Am(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof km)return function(f,m){return{mapValue:{fields:{[L0]:{stringValue:j0},[Ic]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return _m(m.serializer,y)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${ah(s)}`)}(r,t)}function KE(r,t){const i={};return I0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jr(r,(s,l)=>{const c=Uo(l,t.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function YE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof jm||r instanceof ks||r instanceof We||r instanceof Lm||r instanceof km)}function Bm(r,t,i){if(!YE(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const s=ah(i);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function nm(r,t,i){if((t=cn(t))instanceof lh)return t._internalPath;if(typeof t=="string")return qm(r,t);throw zc("Field path arguments must be of type string or ",r,!1,void 0,i)}const sC=new RegExp("[~\\*/\\[\\]]");function qm(r,t,i){if(t.search(sC)>=0)throw zc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new lh(...t.split("."))._internalPath}catch{throw zc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function zc(r,t,i,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${s}`),f&&(g+=` in document ${l}`),g+=")"),new ct(et.INVALID_ARGUMENT,m+r+g)}function XE(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(ZE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class lC extends $E{data(){return super.data()}}function ZE(r,t){return typeof t=="string"?qm(r,t):t instanceof lh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hm{}class uC extends Hm{}function cC(r,t,...i){let s=[];t instanceof Hm&&s.push(t),s=s.concat(i),function(c){const f=c.filter(g=>g instanceof Gm).length,m=c.filter(g=>g instanceof Fm).length;if(f>1||f>0&&m>0)throw new ct(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class Fm extends uC{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Fm(t,i,s)}_apply(t){const i=this._parse(t);return WE(t._query,i),new Qs(t.firestore,t.converter,Fd(t._query,i))}_parse(t){const i=oh(t.firestore);return function(c,f,m,g,y,E,S){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Ov(S,E);const U=[];for(const K of S)U.push(Iv(g,c,K));w={arrayValue:{values:U}}}else w=Iv(g,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Ov(S,E),w=aC(m,f,S,E==="in"||E==="not-in");return Ee.create(y,E,w)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Gm extends Hm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Gm(t,i)}_parse(t){const i=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Fn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(l,c){let f=l;const m=c.getFlattenedFilters();for(const g of m)WE(f,g),f=Fd(f,g)}(t._query,i),new Qs(t.firestore,t.converter,Fd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Iv(r,t,i){if(typeof(i=cn(i))=="string"){if(i==="")throw new ct(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q0(t)&&i.indexOf("/")!==-1)throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Jt.fromString(i));if(!pt.isDocumentKey(s))throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Q_(r,new pt(s))}if(i instanceof We)return Q_(r,i._key);throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(i)}.`)}function Ov(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function WE(r,t){const i=function(l,c){for(const f of l)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class hC{convertValue(t,i="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return jr(t,(l,c)=>{s[l]=this.convertValue(c,i)}),s}convertVectorValue(t){var i,s,l;const c=(l=(s=(i=t.fields)===null||i===void 0?void 0:i[Ic].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>me(f.doubleValue));return new km(c)}convertGeoPoint(t){return new jm(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Xc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Ao(t));default:return null}}convertTimestamp(t){const i=Or(t);return new Re(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Jt.fromString(t);qt(mE(s));const l=new bo(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return l.isEqual(i)||Fi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(r,t,i){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class tT extends $E{constructor(t,i,s,l,c,f){super(t,i,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(ZE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Sc extends tT{data(t={}){return super.data(t)}}class fC{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new co(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new Sc(this._firestore,this._userDataWriter,s.key,s,new co(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(m=>{const g=new Sc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new co(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new Sc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new co(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:dC(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function dC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(r){r=Ln(r,We);const t=Ln(r.firestore,Lr);return X2(Pm(t),r._key).then(i=>nT(t,r,i))}class eT extends hC{constructor(t){super(),this.firestore=t}convertBytes(t){return new ks(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new We(this.firestore,null,i)}}function pC(r,t,i){r=Ln(r,We);const s=Ln(r.firestore,Lr),l=JE(r.converter,t);return ch(s,[QE(oh(s),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Pn.none())])}function gC(r,t,i,...s){r=Ln(r,We);const l=Ln(r.firestore,Lr),c=oh(l);let f;return f=typeof(t=cn(t))=="string"||t instanceof lh?rC(c,"updateDoc",r._key,t,i,s):iC(c,"updateDoc",r._key,t),ch(l,[f.toMutation(r._key,Pn.exists(!0))])}function yC(r){return ch(Ln(r.firestore,Lr),[new vm(r._key,Pn.none())])}function _C(r,t){const i=Ln(r.firestore,Lr),s=go(r),l=JE(r.converter,t);return ch(i,[QE(oh(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Pn.exists(!1))]).then(()=>s)}function vC(r,...t){var i,s,l;r=cn(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||Nv(t[f])||(c=t[f],f++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Nv(t[f])){const S=t[f];t[f]=(i=S.next)===null||i===void 0?void 0:i.bind(S),t[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),t[f+2]=(l=S.complete)===null||l===void 0?void 0:l.bind(S)}let g,y,E;if(r instanceof We)y=Ln(r.firestore,Lr),E=$c(r._key.path),g={next:S=>{t[f]&&t[f](nT(y,r,S))},error:t[f+1],complete:t[f+2]};else{const S=Ln(r,Qs);y=Ln(S.firestore,Lr),E=S._query;const w=new eT(y);g={next:M=>{t[f]&&t[f](new fC(y,w,S,M))},error:t[f+1],complete:t[f+2]},oC(r._query)}return function(w,M,U,K){const z=new jE(K),H=new DE(M,z,U);return w.asyncQueue.enqueueAndForget(async()=>CE(await em(w),H)),()=>{z.su(),w.asyncQueue.enqueueAndForget(async()=>xE(await em(w),H))}}(Pm(y),E,m,g)}function ch(r,t){return function(s,l){const c=new Dr;return s.asyncQueue.enqueueAndForget(async()=>L2(await Y2(s),l,c)),c.promise}(Pm(r),t)}function nT(r,t,i){const s=i.docs.get(t._key),l=new eT(r);return new tT(r,l,t._key,s,new co(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){qs=l})(g0),vo(new Os("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Lr(new lw(s.getProvider("auth-internal")),new cw(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(y.options.projectId,E)}(f,l),f);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Cr(M_,U_,t),Cr(M_,U_,"esm2017")})();var EC="firebase",TC="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(EC,TC,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="firebasestorage.googleapis.com",rT="storageBucket",AC=2*60*1e3,bC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce extends Ia{constructor(t,i,s=0){super(xd(t),`Firebase Storage: ${i} (${xd(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ce.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return xd(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ue;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ue||(ue={}));function xd(r){return"storage/"+r}function Qm(){const r="An unknown error occurred, please check the error payload for server response.";return new ce(ue.UNKNOWN,r)}function SC(r){return new ce(ue.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function wC(r){return new ce(ue.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function RC(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ce(ue.UNAUTHENTICATED,r)}function CC(){return new ce(ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function xC(r){return new ce(ue.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function DC(){return new ce(ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function NC(){return new ce(ue.CANCELED,"User canceled the upload/download.")}function IC(r){return new ce(ue.INVALID_URL,"Invalid URL '"+r+"'.")}function OC(r){return new ce(ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function VC(){return new ce(ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rT+"' property when initializing the app?")}function MC(){return new ce(ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UC(){return new ce(ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function PC(r){return new ce(ue.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function im(r){return new ce(ue.INVALID_ARGUMENT,r)}function aT(){return new ce(ue.APP_DELETED,"The Firebase app was deleted.")}function LC(r){return new ce(ue.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yo(r,t){return new ce(ue.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function ao(r){throw new ce(ue.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let s;try{s=An.makeFromUrl(t,i)}catch{return new An(t,"")}if(s.path==="")return s;throw OC(t)}static makeFromUrl(t,i){let s=null;const l="([A-Za-z0-9.\\-_]+)";function c(ut){ut.path.charAt(ut.path.length-1)==="/"&&(ut.path_=ut.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+l+f,"i"),g={bucket:1,path:3};function y(ut){ut.path_=decodeURIComponent(ut.path)}const E="v[A-Za-z0-9_]+",S=i.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",M=new RegExp(`^https?://${S}/${E}/b/${l}/o${w}`,"i"),U={bucket:1,path:3},K=i===iT?"(?:storage.googleapis.com|storage.cloud.google.com)":i,z="([^?#]*)",H=new RegExp(`^https?://${K}/${l}/${z}`,"i"),W=[{regex:m,indices:g,postModify:c},{regex:M,indices:U,postModify:y},{regex:H,indices:{bucket:1,path:2},postModify:y}];for(let ut=0;ut<W.length;ut++){const ft=W[ut],St=ft.regex.exec(t);if(St){const V=St[ft.indices.bucket];let R=St[ft.indices.path];R||(R=""),s=new An(V,R),ft.postModify(s);break}}if(s==null)throw IC(t);return s}}class jC{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(r,t,i){let s=1,l=null,c=null,f=!1,m=0;function g(){return m===2}let y=!1;function E(...z){y||(y=!0,t.apply(null,z))}function S(z){l=setTimeout(()=>{l=null,r(M,g())},z)}function w(){c&&clearTimeout(c)}function M(z,...H){if(y){w();return}if(z){w(),E.call(null,z,...H);return}if(g()||f){w(),E.call(null,z,...H);return}s<64&&(s*=2);let W;m===1?(m=2,W=0):W=(s+Math.random())*1e3,S(W)}let U=!1;function K(z){U||(U=!0,w(),!y&&(l!==null?(z||(m=2),clearTimeout(l),S(0)):z||(m=1)))}return S(0),c=setTimeout(()=>{f=!0,K(!0)},i),K}function zC(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(r){return r!==void 0}function qC(r){return typeof r=="object"&&!Array.isArray(r)}function Km(r){return typeof r=="string"||r instanceof String}function Vv(r){return Ym()&&r instanceof Blob}function Ym(){return typeof Blob<"u"}function Mv(r,t,i,s){if(s<t)throw im(`Invalid value for '${r}'. Expected ${t} or greater.`);if(s>i)throw im(`Invalid value for '${r}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(r,t,i){let s=t;return i==null&&(s=`https://${t}`),`${i}://${s}/v0${r}`}function sT(r){const t=encodeURIComponent;let i="?";for(const s in r)if(r.hasOwnProperty(s)){const l=t(s)+"="+t(r[s]);i=i+l+"&"}return i=i.slice(0,-1),i}var Ra;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Ra||(Ra={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r,t){const i=r>=500&&r<600,l=[408,429].indexOf(r)!==-1,c=t.indexOf(r)!==-1;return i||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t,i,s,l,c,f,m,g,y,E,S,w=!0){this.url_=t,this.method_=i,this.headers_=s,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=S,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,U)=>{this.resolve_=M,this.reject_=U,this.start_()})}start_(){const t=(s,l)=>{if(l){s(!1,new pc(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const m=c.getErrorCode()===Ra.NO_ERROR,g=c.getStatus();if(!m||HC(g,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===Ra.ABORT;s(!1,new pc(!1,null,E));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new pc(y,c))})},i=(s,l)=>{const c=this.resolve_,f=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());BC(g)?c(g):c()}catch(g){f(g)}else if(m!==null){const g=Qm();g.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,g)):f(g)}else if(l.canceled){const g=this.appDelete_?aT():NC();f(g)}else{const g=DC();f(g)}};this.canceled_?i(!1,new pc(!1,null,!0)):this.backoffId_=kC(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&zC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pc{constructor(t,i,s){this.wasSuccessCode=t,this.connection=i,this.canceled=!!s}}function GC(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function QC(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function KC(r,t){t&&(r["X-Firebase-GMPID"]=t)}function YC(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function XC(r,t,i,s,l,c,f=!0){const m=sT(r.urlParams),g=r.url+m,y=Object.assign({},r.headers);return KC(y,t),GC(y,i),QC(y,c),YC(y,s),new FC(g,r.method,y,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ZC(...r){const t=$C();if(t!==void 0){const i=new t;for(let s=0;s<r.length;s++)i.append(r[s]);return i.getBlob()}else{if(Ym())return new Blob(r);throw new ce(ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function WC(r,t,i){return r.webkitSlice?r.webkitSlice(t,i):r.mozSlice?r.mozSlice(t,i):r.slice?r.slice(t,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r){if(typeof atob>"u")throw PC("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dd{constructor(t,i){this.data=t,this.contentType=i||null}}function tx(r,t){switch(r){case ui.RAW:return new Dd(lT(t));case ui.BASE64:case ui.BASE64URL:return new Dd(oT(r,t));case ui.DATA_URL:return new Dd(nx(t),ix(t))}throw Qm()}function lT(r){const t=[];for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(i<r.length-1&&(r.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{const c=s,f=r.charCodeAt(++i);s=65536|(c&1023)<<10|f&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function ex(r){let t;try{t=decodeURIComponent(r)}catch{throw yo(ui.DATA_URL,"Malformed data URL.")}return lT(t)}function oT(r,t){switch(r){case ui.BASE64:{const l=t.indexOf("-")!==-1,c=t.indexOf("_")!==-1;if(l||c)throw yo(r,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case ui.BASE64URL:{const l=t.indexOf("+")!==-1,c=t.indexOf("/")!==-1;if(l||c)throw yo(r,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=JC(t)}catch(l){throw l.message.includes("polyfill")?l:yo(r,"Invalid character found")}const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}class uT{constructor(t){this.base64=!1,this.contentType=null;const i=t.match(/^data:([^,]+)?,/);if(i===null)throw yo(ui.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=i[1]||null;s!=null&&(this.base64=rx(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function nx(r){const t=new uT(r);return t.base64?oT(ui.BASE64,t.rest):ex(t.rest)}function ix(r){return new uT(r).contentType}function rx(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,i){let s=0,l="";Vv(t)?(this.data_=t,s=t.size,l=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=l}size(){return this.size_}type(){return this.type_}slice(t,i){if(Vv(this.data_)){const s=this.data_,l=WC(s,t,i);return l===null?null:new br(l)}else{const s=new Uint8Array(this.data_.buffer,t,i-t);return new br(s,!0)}}static getBlob(...t){if(Ym()){const i=t.map(s=>s instanceof br?s.data_:s);return new br(ZC.apply(null,i))}else{const i=t.map(f=>Km(f)?tx(ui.RAW,f).data:f.data_);let s=0;i.forEach(f=>{s+=f.byteLength});const l=new Uint8Array(s);let c=0;return i.forEach(f=>{for(let m=0;m<f.length;m++)l[c++]=f[m]}),new br(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(r){let t;try{t=JSON.parse(r)}catch{return null}return qC(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function sx(r,t){const i=t.split("/").filter(s=>s.length>0).join("/");return r.length===0?i:r+"/"+i}function hT(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(r,t){return t}class rn{constructor(t,i,s,l){this.server=t,this.local=i||t,this.writable=!!s,this.xform=l||lx}}let gc=null;function ox(r){return!Km(r)||r.length<2?r:hT(r)}function fT(){if(gc)return gc;const r=[];r.push(new rn("bucket")),r.push(new rn("generation")),r.push(new rn("metageneration")),r.push(new rn("name","fullPath",!0));function t(c,f){return ox(f)}const i=new rn("name");i.xform=t,r.push(i);function s(c,f){return f!==void 0?Number(f):f}const l=new rn("size");return l.xform=s,r.push(l),r.push(new rn("timeCreated")),r.push(new rn("updated")),r.push(new rn("md5Hash",null,!0)),r.push(new rn("cacheControl",null,!0)),r.push(new rn("contentDisposition",null,!0)),r.push(new rn("contentEncoding",null,!0)),r.push(new rn("contentLanguage",null,!0)),r.push(new rn("contentType",null,!0)),r.push(new rn("metadata","customMetadata",!0)),gc=r,gc}function ux(r,t){function i(){const s=r.bucket,l=r.fullPath,c=new An(s,l);return t._makeStorageReference(c)}Object.defineProperty(r,"ref",{get:i})}function cx(r,t,i){const s={};s.type="file";const l=i.length;for(let c=0;c<l;c++){const f=i[c];s[f.local]=f.xform(s,t[f.server])}return ux(s,r),s}function dT(r,t,i){const s=cT(t);return s===null?null:cx(r,s,i)}function hx(r,t,i,s){const l=cT(t);if(l===null||!Km(l.downloadTokens))return null;const c=l.downloadTokens;if(c.length===0)return null;const f=encodeURIComponent;return c.split(",").map(y=>{const E=r.bucket,S=r.fullPath,w="/b/"+f(E)+"/o/"+f(S),M=Xm(w,i,s),U=sT({alt:"media",token:y});return M+U})[0]}function fx(r,t){const i={},s=t.length;for(let l=0;l<s;l++){const c=t[l];c.writable&&(i[c.server]=r[c.local])}return JSON.stringify(i)}class mT{constructor(t,i,s,l){this.url=t,this.method=i,this.handler=s,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(r){if(!r)throw Qm()}function dx(r,t){function i(s,l){const c=dT(r,l,t);return pT(c!==null),c}return i}function mx(r,t){function i(s,l){const c=dT(r,l,t);return pT(c!==null),hx(c,l,r.host,r._protocol)}return i}function gT(r){function t(i,s){let l;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?l=CC():l=RC():i.getStatus()===402?l=wC(r.bucket):i.getStatus()===403?l=xC(r.path):l=s,l.status=i.getStatus(),l.serverResponse=s.serverResponse,l}return t}function px(r){const t=gT(r);function i(s,l){let c=t(s,l);return s.getStatus()===404&&(c=SC(r.path)),c.serverResponse=l.serverResponse,c}return i}function gx(r,t,i){const s=t.fullServerUrl(),l=Xm(s,r.host,r._protocol),c="GET",f=r.maxOperationRetryTime,m=new mT(l,c,mx(r,i),f);return m.errorHandler=px(t),m}function yx(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function _x(r,t,i){const s=Object.assign({},i);return s.fullPath=r.path,s.size=t.size(),s.contentType||(s.contentType=yx(null,t)),s}function vx(r,t,i,s,l){const c=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let W="";for(let ut=0;ut<2;ut++)W=W+Math.random().toString().slice(2);return W}const g=m();f["Content-Type"]="multipart/related; boundary="+g;const y=_x(t,s,l),E=fx(y,i),S="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,w=`\r
--`+g+"--",M=br.getBlob(S,s,w);if(M===null)throw MC();const U={name:y.fullPath},K=Xm(c,r.host,r._protocol),z="POST",H=r.maxUploadRetryTime,it=new mT(K,z,dx(r,i),H);return it.urlParams=U,it.headers=f,it.body=M.uploadData(),it.errorHandler=gT(t),it}class Ex{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ra.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ra.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ra.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,s,l){if(this.sent_)throw ao("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,t,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ao("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ao("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ao("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ao("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Tx extends Ex{initXhr(){this.xhr_.responseType="text"}}function yT(){return new Tx}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t,i){this._service=t,i instanceof An?this._location=i:this._location=An.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new Da(t,i)}get root(){const t=new An(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hT(this._location.path)}get storage(){return this._service}get parent(){const t=ax(this._location.path);if(t===null)return null;const i=new An(this._location.bucket,t);return new Da(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw LC(t)}}function Ax(r,t,i){r._throwIfRoot("uploadBytes");const s=vx(r.storage,r._location,fT(),new br(t,!0),i);return r.storage.makeRequestWithTokens(s,yT).then(l=>({metadata:l,ref:r}))}function bx(r){r._throwIfRoot("getDownloadURL");const t=gx(r.storage,r._location,fT());return r.storage.makeRequestWithTokens(t,yT).then(i=>{if(i===null)throw UC();return i})}function Sx(r,t){const i=sx(r._location.path,t),s=new An(r._location.bucket,i);return new Da(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(r){return/^[A-Za-z]+:\/\//.test(r)}function Rx(r,t){return new Da(r,t)}function _T(r,t){if(r instanceof $m){const i=r;if(i._bucket==null)throw VC();const s=new Da(i,i._bucket);return t!=null?_T(s,t):s}else return t!==void 0?Sx(r,t):r}function Cx(r,t){if(t&&wx(t)){if(r instanceof $m)return Rx(r,t);throw im("To use ref(service, url), the first argument must be a Storage instance.")}else return _T(r,t)}function Uv(r,t){const i=t==null?void 0:t[rT];return i==null?null:An.makeFromBucketSpec(i,r)}function xx(r,t,i,s={}){r.host=`${t}:${i}`,r._protocol="http";const{mockUserToken:l}=s;l&&(r._overrideAuthToken=typeof l=="string"?l:u0(l,r.app.options.projectId))}class $m{constructor(t,i,s,l,c){this.app=t,this._authProvider=i,this._appCheckProvider=s,this._url=l,this._firebaseVersion=c,this._bucket=null,this._host=iT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AC,this._maxUploadRetryTime=bC,this._requests=new Set,l!=null?this._bucket=An.makeFromBucketSpec(l,this._host):this._bucket=Uv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=An.makeFromBucketSpec(this._url,t):this._bucket=Uv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Mv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Mv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(p0(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Da(this,t)}_makeRequest(t,i,s,l,c=!0){if(this._deleted)return new jC(aT());{const f=XC(t,this._appId,s,l,i,this._firebaseVersion,c);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,i){const[s,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,s,l).getPromise()}}const Pv="@firebase/storage",Lv="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="storage";function Dx(r,t,i){return r=cn(r),Ax(r,t,i)}function Nx(r){return r=cn(r),bx(r)}function Ix(r,t){return r=cn(r),Cx(r,t)}function Ox(r=_0(),t){r=cn(r);const s=m0(r,vT).getImmediate({identifier:t}),l=l0("storage");return l&&Vx(s,...l),s}function Vx(r,t,i,s={}){xx(r,t,i,s)}function Mx(r,{instanceIdentifier:t}){const i=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new $m(i,s,l,t,g0)}function Ux(){vo(new Os(vT,Mx,"PUBLIC").setMultipleInstances(!0)),Cr(Pv,Lv,""),Cr(Pv,Lv,"esm2017")}Ux();const Px={apiKey:"AIzaSyBDHqeHNqMos7aNX7w-f6DnSkh8arcojQc",authDomain:"ecommerce-48526.firebaseapp.com",projectId:"ecommerce-48526",storageBucket:"ecommerce-48526.firebasestorage.app",messagingSenderId:"454692976914",appId:"1:454692976914:web:14bcfe973e74b79ecc1bcb"},ET=y0(Px),Ns=W2(ET),Lx=Ox(ET),Be=[];for(let r=0;r<256;++r)Be.push((r+256).toString(16).slice(1));function jx(r,t=0){return(Be[r[t+0]]+Be[r[t+1]]+Be[r[t+2]]+Be[r[t+3]]+"-"+Be[r[t+4]]+Be[r[t+5]]+"-"+Be[r[t+6]]+Be[r[t+7]]+"-"+Be[r[t+8]]+Be[r[t+9]]+"-"+Be[r[t+10]]+Be[r[t+11]]+Be[r[t+12]]+Be[r[t+13]]+Be[r[t+14]]+Be[r[t+15]]).toLowerCase()}let Nd;const kx=new Uint8Array(16);function zx(){if(!Nd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Nd=crypto.getRandomValues.bind(crypto)}return Nd(kx)}const Bx=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jv={randomUUID:Bx};function TT(r,t,i){var l;if(jv.randomUUID&&!r)return jv.randomUUID();r=r||{};const s=r.random??((l=r.rng)==null?void 0:l.call(r))??zx();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,jx(s)}function qx(){const r=Fc(),[t,i]=Y.useState({name:"",bio:"",payment:"card",delivery:[]}),s=c=>{const{name:f,value:m,type:g}=c.target;i(g==="checkbox"?y=>{const E=y.delivery.includes(m)?y.delivery.filter(S=>S!==m):[...y.delivery,m];return{...y,delivery:E}}:y=>({...y,[f]:m}))},l=async c=>{c.preventDefault();const f=TT();await pC(go(Ns,"stores",f),t),localStorage.setItem("storeId",f),r("/manage")};return A.jsxs(A.Fragment,{children:[A.jsx(Qc,{}),A.jsxs("div",{className:"container",children:[A.jsx("header",{className:"site-header",children:A.jsx("div",{className:"logo",children:"Name of Website"})}),A.jsxs("main",{children:[A.jsx("h1",{children:"Create your store"}),A.jsxs("form",{onSubmit:l,className:"form",children:[A.jsxs("section",{children:[A.jsx("h2",{children:"Store Details"}),A.jsxs("label",{children:["Store name",A.jsx("input",{type:"text",name:"name",value:t.name,onChange:s,required:!0})]}),A.jsxs("label",{children:["Store Bio",A.jsx("textarea",{name:"bio",value:t.bio,onChange:s})]})]}),A.jsxs("section",{children:[A.jsx("h2",{children:"Payment & Delivery"}),A.jsxs("label",{children:["Payment Method",A.jsxs("select",{name:"payment",value:t.payment,onChange:s,children:[A.jsx("option",{value:"card",children:"Card Only"}),A.jsx("option",{value:"cash",children:"Cash Only"}),A.jsx("option",{value:"cash&card",children:"Cash & Card"})]})]}),A.jsxs("div",{children:[A.jsxs("label",{children:[A.jsx("input",{type:"checkbox",name:"delivery",value:"pickup",checked:t.delivery.includes("pickup"),onChange:s})," Pick-up"]}),A.jsxs("label",{children:[A.jsx("input",{type:"checkbox",name:"delivery",value:"local",checked:t.delivery.includes("local"),onChange:s})," Local Delivery"]})]})]}),A.jsx("button",{type:"submit",className:"btn-primary",children:"Save & Continue"})]})]})]})]})}function Hx(){const r=Fc(),t=localStorage.getItem("storeId"),[i,s]=Y.useState({name:""}),[l,c]=Y.useState([]),[f,m]=Y.useState(""),[g,y]=Y.useState(!1),[E,S]=Y.useState(null);Y.useEffect(()=>{mC(go(Ns,"stores",t)).then(it=>s(it.data()));const H=cC(HE(Ns,"stores",t,"products"));return vC(H,it=>{c(it.docs.map(W=>({id:W.id,...W.data()})))})},[t]);const w=()=>y(!0),M=()=>{y(!1),S(null)},U=async()=>{E&&(await yC(go(Ns,"stores",t,"products",E)),M())},K=async H=>{const it=parseInt(window.prompt("Enter new stock quantity:"),10);if(!isNaN(it)){const W=go(Ns,"stores",t,"products",H);await gC(W,{stock:it,status:it>0?"Active":"Out of Stock"})}},z=l.filter(H=>H.name.toLowerCase().includes(f.toLowerCase())||H.category.toLowerCase().includes(f.toLowerCase()));return A.jsxs(A.Fragment,{children:[A.jsx(Qc,{}),A.jsxs("div",{className:"container",children:[A.jsxs("header",{className:"site-header",children:[A.jsx("div",{className:"logo",children:"Name of Website"}),A.jsx("nav",{children:A.jsx("span",{children:"Orders"})})]}),A.jsxs("main",{children:[A.jsxs("h1",{children:["Welcome to ",i.name]}),A.jsxs("div",{className:"toolbar",children:[A.jsx("input",{type:"search",placeholder:"Search products...",value:f,onChange:H=>m(H.target.value)}),A.jsx("button",{className:"btn-secondary",onClick:()=>r("/add-product"),children:"Add New Product"}),A.jsx("button",{className:"btn-delete",onClick:w,children:"Delete Product"})]}),A.jsxs("table",{className:"product-table",children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{children:"Image"}),A.jsx("th",{children:"Name"}),A.jsx("th",{children:"Category"}),A.jsx("th",{children:"Price"}),A.jsx("th",{children:"Stock"}),A.jsx("th",{children:"Status"}),A.jsx("th",{children:"Actions"})]})}),A.jsx("tbody",{children:z.length===0?A.jsx("tr",{children:A.jsx("td",{colSpan:"7",style:{textAlign:"center"},children:"No products match your search"})}):z.map(H=>A.jsxs("tr",{children:[A.jsx("td",{children:A.jsx("img",{src:H.imageUrl,alt:H.name,className:"img-placeholder"})}),A.jsx("td",{children:H.name}),A.jsx("td",{children:H.category}),A.jsx("td",{children:H.price}),A.jsx("td",{children:H.stock}),A.jsx("td",{children:A.jsx("span",{className:`status-pill ${H.status==="Out of Stock"?"out-of-stock":"active"}`,children:H.status})}),A.jsx("td",{children:A.jsx("button",{className:"btn-update",onClick:()=>K(H.id),children:"Update"})})]},H.id))})]}),g&&A.jsx("div",{className:"modal-overlay",children:A.jsxs("div",{className:"modal",children:[A.jsx("h2",{children:"Select Product to Delete"}),A.jsx("ul",{children:l.map(H=>A.jsx("li",{children:A.jsxs("label",{children:[A.jsx("input",{type:"radio",name:"delete",value:H.id,checked:E===H.id,onChange:()=>S(H.id)})," ",H.name]})},H.id))}),A.jsxs("div",{className:"modal-actions",children:[A.jsx("button",{className:"btn-delete",onClick:U,disabled:!E,children:"Confirm"}),A.jsx("button",{className:"btn-secondary",onClick:M,children:"Cancel"})]})]})})]})]})]})}function Fx(){const r=Fc(),t=localStorage.getItem("storeId"),[i,s]=Y.useState({imageFile:null,name:"",category:"",price:"",stock:""}),l=f=>{const{name:m,files:g,value:y}=f.target;s(m==="imageFile"?E=>({...E,imageFile:g[0]}):E=>({...E,[m]:y}))},c=async f=>{f.preventDefault();const m=TT(),g=Ix(Lx,`stores/${t}/products/${m}`);await Dx(g,i.imageFile);const y=await Nx(g);await _C(HE(Ns,"stores",t,"products"),{name:i.name,category:i.category,price:i.price,stock:parseInt(i.stock,10),status:"Active",imageUrl:y}),r("/manage")};return A.jsxs("div",{className:"container",children:[A.jsx("header",{className:"site-header",children:A.jsx("div",{className:"logo",children:"Name of Website"})}),A.jsxs("main",{children:[A.jsx("h1",{children:"Add New Product"}),A.jsxs("form",{onSubmit:c,className:"form",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"imageFile",children:"Product Image"}),A.jsx("input",{id:"imageFile",name:"imageFile",type:"file",accept:"image/*",onChange:l,required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"name",children:"Product Name"}),A.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:l,placeholder:"Enter product name",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"category",children:"Category"}),A.jsx("input",{type:"text",id:"category",name:"category",value:i.category,onChange:l,placeholder:"Enter product category",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"price",children:"Price"}),A.jsx("input",{type:"text",id:"price",name:"price",value:i.price,onChange:l,placeholder:"Enter price (e.g., R250)",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"stock",children:"Quantity"}),A.jsx("input",{type:"number",id:"stock",name:"stock",value:i.stock,onChange:l,placeholder:"Enter stock quantity",required:!0})]}),A.jsx("button",{type:"submit",className:"btn-primary",children:"Save Product"})]})]})]})}var AT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kv=wa.createContext&&wa.createContext(AT),Gx=["attr","size","title"];function Qx(r,t){if(r==null)return{};var i=Kx(r,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(i[s]=r[s])}return i}function Kx(r,t){if(r==null)return{};var i={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;i[s]=r[s]}return i}function Bc(){return Bc=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},Bc.apply(this,arguments)}function zv(r,t){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),i.push.apply(i,s)}return i}function qc(r){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?zv(Object(i),!0).forEach(function(s){Yx(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):zv(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}function Yx(r,t,i){return t=Xx(t),t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i,r}function Xx(r){var t=$x(r,"string");return typeof t=="symbol"?t:t+""}function $x(r,t){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function bT(r){return r&&r.map((t,i)=>wa.createElement(t.tag,qc({key:i},t.attr),bT(t.child)))}function Po(r){return t=>wa.createElement(Zx,Bc({attr:qc({},r.attr)},t),bT(r.child))}function Zx(r){var t=i=>{var{attr:s,size:l,title:c}=r,f=Qx(r,Gx),m=l||i.size||"1em",g;return i.className&&(g=i.className),r.className&&(g=(g?g+" ":"")+r.className),wa.createElement("svg",Bc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,f,{className:g,style:qc(qc({color:r.color||i.color},i.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&wa.createElement("title",null,c),r.children)};return kv!==void 0?wa.createElement(kv.Consumer,null,i=>t(i)):t(AT)}function Wx(r){return Po({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(r)}function Xe(r){return Po({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 0 0 .6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0 0 46.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"},child:[]}]})(r)}function Jx(r){return Po({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M922.9 701.9H327.4l29.9-60.9 496.8-.9c16.8 0 31.2-12 34.2-28.6l68.8-385.1c1.8-10.1-.9-20.5-7.5-28.4a34.99 34.99 0 0 0-26.6-12.5l-632-2.1-5.4-25.4c-3.4-16.2-18-28-34.6-28H96.5a35.3 35.3 0 1 0 0 70.6h125.9L246 312.8l58.1 281.3-74.8 122.1a34.96 34.96 0 0 0-3 36.8c6 11.9 18.1 19.4 31.5 19.4h62.8a102.43 102.43 0 0 0-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7h161.1a102.43 102.43 0 0 0-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7H923c19.4 0 35.3-15.8 35.3-35.3a35.42 35.42 0 0 0-35.4-35.2zM305.7 253l575.8 1.9-56.4 315.8-452.3.8L305.7 253zm96.9 612.7c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 0 1-31.6 31.6zm325.1 0c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 0 1-31.6 31.6z"},child:[]}]})(r)}function tD(r){return Po({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 0 0-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 0 0-80.4 119.5A373.6 373.6 0 0 0 137 888.8a8 8 0 0 0 8 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 0 0 8.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 0 1 340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 0 1 683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"},child:[]}]})(r)}const eD=({handleInputChange:r,query:t})=>A.jsxs("nav",{className:"nav-container",children:[A.jsxs("form",{role:"search",className:"search-form",children:[A.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search items"}),A.jsx("input",{id:"search",className:"search-input",type:"text",onChange:r,value:t,placeholder:"Search items."})]}),A.jsxs("ul",{className:"profile-container",role:"list",children:[A.jsx("li",{children:A.jsx("a",{href:"#","aria-label":"Favorites",children:A.jsx(Wx,{className:"nav-icons"})})}),A.jsx("li",{children:A.jsx("a",{href:"#","aria-label":"Cart",children:A.jsx(Jx,{className:"nav-icons"})})}),A.jsx("li",{children:A.jsx("a",{href:"#","aria-label":"User profile",children:A.jsx(tD,{className:"nav-icons"})})})]})]}),nD=({result:r})=>A.jsx(A.Fragment,{children:A.jsx("section",{className:"card-container",children:r})}),Bv=[{img:"https://images-na.ssl-images-amazon.com/images/I/71HqMrVQWKL._UL500_.jpg",title:"Mora Ceramic",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(58 reviews)",prevPrice:"R170,00",newPrice:"150",company:"Artful Home",color:"white",category:"Ceramics"},{img:"https://ponieskrantz.co.za/wp/wp-content/uploads/2022/04/PK_RimDinner_RimSide_Plate_Turq1-1.jpg",title:"Side Plate",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(23 reviews)",prevPrice:"R140,00",newPrice:"100",company:"Artful Home",color:"blue",category:"Ceramics"},{img:"https://www.foodandwine.com/thmb/uuSw-ImRer6sgeEzyzUWMA0_SPI=/fit-in/1300x0/filters:no_upscale():max_bytes(150000):strip_icc():format(webp)/faw-costa-nova-livia-ceramic-dinnerware-set-katie-brown-15-cd10e7d6642e4964924704f7cf59d794.jpeg",title:"Dinner Set",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(113 reviews)",prevPrice:"R350,00",newPrice:"200",company:"Artful Home",color:"pink",category:"Ceramics"},{img:"https://cdn.shopify.com/s/files/1/0024/4137/9915/files/beige-main-plates.jpg?v=1733780701&width=767&height=767&crop=center",title:"Main Plates",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(98 reviews)",prevPrice:"R240,00",newPrice:"200",company:"CraftCorner",color:"grey",category:"Ceramics"},{img:"https://thefoschini.vtexassets.com/arquivos/ids/174467977-1200-1600?v=638727023220370000&width=1200&height=1600&aspect=true",title:"Maxwell Coffee Mug",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(126 reviews)",prevPrice:"R65,00",newPrice:"50",company:"Artful Home",color:"black",category:"Ceramics"},{img:"https://thefoschini.vtexassets.com/arquivos/ids/179156324-1200-1600?v=638760056143230000&width=1200&height=1600&aspect=true",title:"Tokyo Coffee Mug",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(73 reviews)",prevPrice:"R40,00",newPrice:"50",company:"Artful Home",color:"blue",category:"Ceramics"},{img:"https://thefoschini.vtexassets.com/arquivos/ids/180110604-1200-1600?v=638766877613030000&width=1200&height=1600&aspect=true",title:"Ella Mug",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(33 reviews)",prevPrice:"R67,00",newPrice:"50",company:"CraftCorner",color:"white",category:"Ceramics"},{img:"https://www.africanfabric.co.uk/custom/library/F000030/afs-51374-jan-roberts-kuba-cushions-KGX91C-l.jpg",title:"Kuba Cushions",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(43 reviews)",prevPrice:"R170,00",newPrice:"150",company:"EcoCrafts",color:"black",category:"Textile"},{img:"https://www.argillapottery.co.za/wp-content/uploads/2024/12/coffee-mugs-green.png",title:"Sandtone Mug",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(23 reviews)",prevPrice:"R110,00",newPrice:"100",company:"CraftCorner",color:"green",category:"Ceramics"},{img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqXQk8muLUOarezPOAW187G3VbLS9AAeGzpw&s",title:"Beads Earrings",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(23 reviews)",prevPrice:"R75,00",newPrice:"50",company:"CraftCorner",color:"green",category:"Jewelry"},{img:"https://www.southafricanbracelets.com/cdn/shop/products/TRADITIONAL_COLORED_BEADED_NECKLACE-BLUE_grande_bd0c71f8-822b-4181-9641-c8e6c13d973b.jpg?v=1526674322",title:"Traditional Necklace",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(61 reviews)",prevPrice:"R115,00",newPrice:"100",company:"CraftCorner",color:"blue",category:"Jewelry"},{img:"https://hemingwaygallery.nyc/cdn/shop/files/Red_Yellow_Zulu_Beaded_Necklace_1.jpg?v=1739374602",title:"Traditional Necklace",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(61 reviews)",prevPrice:"R330,00",newPrice:"250",company:"CraftCorner",color:"red",category:"Jewelry"},{img:"https://thumbs.dreamstime.com/b/south-african-jewelry-necklace-earrings-handmade-africa-34919362.jpg",title:"Beads Necklace",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(56 reviews)",prevPrice:"R320,00",newPrice:"250",company:"EcoCrafts",color:"black",category:"Jewelry"},{img:"https://i0.wp.com/hojjati.com.au/wp-content/uploads/2024/03/Afghan-Handmade-Rug-Wool-Red-300X200-2.jpg?fit=1280%2C1278&ssl=1",title:"Handmade Rug",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(43 reviews)",prevPrice:"R150,00",newPrice:"100",company:"EcoCrafts",color:"red",category:"Textile"},{img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRs88AqgHfEtJ4i2YMfzKyZAy1CEmRZ5uCjIw&s",title:"Shweshwe Fabrics",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(43 reviews)",prevPrice:"R360,00",newPrice:"250",company:"CraftCorner",color:"blue",category:"Textile"},{img:"https://www.southafricanbracelets.com/cdn/shop/products/TRADITIONAL_COLORED_BEADED_NECKLACE-GREEN_grande_a7f048cf-2b99-4d52-9b87-5fcf2b2bb42a.jpg?v=1526676547",title:"Traditional Necklace",star:A.jsx(Xe,{className:"rating-star"}),reviews:"(45 reviews)",prevPrice:"R339,00",newPrice:"250",company:"EcoCrafts",color:"green",category:"Jewelry"}],so=({onClickHandler:r,value:t,title:i})=>A.jsx("button",{onClick:r,value:t,className:"btns",children:i}),iD=({handleClick:r})=>A.jsxs("section",{"aria-labelledby":"recommended-heading",className:"recommended-section",children:[A.jsx("h2",{id:"recommended-heading",className:"recommended-title",children:"Recommended"}),A.jsxs("ul",{className:"recommended-flex",children:[A.jsx("li",{children:A.jsx(so,{onClickHandler:r,value:"",title:"All Products"})}),A.jsx("li",{children:A.jsx(so,{onClickHandler:r,value:"Artful Home",title:"Artful Home"})}),A.jsx("li",{children:A.jsx(so,{onClickHandler:r,value:"CraftCorner",title:"CraftCorner"})}),A.jsx("li",{children:A.jsx(so,{onClickHandler:r,value:"EcoCrafts",title:"EcoCrafts"})}),A.jsx("li",{children:A.jsx(so,{onClickHandler:r,value:"WoodenWonders",title:"WoodenWonders"})})]})]}),En=({handleChange:r,value:t,title:i,name:s,color:l})=>A.jsxs("label",{className:"sidebar-label-container",children:[A.jsx("input",{onChange:r,type:"radio",value:t,name:s}),A.jsx("span",{className:"checkmark",style:{backgroundColor:l}}),i]});function rD({handleChange:r}){return A.jsxs("section",{className:"category-section","aria-labelledby":"category-heading",children:[A.jsx("h2",{id:"category-heading",className:"sidebar-title",children:"Category"}),A.jsxs("fieldset",{className:"category-options",children:[A.jsx("legend",{className:"sr-only",children:"Select an item category"}),A.jsxs("label",{className:"sidebar-label-container",children:[A.jsx("input",{onChange:r,type:"radio",value:"",name:"test"}),A.jsx("span",{className:"checkmark"}),"All"]}),A.jsx(En,{handleChange:r,value:"Ceramics",title:"Ceramics",name:"test"}),A.jsx(En,{handleChange:r,value:"Jewelry",title:"Jewelry",name:"test"}),A.jsx(En,{handleChange:r,value:"textile",title:"Textile",name:"test"}),A.jsx(En,{handleChange:r,value:"woodwork",title:"Woodwork",name:"test"})]})]})}const aD=({handleChange:r})=>A.jsxs("section",{className:"price-section ml","aria-labelledby":"price-heading",children:[A.jsx("h2",{id:"price-heading",className:"sidebar-title price-title",children:"Price"}),A.jsxs("fieldset",{className:"price-options",children:[A.jsx("legend",{className:"sr-only",children:"Select a price range"}),A.jsxs("label",{className:"sidebar-label-container",children:[A.jsx("input",{onChange:r,type:"radio",value:"",name:"test2"}),A.jsx("span",{className:"checkmark"}),"All"]}),A.jsx(En,{handleChange:r,value:50,title:"R0 - R50",name:"test2"}),A.jsx(En,{handleChange:r,value:100,title:"R50 - R100",name:"test2"}),A.jsx(En,{handleChange:r,value:150,title:"R100 - R150",name:"test2"}),A.jsx(En,{handleChange:r,value:200,title:"R150 - R200",name:"test2"}),A.jsx(En,{handleChange:r,value:250,title:"R200 - R250",name:"test2"})]})]}),sD=({handleChange:r})=>A.jsxs("section",{className:"colors-section","aria-labelledby":"colors-heading",children:[A.jsx("h2",{id:"colors-heading",className:"sidebar-title color-title",children:"Colors"}),A.jsxs("fieldset",{className:"color-options",children:[A.jsx("legend",{className:"sr-only",children:"Select a color"}),A.jsxs("label",{className:"sidebar-label-container",children:[A.jsx("input",{onChange:r,type:"radio",value:"",name:"test1"}),A.jsx("span",{className:"checkmark all"}),"All"]}),A.jsx(En,{handleChange:r,value:"black",title:"Black",name:"test1",color:"black"}),A.jsx(En,{handleChange:r,value:"blue",title:"Blue",name:"test1",color:"blue"}),A.jsx(En,{handleChange:r,value:"red",title:"Red",name:"test1",color:"red"}),A.jsx(En,{handleChange:r,value:"green",title:"Green",name:"test1",color:"green"}),A.jsxs("label",{className:"sidebar-label-container",children:[A.jsx("input",{onChange:r,type:"radio",value:"white",name:"test1"}),A.jsx("span",{className:"checkmark",style:{background:"white",border:"2px solid black"}}),"White"]})]})]}),lD=({handleChange:r})=>A.jsxs("aside",{className:"sidebar","aria-label":"Product Filters",children:[A.jsx("header",{className:"logo-container",children:A.jsx("h1",{"aria-label":"Shop Logo",children:"🛒"})}),A.jsx(rD,{handleChange:r}),A.jsx(aD,{handleChange:r}),A.jsx(sD,{handleChange:r})]});function oD(r){return Po({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1m3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4z"},child:[]}]})(r)}const uD=({img:r,title:t,star:i,reviews:s,prevPrice:l,newPrice:c})=>A.jsxs("article",{className:"card",children:[A.jsxs("figure",{children:[A.jsx("img",{src:r,alt:t,className:"card-img"}),A.jsx("figcaption",{className:"sr-only",children:t})]}),A.jsxs("header",{className:"card-details",children:[A.jsx("h3",{className:"card-title",children:t}),A.jsxs("section",{className:"card-reviews","aria-label":"Product reviews",children:[i," ",i," ",i," ",i,A.jsx("span",{className:"total-reviews",children:s})]})]}),A.jsxs("footer",{className:"card-price",children:[A.jsxs("span",{className:"price",children:[A.jsx("del",{children:l})," ",c]}),A.jsx("button",{className:"bag","aria-label":"Add to cart",children:A.jsx(oD,{className:"bag-icon"})})]})]});function cD(){const[r,t]=Y.useState(null),[i,s]=Y.useState(""),l=E=>{s(E.target.value)},c=Bv.filter(E=>E.title.toLowerCase().indexOf(i.toLowerCase())!==-1),f=E=>{t(E.target.value)},m=E=>{t(E.target.value)};function g(E,S,w){let M=E;return w&&(M=c),S&&(M=M.filter(({category:U,color:K,company:z,newPrice:H,title:it})=>U===S||K===S||z===S||H===S||it===S)),M.map(({img:U,title:K,star:z,reviews:H,prevPrice:it,newPrice:W})=>A.jsx(uD,{img:U,title:K,star:z,reviews:H,prevPrice:it,newPrice:W},Math.random()))}const y=g(Bv,r,i);return A.jsxs(A.Fragment,{children:[A.jsx(lD,{handleChange:f}),A.jsx(eD,{query:i,handleInputChange:l}),A.jsx(iD,{handleClick:m}),A.jsx(nD,{result:y})]})}function hD(){return A.jsxs(YA,{children:[A.jsx(Ar,{path:"/",element:A.jsx(qx,{})}),A.jsx(Ar,{path:"/sellerOrders",element:A.jsx(Nb,{})}),A.jsx(Ar,{path:"/buyerOrders",element:A.jsx(Db,{})}),A.jsx(Ar,{path:"/manage",element:A.jsx(Hx,{})}),A.jsx(Ar,{path:"/add-product",element:A.jsx(Fx,{})}),A.jsx(Ar,{path:"/buyer",element:A.jsx(cD,{})}),A.jsx(Ar,{path:"/about",element:A.jsx(Ib,{})})]})}rA.createRoot(document.getElementById("root")).render(A.jsx(_b,{children:A.jsx(hD,{})}));
